---
title: "Instagram接続の廃止"
permalink: "instagram-connection-deprecation"
'description': "InstagramのAuthentication API廃止に伴う変更についてご説明します。"
'og:title': "Instagram接続の廃止"
'og:description': "InstagramのAuthentication API廃止に伴う変更についてご説明します。"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Instagram接続の廃止"
'twitter:description': "InstagramのAuthentication API廃止に伴う変更についてご説明します。"
---

Facebookは、2020年3月31日をもってInstagramのレガシーAPIを停止し、一連の新たなAPIを導入しました。

* [Instagram Graph API](https://developers.facebook.com/docs/instagram-api)：Instagramのプロアカウント用に設計されたAPIで、エンドユーザーの認証用ではありません。
* [Instagram Basic Display API](https://developers.facebook.com/docs/instagram-basic-display-api)：OAuth2 APIで、Instagramアカウントの基本データへのアクセスをサードパーティアプリに付与します。

Facebookは、認証用にFacebookログインを実装することをアプリケーションに義務づけています。認証にInstagram Basic Display APIを使用するアプリケーションは、Facebookに承認されません。

## アクション

既存ユーザーが引き続きアプリケーションにアクセスできるよう、Instagramを使って認証しているユーザーに別の方法で認証するよう求め、アカウントリンクを使って新しいIDと古いIDをリンクさせる必要があります。

フローの例

* ユーザーがInstagramで認証します。
* アプリケーションがユーザーに、Instagramを使った認証ができなくなるため、別の方法で認証する必要があることを伝えます。
* アプリケーションが、認証に使える方法を、たとえば次のように提示します。

  + Facebook
  + ユーザー名とパスワード
* 別の方法でユーザーが認証を終えたら、アカウントリンクを使用してアカウントをリンクします。

現在の実装を置き換え、[Instagram Basic Display OAuthフロー](https://developers.facebook.com/docs/instagram-basic-display-api/guides/getting-access-tokens-and-permissions)を使用することは当社ではできるのですが、この方法はFacebookの方針で認められていません。したがって、FacebookでInstagramアプリケーションを作成する必要があり、そのアプリ内で次のような通知が表示されます。

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Basic Display（基本表示）は認証ツールではありません。APIから返されたデータを、アプリユーザーの認証やアプリへのユーザーログインに使用することはできません。アプリがAPIデータを使用してユーザーを認証する場合、App Review（アプリ審査）の際に却下されます。認証ソリューションが必要なときは、Facebookログインを使用してください。

</Callout>

つまり、Auth0がこのフローを実装したとしても、InstagramアプリケーションはFacebookによって承認されません。

Instagramデータにアクセスする必要がある場合は、別の方法でユーザーを認証し（たとえば、Facebookログインや、ユーザー名とパスワードを使用）、Instagram <Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/ja-jp/glossary?term=oath2" tip="OAuth 2.0: 認可プロトコルとワークフローを定義する認可フレームワーク。" cta="用語集の表示">OAuth</Tooltip>フローをアプリケーションに実装します。