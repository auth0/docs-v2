---
title: "Node 12および16からNode 18への移行"
permalink: "migrate-nodejs-16-to-nodejs-18"
'description': "Node.js v12、16からNode.js v18への移行で影響を受けるAuth0 Actionsアイテムについて説明します。"
'og:title': "Node 12および16からNode 18への移行"
'og:description': "Node.js v12、16からNode.js v18への移行で影響を受けるAuth0 Actionsアイテムについて説明します。"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Node 12および16からNode 18への移行"
'twitter:description': "Node.js v12、16からNode.js v18への移行で影響を受けるAuth0 Actionsアイテムについて説明します。"
---

Node.js 12および16の長期サポート（LTS）は、2023年に終了しました。つまり、Node.js開発チームが、重要なセキュリティ修正をこれらのバージョンにバックポートしないことを意味します。Node 12または16のランタイムで実行することは、拡張コードをセキュリティ脆弱性にさらす可能性があります。

Node 18の拡張ランタイムは、弊社の一連の拡張オファリングにおいて、一般利用可能（GA）です。これにはアクション、ルール、フック、データベーススクリプト、カスタムソーシャル接続が含まれます。コードセキュリティのベストプラクティスに従うために、できるだけ早くNode 18にアップデートすることを強くお勧めします。

## 一般的な考慮事項

### RulesおよびHooksをActionsに移行する

廃止された拡張ランタイムを使用している場合は、（Node 18）Actionsに移行する機会として、RulesおよびHooksの実装を確認することをお勧めします。[Actionsの制限](/ja-jp/customize/actions/limitations)を確認して、Actionsに移行できるRulesおよびHooksを判断してください。RulesおよびHooksをActionsに移行する方法については、「[Actionsへの移行](/ja-jp/customize/actions/migrate)」をご覧ください。

### Marketplaceの統合

#### ソーシャル接続の統合

Nodeランタイムバージョンの変更が影響を与える可能性があるソーシャル接続の全リストを確認するには、[Management API](/ja-jp/api/management/v2)を使用します。特に、カスタムソーシャル接続として明示的に作成されたものか、Marketplaceを通して最初に追加されたものかを問わず、影響を受ける可能性があるソーシャル接続はすべて、`oauth1`か`oauth2`のいずれかの値の`strategy`属性を持ちます。

`GET`接続<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/ja-jp/glossary?term=management-api" tip="Management API: 顧客が管理タスクを実行できるようにするための製品。" cta="用語集の表示">Management API</Tooltip>エンドポイントを使用して、ある特定のテナント内での既存のカスタムソーシャル接続すべてをページネーションできます。たとえば、以下のクエリオプションは、最大100のカスタムソーシャル接続の名前と識別子を返します。

``` lines
/api/v2/connections?strategy=oauth1&strategy=oauth2&include_totals=true&fields=name&per_page=100
```

<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/ja-jp/glossary?term=auth0-dashboard" tip="Auth0 Dashboard: サービスを構成するためのAuth0の主製品。" cta="用語集の表示">Auth0 Dashboard</Tooltip>は、Marketplaceを通して追加されたカスタムソーシャル接続のスクリプトの更新を許可しません。スクリプトの変更がNode 18との互換性を必要とする場合は、Management APIを使用する必要があります。

## 移行タスク

### 新しいカスタムActionsを作成する

Auth0 Dashboardを通してNode 18で新しいカスタムActionsを作成するには、

1. [［Auth0 Dashboard］>［Actions（アクション）］>［Library（ライブラリー）］](https://manage.auth0.com/#/dashboard/actions/library)に移動します。
2. **［Create Action（Actionを作成）］>［Build from scratch（初めから構築する）］** の順に選択します。
3. **［Runtime\*（ランタイム）］** フィールドで、**Node 18 (Recommended)（Node 18（推奨））** を選択します。
4. Node 18にカスタムActionsを記述し、テストして、準備が完了したらデプロイします。

### 既存のカスタムActionsをアップグレード

Node 12または16で構築された既存のカスタムActionsをNode 18に個々にアップグレードでき、また古いランタイムを使用して[前のバージョンに戻す](/ja-jp/customize/actions/manage-versions#revert-actions)ことができます。ActionsをNode 18にアップグレードするには、必要な変更を加えて、ランタイムでNode 18が使用されるように設定して、既存の実装の新しいバージョンを作成してデプロイします。

### 他の拡張製品のためにNode 18を選択する

残りの（Actions以外の）拡張オファリングに使用されるランタイムは、テナントの詳細設定レベルでグローバルに定義されます。この設定を変更すると、同時に以下の機能性に影響を及ぼします。

* ルール
* フック
* カスタムデータベースのスクリプト
* カスタムソーシャル接続のスクリプト

Auth0 Dashboardでテナントの拡張ランタイム設定を変更するには、

1. **［Dashboard］>［Settings（設定）］>［Advanced（詳細設定）］** に移動します。
2. **［Extensibility（拡張）］** セクションにスクロールします。
3. **［Runtime（ランタイム）］** で、**Node 18** を選択します。

これが複数の拡張機能に同時に影響を与えるグローバル設定の場合、最初に開発テナントでこのステップを実施し、該当するすべての拡張機能のテストを完了し、開発で問題がみられない場合のみ、運用テナントに進むことをお勧めします。

Node 12拡張ランタイムは、拡張コードで明示的に要求することなく特定の`npm`モジュールを使用することをサポートしています。Node 16ランタイムから、弊社は、以下のモジュールのこの種類の使用法に対するサポートを終了しました。

## 既知の破壊的変更

### マジックnpmモジュール

まだNode 12で実行している拡張がある場合、コードをNode 18に直接アップデートする時には、上記を考慮してください。モジュールを使用する前に、明示的に要求されていることを必ず確認してください。

* _
* async
* Auth0
* azure_storage
* bcrypt
* crypto
* couchbase
* cql
* ip
* <Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/ja-jp/glossary?term=json-web-token" tip="JSON Web Token（JWT）: 二者間のクレームを安全に表現するために使用される標準IDトークン形式（および多くの場合、アクセストークン形式）。" cta="用語集の表示">jwt</Tooltip>
* Knex
* mongo
* mysql
* mysql_pool
* ObjectID
* pbkdf2
* pg
* postgres
* Pubnub
* q
* querystring
* sqlserver
* uuid
* xml2js
* xmldom
* xpath
* xtend

Rules、カスタムデータベース接続、カスタムソーシャル接続においては、[Node 18に利用可能だと記載されている](https://auth0-extensions.github.io/canirequire/)モジュールのバージョンを明示的に要求する必要があります。

HooksおよびActionsにおいては、モジュールを要求する前に、明示的な依存関係として意図された対象バージョンを追加する必要があります。

[Can I Require](https://auth0-extensions.github.io/canirequire/)のNode 18ランタイムについて以下にリストした特定のバージョンのモジュールに対するサポートを終了しました。この変更は、Rules、カスタムデータベース接続スクリプト、カスタムソーシャル接続スクリプトに関連する拡張コードに影響を与えます。

### Can I Requireモジュールバージョンの削除

<Warning>

次のカスタムソーシャル接続（[Indeed](https://marketplace.auth0.com/integrations/indeed-social-connection)、[monday.com](https://marketplace.auth0.com/integrations/monday-com-monday-com-social-connection)、[Snapchat](https://marketplace.auth0.com/integrations/snapchat-social-connection)、および[Tumblr](https://marketplace.auth0.com/integrations/tumblr-social-connection)）のユーザープロファイルの取得スクリプトは、Marketplaceで利用可能で、`0.22.0`バージョンの`axios`モジュールを使用していましたが、Node 18では利用できません。これらの接続のいずれかを使用する場合は、必要に応じて[Management API](/ja-jp/api/management/v2)を通じてそのスクリプトを確認し、更新してください。

</Warning>

<table class="table"><thead>
<tr>
<th>モジュール</th>
<th>バージョン</th>
</tr>
</thead>
<tbody>
<tr>
<td>@analytics/google-analytics</td>
<td>0.4.0</td>
</tr>
<tr>
<td>@auth0/hapi</td>
<td>13.5.1, 13.6.0</td>
</tr>
<tr>
<td>@auth0/rule-utilities</td>
<td>0.1.0</td>
</tr>
<tr>
<td>@gitbeaker/node</td>
<td>17.0.1</td>
</tr>
<tr>
<td>@incognia/api</td>
<td>1.0.0</td>
</tr>
<tr>
<td>@octokit/rest</td>
<td>15.8.2</td>
</tr>
<tr>
<td>@sentry/node</td>
<td>5.6.2, 5.15.5, 6.2.0</td>
</tr>
<tr>
<td>acorn</td>
<td>1.2.2</td>
</tr>
<tr>
<td>airbrake</td>
<td>1.0.2</td>
</tr>
<tr>
<td>airgram</td>
<td>3.1.1</td>
</tr>
<tr>
<td>ajv</td>
<td>6.10.1</td>
</tr>
<tr>
<td>amazon-dax-client</td>
<td>1.2.2</td>
</tr>
<tr>
<td>amazon-mws-node</td>
<td>1.0.3</td>
</tr>
<tr>
<td>analytics</td>
<td>0.5.1</td>
</tr>
<tr>
<td>analytics-node</td>
<td>2.0.1, 3.5.0</td>
</tr>
<tr>
<td>applicationinsights</td>
<td>0.15.8, 0.18.0, 1.5.0, 1.8.8</td>
</tr>
<tr>
<td>async</td>
<td>1.0.0, 0.9.0, 2.1.2, 2.6.1</td>
</tr>
<tr>
<td>auth0</td>
<td>2.4.0, 2.1.0, 2.0.0, 0.8.2, 2.6.0, 2.7.0, 2.8.0, 2.9.1, 2.13.0, 2.17.0, 2.17.1, 2.19.0, 2.23.0, 2.27.0, 2.27.1, 2.30.0, 2.31.0, 2.32.0, 2.34.2, 2.35.0, 2.36.1, 2.36.2, 2.39.0, 3.0.1</td>
</tr>
<tr>
<td>auth0-authz-rules-api</td>
<td>4.0.0</td>
</tr>
<tr>
<td>auth0-ext-template-renderers</td>
<td>0.4.2</td>
</tr>
<tr>
<td>auth0-extension-express-tools</td>
<td>1.0.2, 1.1.5, 1.1.6, 2.0.0</td>
</tr>
<tr>
<td>auth0-extension-hapi-tools</td>
<td>1.0.0, 1.1.0, 1.2.0, 1.2.1, 1.2.2, 1.3.0</td>
</tr>
<tr>
<td>auth0-extension-tools</td>
<td>1.0.0, 1.2.1, 1.3.1, 1.3.2, 1.4.0</td>
</tr>
<tr>
<td>auth0-magic</td>
<td>3.1.0</td>
</tr>
<tr>
<td>auth0-oauth2-express</td>
<td>0.0.1, 0.0.3, 1.1.5</td>
</tr>
<tr>
<td>auth0-source-control-extension-tools</td>
<td>3.0.10, 3.0.9, 3.1.4, 3.4.0, 3.5.1, 4.0.3, 4.0.5, 4.0.6, 4.0.7, 4.1.1, 4.1.2, 4.1.3, 4.1.5, 4.1.7, 4.1.9</td>
</tr>
<tr>
<td>aws-sdk</td>
<td>2.2.30, 2.1.31, 2.1.13, 2.4.13, 2.5.3, 2.197.0, 2.291.0, 2.458.0, 2.593.0</td>
</tr>
<tr>
<td>axios</td>
<td>0.15.2, 0.18.0, 0.19.2, 0.21.1, 0.21.3, 0.22.0, 0.27.2</td>
</tr>
<tr>
<td>azure</td>
<td>0.10.6</td>
</tr>
<tr>
<td>azure-storage</td>
<td>0.4.4, 0.4.1, 0.9.0</td>
</tr>
<tr>
<td>babel</td>
<td>5.4.7, 5.1.9</td>
</tr>
<tr>
<td>bcrypt</td>
<td>4.0.0</td>
</tr>
<tr>
<td>bluebird</td>
<td>2.9.26, 3.4.6</td>
</tr>
<tr>
<td>body-parser</td>
<td>1.12.4</td>
</tr>
<tr>
<td>boom</td>
<td>2.7.2</td>
</tr>
<tr>
<td>botbuilder</td>
<td>0.9.0</td>
</tr>
<tr>
<td>bson</td>
<td>0.3.2, 4.4.0</td>
</tr>
<tr>
<td>cookie-parser</td>
<td>1.3.5</td>
</tr>
<tr>
<td>datadog-metrics</td>
<td>0.8.2, 0.9.0, 0.9.2, 0.9.3</td>
</tr>
<tr>
<td>disposable-email-domains</td>
<td>1.0.14, 1.0.15, 1.0.56</td>
</tr>
<tr>
<td>dockerode</td>
<td>2.1.4, 2.0.3</td>
</tr>
<tr>
<td>dotenv</td>
<td>0.4.0, 2.0.0</td>
</tr>
<tr>
<td>easy-pbkdf2</td>
<td>0.0.2</td>
</tr>
<tr>
<td>ejs</td>
<td>2.3.1</td>
</tr>
<tr>
<td>engine.io-client</td>
<td>1.5.1</td>
</tr>
<tr>
<td>express</td>
<td>4.12.4, 4.14.0, 4.16.3</td>
</tr>
<tr>
<td>express-jwt</td>
<td>3.1.0, 5.1.0</td>
</tr>
<tr>
<td>faunadb</td>
<td>2.11.1, 4.1.1</td>
</tr>
<tr>
<td>filter-object</td>
<td>2.1.0</td>
</tr>
<tr>
<td>firebase</td>
<td>7.12.0</td>
</tr>
<tr>
<td>firebase-admin</td>
<td>4.0.4, 5.0.0, 6.0.0, 8.0.0, 8.12.1</td>
</tr>
<tr>
<td>form-data</td>
<td>0.2.0</td>
</tr>
<tr>
<td>getstream</td>
<td>3.4.1</td>
</tr>
<tr>
<td>gitlab</td>
<td>1.7.0</td>
</tr>
<tr>
<td>google-auth-library</td>
<td>1.0.0</td>
</tr>
<tr>
<td>google-libphonenumber</td>
<td>2.0.7, 3.2.8, 3.2.10</td>
</tr>
<tr>
<td>googleapis</td>
<td>2.1.6, 34.0.0</td>
</tr>
<tr>
<td>got</td>
<td>3.2.0, 9.2.1, 10.7.0, 11.3.0, 11.5.2</td>
</tr>
<tr>
<td>hapi</td>
<td>13.5.0</td>
</tr>
<tr>
<td>hapi-auth-jwt2</td>
<td>7.0.1</td>
</tr>
<tr>
<td>hapi-swagger</td>
<td>7.4.0</td>
</tr>
<tr>
<td>hoek</td>
<td>2.14.0</td>
</tr>
<tr>
<td>http-proxy</td>
<td>1.11.1</td>
</tr>
<tr>
<td>ibm_db</td>
<td>2.6.4</td>
</tr>
<tr>
<td>ip</td>
<td>0.3.2, 0.0.1</td>
</tr>
<tr>
<td>ipaddr.js</td>
<td>1.0.1</td>
</tr>
<tr>
<td>joi</td>
<td>6.10.1</td>
</tr>
<tr>
<td>jose</td>
<td>3.19.0</td>
</tr>
<tr>
<td>jsforce</td>
<td>1.6.0</td>
</tr>
<tr>
<td>jsonwebtoken</td>
<td>5.7.0, 5.0.1, 5.0.0, 7.1.9, 8.5.0</td>
</tr>
<tr>
<td>jwks-rsa</td>
<td>1.0.0, 1.1.1, 1.6.0</td>
</tr>
<tr>
<td>ldapjs</td>
<td>1.0.0</td>
</tr>
<tr>
<td>lodash</td>
<td>3.10.1, 3.9.3, 2.4.1, 4.8.2, 4.17.10, 4.17.19</td>
</tr>
<tr>
<td>lru-cache</td>
<td>2.6.4</td>
</tr>
<tr>
<td>mixpanel</td>
<td>0.4.0</td>
</tr>
<tr>
<td>mkdirp</td>
<td>0.5.1</td>
</tr>
<tr>
<td>moment</td>
<td>2.10.3, 2.11.2</td>
</tr>
<tr>
<td>mongodb</td>
<td>2.0.48, 2.0.33, 2.0.27, 2.2.11, 3.1.4, 4.1.0, 3.6.10, 3.5.11</td>
</tr>
<tr>
<td>mongoose</td>
<td>4.1.6</td>
</tr>
<tr>
<td>morgan</td>
<td>1.5.3</td>
</tr>
<tr>
<td>mysql</td>
<td>2.7.0, 2.6.2, 2.0.0-alpha8, 2.15.0</td>
</tr>
<tr>
<td>mysql2</td>
<td>1.5.3</td>
</tr>
<tr>
<td>nano</td>
<td>6.2.0</td>
</tr>
<tr>
<td>neo4j-driver</td>
<td>1.7.1</td>
</tr>
<tr>
<td>node-fetch</td>
<td>2.6.0</td>
</tr>
<tr>
<td>node-jose</td>
<td>0.9.2</td>
</tr>
<tr>
<td>node-rdkafka</td>
<td>2.10.1</td>
</tr>
<tr>
<td>nodemailer</td>
<td>2.5.0</td>
</tr>
<tr>
<td>nsp</td>
<td>2.4.0</td>
</tr>
<tr>
<td>oauth</td>
<td>0.9.12</td>
</tr>
<tr>
<td>passport-wsfed-saml2</td>
<td>2.11.4</td>
</tr>
<tr>
<td>pg</td>
<td>4.5.7, 4.3.0, 4.1.1, 6.1.2, 7.17.1</td>
</tr>
<tr>
<td>postmark</td>
<td>1.3.1</td>
</tr>
<tr>
<td>q</td>
<td>1.0.1</td>
</tr>
<tr>
<td>qs</td>
<td>3.1.0</td>
</tr>
<tr>
<td>ramda</td>
<td>0.18.0, 0.23.0</td>
</tr>
<tr>
<td>range_check</td>
<td>0.0.1</td>
</tr>
<tr>
<td>raw-body</td>
<td>2.1.0</td>
</tr>
<tr>
<td>react</td>
<td>15.3.2</td>
</tr>
<tr>
<td>redis</td>
<td>0.12.1</td>
</tr>
<tr>
<td>request</td>
<td>2.56.0, 2.55.0, 2.27.0, 2.67.0, 2.73.0, 2.75.0, 2.81.0, 2.83.0, 2.88.0</td>
</tr>
<tr>
<td>rethinkdb</td>
<td>2.1.1, 2.0.0-1, 2.0.0</td>
</tr>
<tr>
<td>rollbar</td>
<td>0.6.2, 2.12.2</td>
</tr>
<tr>
<td>semver</td>
<td>4.3.4</td>
</tr>
<tr>
<td>sendgrid</td>
<td>1.8.0, 3.0.7</td>
</tr>
<tr>
<td>sequelize</td>
<td>3.1.1</td>
</tr>
<tr>
<td>soap</td>
<td>0.23.0</td>
</tr>
<tr>
<td>socket.io</td>
<td>1.3.5</td>
</tr>
<tr>
<td>socket.io-client</td>
<td>1.3.5</td>
</tr>
<tr>
<td>splunk-bunyan-logger</td>
<td>0.9.1</td>
</tr>
<tr>
<td>ssh2</td>
<td>0.4.13</td>
</tr>
<tr>
<td>stamplay</td>
<td>1.0.6, 1.0.5, 1.0.3</td>
</tr>
<tr>
<td>stripe</td>
<td>3.3.4, 4.14.0, 4.24.0, 7.1.0, 7.4.0, 8.52.0</td>
</tr>
<tr>
<td>sumo-logger</td>
<td>1.5.5</td>
</tr>
<tr>
<td>superagent</td>
<td>1.2.0, 3.8.3, 4.1.0</td>
</tr>
<tr>
<td>tedious</td>
<td>6.6.2, 1.11.0, 0.1.4, 8.3.1, 9.2.1</td>
</tr>
<tr>
<td>tough-cookie</td>
<td>1.2.0</td>
</tr>
<tr>
<td>twilio</td>
<td>2.2.1, 3.6.0, 3.57.0</td>
</tr>
<tr>
<td>twit</td>
<td>1.1.20</td>
</tr>
<tr>
<td>uuid</td>
<td>2.0.3, 2.0.1, 3.1.0, 3.3.2, 7.0.3, 8.0.0</td>
</tr>
<tr>
<td>vso-node-api</td>
<td>3.1.1</td>
</tr>
<tr>
<td>watson-developer-cloud</td>
<td>2.0.1</td>
</tr>
<tr>
<td>winston</td>
<td>1.0.0, 0.8.1, 3.1.0</td>
</tr>
<tr>
<td>xml2js</td>
<td>0.4.8, 0.2.8</td>
</tr>
<tr>
<td>xmlbuilder</td>
<td>2.6.4</td>
</tr>
<tr>
<td>xmldom</td>
<td>0.1.19, 0.1.13</td>
</tr>
<tr>
<td>xpath</td>
<td>0.0.5</td>
</tr>
<tr>
<td>xtend</td>
<td>1.0.3</td>
</tr>
</tbody>
</table>

<table class="table"><thead>
<tr>
<th>モジュール</th>
<th>バージョン</th>
</tr>
</thead>
<tbody>
<tr>
<td>@analytics/google-analytics</td>
<td>0.4.0</td>
</tr>
<tr>
<td>@auth0/hapi</td>
<td>13.5.1, 13.6.0</td>
</tr>
<tr>
<td>@auth0/rule-utilities</td>
<td>0.1.0</td>
</tr>
<tr>
<td>@gitbeaker/node</td>
<td>17.0.1</td>
</tr>
<tr>
<td>@incognia/api</td>
<td>1.0.0</td>
</tr>
<tr>
<td>@octokit/rest</td>
<td>15.8.2</td>
</tr>
<tr>
<td>@sentry/node</td>
<td>5.6.2, 5.15.5, 6.2.0</td>
</tr>
<tr>
<td>acorn</td>
<td>1.2.2</td>
</tr>
<tr>
<td>airbrake</td>
<td>1.0.2</td>
</tr>
<tr>
<td>airgram</td>
<td>3.1.1</td>
</tr>
<tr>
<td>ajv</td>
<td>6.10.1</td>
</tr>
<tr>
<td>amazon-dax-client</td>
<td>1.2.2</td>
</tr>
<tr>
<td>amazon-mws-node</td>
<td>1.0.3</td>
</tr>
<tr>
<td>analytics</td>
<td>0.5.1</td>
</tr>
<tr>
<td>analytics-node</td>
<td>2.0.1, 3.5.0</td>
</tr>
<tr>
<td>applicationinsights</td>
<td>0.15.8, 0.18.0, 1.5.0, 1.8.8</td>
</tr>
<tr>
<td>async</td>
<td>1.0.0, 0.9.0, 2.1.2, 2.6.1</td>
</tr>
<tr>
<td>auth0</td>
<td>2.4.0, 2.1.0, 2.0.0, 0.8.2, 2.6.0, 2.7.0, 2.8.0, 2.9.1, 2.13.0, 2.17.0, 2.17.1, 2.19.0, 2.23.0, 2.27.0, 2.27.1, 2.30.0, 2.31.0, 2.32.0, 2.34.2, 2.35.0, 2.36.1, 2.36.2, 2.39.0, 3.0.1</td>
</tr>
<tr>
<td>auth0-authz-rules-api</td>
<td>4.0.0</td>
</tr>
<tr>
<td>auth0-ext-template-renderers</td>
<td>0.4.2</td>
</tr>
<tr>
<td>auth0-extension-express-tools</td>
<td>1.0.2, 1.1.5, 1.1.6, 2.0.0</td>
</tr>
<tr>
<td>auth0-extension-hapi-tools</td>
<td>1.0.0, 1.1.0, 1.2.0, 1.2.1, 1.2.2, 1.3.0</td>
</tr>
<tr>
<td>auth0-extension-tools</td>
<td>1.0.0, 1.2.1, 1.3.1, 1.3.2, 1.4.0</td>
</tr>
<tr>
<td>auth0-magic</td>
<td>3.1.0</td>
</tr>
<tr>
<td>auth0-oauth2-express</td>
<td>0.0.1, 0.0.3, 1.1.5</td>
</tr>
<tr>
<td>auth0-source-control-extension-tools</td>
<td>3.0.10, 3.0.9, 3.1.4, 3.4.0, 3.5.1, 4.0.3, 4.0.5, 4.0.6, 4.0.7, 4.1.1, 4.1.2, 4.1.3, 4.1.5, 4.1.7, 4.1.9</td>
</tr>
<tr>
<td>aws-sdk</td>
<td>2.2.30, 2.1.31, 2.1.13, 2.4.13, 2.5.3, 2.197.0, 2.291.0, 2.458.0, 2.593.0</td>
</tr>
<tr>
<td>axios</td>
<td>0.15.2, 0.18.0, 0.19.2, 0.21.1, 0.21.3, 0.22.0, 0.27.2</td>
</tr>
<tr>
<td>azure</td>
<td>0.10.6</td>
</tr>
<tr>
<td>azure-storage</td>
<td>0.4.4, 0.4.1, 0.9.0</td>
</tr>
<tr>
<td>babel</td>
<td>5.4.7, 5.1.9</td>
</tr>
<tr>
<td>bcrypt</td>
<td>4.0.0</td>
</tr>
<tr>
<td>bluebird</td>
<td>2.9.26, 3.4.6</td>
</tr>
<tr>
<td>body-parser</td>
<td>1.12.4</td>
</tr>
<tr>
<td>boom</td>
<td>2.7.2</td>
</tr>
<tr>
<td>botbuilder</td>
<td>0.9.0</td>
</tr>
<tr>
<td>bson</td>
<td>0.3.2, 4.4.0</td>
</tr>
<tr>
<td>cookie-parser</td>
<td>1.3.5</td>
</tr>
<tr>
<td>datadog-metrics</td>
<td>0.8.2, 0.9.0, 0.9.2, 0.9.3</td>
</tr>
<tr>
<td>disposable-email-domains</td>
<td>1.0.14, 1.0.15, 1.0.56</td>
</tr>
<tr>
<td>dockerode</td>
<td>2.1.4, 2.0.3</td>
</tr>
<tr>
<td>dotenv</td>
<td>0.4.0, 2.0.0</td>
</tr>
<tr>
<td>easy-pbkdf2</td>
<td>0.0.2</td>
</tr>
<tr>
<td>ejs</td>
<td>2.3.1</td>
</tr>
<tr>
<td>engine.io-client</td>
<td>1.5.1</td>
</tr>
<tr>
<td>express</td>
<td>4.12.4, 4.14.0, 4.16.3</td>
</tr>
<tr>
<td>express-jwt</td>
<td>3.1.0, 5.1.0</td>
</tr>
<tr>
<td>faunadb</td>
<td>2.11.1, 4.1.1</td>
</tr>
<tr>
<td>filter-object</td>
<td>2.1.0</td>
</tr>
<tr>
<td>firebase</td>
<td>7.12.0</td>
</tr>
<tr>
<td>firebase-admin</td>
<td>4.0.4, 5.0.0, 6.0.0, 8.0.0, 8.12.1</td>
</tr>
<tr>
<td>form-data</td>
<td>0.2.0</td>
</tr>
<tr>
<td>getstream</td>
<td>3.4.1</td>
</tr>
<tr>
<td>gitlab</td>
<td>1.7.0</td>
</tr>
<tr>
<td>google-auth-library</td>
<td>1.0.0</td>
</tr>
<tr>
<td>google-libphonenumber</td>
<td>2.0.7, 3.2.8, 3.2.10</td>
</tr>
<tr>
<td>googleapis</td>
<td>2.1.6, 34.0.0</td>
</tr>
<tr>
<td>got</td>
<td>3.2.0, 9.2.1, 10.7.0, 11.3.0, 11.5.2</td>
</tr>
<tr>
<td>hapi</td>
<td>13.5.0</td>
</tr>
<tr>
<td>hapi-auth-jwt2</td>
<td>7.0.1</td>
</tr>
<tr>
<td>hapi-swagger</td>
<td>7.4.0</td>
</tr>
<tr>
<td>hoek</td>
<td>2.14.0</td>
</tr>
<tr>
<td>http-proxy</td>
<td>1.11.1</td>
</tr>
<tr>
<td>ibm_db</td>
<td>2.6.4</td>
</tr>
<tr>
<td>ip</td>
<td>0.3.2, 0.0.1</td>
</tr>
<tr>
<td>ipaddr.js</td>
<td>1.0.1</td>
</tr>
<tr>
<td>joi</td>
<td>6.10.1</td>
</tr>
<tr>
<td>jose</td>
<td>3.19.0</td>
</tr>
<tr>
<td>jsforce</td>
<td>1.6.0</td>
</tr>
<tr>
<td>jsonwebtoken</td>
<td>5.7.0, 5.0.1, 5.0.0, 7.1.9, 8.5.0</td>
</tr>
<tr>
<td>jwks-rsa</td>
<td>1.0.0, 1.1.1, 1.6.0</td>
</tr>
<tr>
<td>ldapjs</td>
<td>1.0.0</td>
</tr>
<tr>
<td>lodash</td>
<td>3.10.1, 3.9.3, 2.4.1, 4.8.2, 4.17.10, 4.17.19</td>
</tr>
<tr>
<td>lru-cache</td>
<td>2.6.4</td>
</tr>
<tr>
<td>mixpanel</td>
<td>0.4.0</td>
</tr>
<tr>
<td>mkdirp</td>
<td>0.5.1</td>
</tr>
<tr>
<td>moment</td>
<td>2.10.3, 2.11.2</td>
</tr>
<tr>
<td>mongodb</td>
<td>2.0.48, 2.0.33, 2.0.27, 2.2.11, 3.1.4, 4.1.0, 3.6.10, 3.5.11</td>
</tr>
<tr>
<td>mongoose</td>
<td>4.1.6</td>
</tr>
<tr>
<td>morgan</td>
<td>1.5.3</td>
</tr>
<tr>
<td>mysql</td>
<td>2.7.0, 2.6.2, 2.0.0-alpha8, 2.15.0</td>
</tr>
<tr>
<td>mysql2</td>
<td>1.5.3</td>
</tr>
<tr>
<td>nano</td>
<td>6.2.0</td>
</tr>
<tr>
<td>neo4j-driver</td>
<td>1.7.1</td>
</tr>
<tr>
<td>node-fetch</td>
<td>2.6.0</td>
</tr>
<tr>
<td>node-jose</td>
<td>0.9.2</td>
</tr>
<tr>
<td>node-rdkafka</td>
<td>2.10.1</td>
</tr>
<tr>
<td>nodemailer</td>
<td>2.5.0</td>
</tr>
<tr>
<td>nsp</td>
<td>2.4.0</td>
</tr>
<tr>
<td>oauth</td>
<td>0.9.12</td>
</tr>
<tr>
<td>passport-wsfed-saml2</td>
<td>2.11.4</td>
</tr>
<tr>
<td>pg</td>
<td>4.5.7, 4.3.0, 4.1.1, 6.1.2, 7.17.1</td>
</tr>
<tr>
<td>postmark</td>
<td>1.3.1</td>
</tr>
<tr>
<td>q</td>
<td>1.0.1</td>
</tr>
<tr>
<td>qs</td>
<td>3.1.0</td>
</tr>
<tr>
<td>ramda</td>
<td>0.18.0, 0.23.0</td>
</tr>
<tr>
<td>range_check</td>
<td>0.0.1</td>
</tr>
<tr>
<td>raw-body</td>
<td>2.1.0</td>
</tr>
<tr>
<td>react</td>
<td>15.3.2</td>
</tr>
<tr>
<td>redis</td>
<td>0.12.1</td>
</tr>
<tr>
<td>request</td>
<td>2.56.0, 2.55.0, 2.27.0, 2.67.0, 2.73.0, 2.75.0, 2.81.0, 2.83.0, 2.88.0</td>
</tr>
<tr>
<td>rethinkdb</td>
<td>2.1.1, 2.0.0-1, 2.0.0</td>
</tr>
<tr>
<td>rollbar</td>
<td>0.6.2, 2.12.2</td>
</tr>
<tr>
<td>semver</td>
<td>4.3.4</td>
</tr>
<tr>
<td>sendgrid</td>
<td>1.8.0, 3.0.7</td>
</tr>
<tr>
<td>sequelize</td>
<td>3.1.1</td>
</tr>
<tr>
<td>soap</td>
<td>0.23.0</td>
</tr>
<tr>
<td>socket.io</td>
<td>1.3.5</td>
</tr>
<tr>
<td>socket.io-client</td>
<td>1.3.5</td>
</tr>
<tr>
<td>splunk-bunyan-logger</td>
<td>0.9.1</td>
</tr>
<tr>
<td>ssh2</td>
<td>0.4.13</td>
</tr>
<tr>
<td>stamplay</td>
<td>1.0.6, 1.0.5, 1.0.3</td>
</tr>
<tr>
<td>stripe</td>
<td>3.3.4, 4.14.0, 4.24.0, 7.1.0, 7.4.0, 8.52.0</td>
</tr>
<tr>
<td>sumo-logger</td>
<td>1.5.5</td>
</tr>
<tr>
<td>superagent</td>
<td>1.2.0, 3.8.3, 4.1.0</td>
</tr>
<tr>
<td>tedious</td>
<td>6.6.2, 1.11.0, 0.1.4, 8.3.1, 9.2.1</td>
</tr>
<tr>
<td>tough-cookie</td>
<td>1.2.0</td>
</tr>
<tr>
<td>twilio</td>
<td>2.2.1, 3.6.0, 3.57.0</td>
</tr>
<tr>
<td>twit</td>
<td>1.1.20</td>
</tr>
<tr>
<td>uuid</td>
<td>2.0.3, 2.0.1, 3.1.0, 3.3.2, 7.0.3, 8.0.0</td>
</tr>
<tr>
<td>vso-node-api</td>
<td>3.1.1</td>
</tr>
<tr>
<td>watson-developer-cloud</td>
<td>2.0.1</td>
</tr>
<tr>
<td>winston</td>
<td>1.0.0, 0.8.1, 3.1.0</td>
</tr>
<tr>
<td>xml2js</td>
<td>0.4.8, 0.2.8</td>
</tr>
<tr>
<td>xmlbuilder</td>
<td>2.6.4</td>
</tr>
<tr>
<td>xmldom</td>
<td>0.1.19, 0.1.13</td>
</tr>
<tr>
<td>xpath</td>
<td>0.0.5</td>
</tr>
<tr>
<td>xtend</td>
<td>1.0.3</td>
</tr>
</tbody>
</table>

### TLS接続にデフォルトで必要となる安全な再ネゴシエーション

拡張コードが外部ネットワーク呼び出しを行う場合、ターゲットサーバーは安全な再ネゴシエーションをサポートしていなければならず、そうでなければ要求は失敗し、以下のようなエラーを受け取ります。

``` lines
Error: write EPROTO C0BAF076:error:0A000152:SSL routines:final_renegotiate:unsafe legacy renegotiation disabled:../deps/openssl/openssl/ssl/statem/extensions.c:922:
```

このセキュリティに関する変更を考慮して、ターゲットサーバーすべてが、安全な再ネゴシエーションをサポートするようにアップデートされていることを確認してください。管理下にないサードパーティーのサーバーの場合は、以前の動作にオプトインする可能性を評価します。

たとえば、`axios`ライブラリーについては、以下のコードスニペットが、旧来の動作にオプトインする方法を示しています。

```javascript lines
const axios = require('axios');
const https = require('https');
const crypto = require('crypto');

axios.get(
  'https://[LEGACY_SERVER]', 
  {
    httpsAgent: new https.Agent(
      {
        secureOptions: crypto.constants.SSL_OP_LEGACY_SERVER_CONNECT
      }
    )
  })
```

```javascript lines
const axios = require('axios');
const https = require('https');
const crypto = require('crypto');

axios.get(
  'https://[LEGACY_SERVER]', 
  {
    httpsAgent: new https.Agent(
      {
        secureOptions: crypto.constants.SSL_OP_LEGACY_SERVER_CONNECT
      }
    )
  })
```

