---
title: "WPFまたはWinFormsアプリケーションにログインを追加する"
permalink: "interactive"
'description': "このチュートリアルは、Auth0を使用して、WPFやWinFormsアプリケーションにユーザーログインを追加する方法について説明します。"
'og:title': "WPFまたはWinFormsアプリケーションにログインを追加する"
'og:description': "このチュートリアルは、Auth0を使用して、WPFやWinFormsアプリケーションにユーザーログインを追加する方法について説明します。"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/media/platforms/asp.png"
'twitter:title': "WPFまたはWinFormsアプリケーションにログインを追加する"
'twitter:description': "このチュートリアルは、Auth0を使用して、WPFやWinFormsアプリケーションにユーザーログインを追加する方法について説明します。"
sidebarTitle: WPF / Winforms
---

import { Recipe, Content, Section, SideMenu, SideMenuSectionItem, SignUpForm } from "/snippets/recipe.jsx";
import { LoggedInForm } from "/snippets/Login.jsx";
import MainwindowXaml from "/snippets/quickstart/native/wpf-winforms/MainWindow.xaml.cs.mdx";
import MainwindowXaml2 from "/snippets/quickstart/native/wpf-winforms/MainWindow.xaml.cs2.mdx";
import MainwindowXaml3 from "/snippets/quickstart/native/wpf-winforms/MainWindow.xaml.cs3.mdx";
import MainwindowXaml4 from "/snippets/quickstart/native/wpf-winforms/MainWindow.xaml.cs4.mdx";

export const sections = [
  { id: "auth0を構成する", title: "Auth0を構成する" },
  { id: "auth0-sdkをインストールする", title: "Auth0 SDKをインストールする" },
  { id: "auth0clientをインスタンス化する", title: "Auth0Clientをインスタンス化する" },
  { id: "アプリケーションにログインを追加する", title: "アプリケーションにログインを追加する" },
  { id: "アプリケーションにログアウトを追加する", title: "アプリケーションにログアウトを追加する" },
  { id: "ユーザープロファイル情報を表示する", title: "ユーザープロファイル情報を表示する" }
]

<Recipe>
  <Content>
    Auth0を使用すると、アプリケーションに手軽に認証を追加することができます。このガイドは、WPFやWinFormsアプリケーションに[WPF](https://www.nuget.org/packages/Auth0.OidcClient.WPF/)または[WinForms](https://www.nuget.org/packages/Auth0.OidcClient.WinForms)用のAuth0 SDKを使ってAuth0を統合し、認証の追加とユーザープロファイル情報の表示を行う方法について説明します。

    このクイックスタートを使用するには、以下の手順に従います：

    - Auth0の無料アカウントにサインアップするか、Auth0にログインします。
    - 統合したいWPFまたはWinFormsプロジェクトを用意します。または、ログインした後に、サンプルアプリケーションを表示してダウンロードすることもできます。

      <Section id={sections[0].id} title={sections[0].title} stepNumber="1">
      Auth0のサービスを利用するには、Auth0 Dashboadに設定済みのアプリケーションがある必要があります。Auth0アプリケーションは、開発中のプロジェクトに対してどのように認証が動作して欲しいかを構成する場所です。

      ### アプリケーションを構成する

      対話型のセレクターを使ってAuth0アプリケーションを新規作成するか、統合したいプロジェクトを表す既存のアプリケーションを選択します。Auth0のすべてのアプリケーションには英数字からなる一意のクライアントIDが割り当てられており、アプリケーションのコードがSDKを通じてAuth0 APIを呼び出す際に使用されます。

      このクイックスタートを使って構成されたすべての設定は、[Dashboard](https://manage.auth0.com/#/)のアプリケーションを自動更新します。今後、アプリケーションの管理もDashboardで行えます。

      完了済みの構成を見てみたい場合は、サンプルアプリケーションをご覧ください。

      ### Callback URLを構成する

      Callback URLとは、Auth0がユーザーを認証後にリダイレクトするアプリケーション内URLです。設定されていない場合、ユーザーはログイン後にアプリケーションに戻りません。

      <Info>
      サンプルプロジェクトに沿って進めている場合は、`http://{yourDomain}:4200/mobile`に設定してください。
      </Info>

      ### ログアウトURLを構成する

      ログアウトURLとは、Auth0がユーザーをログアウト後にリダイレクトするアプリケーション内URLです。設定されていない場合、ユーザーはアプリケーションからログアウトできず、エラーを受け取ります。

      <Info>
      サンプルプロジェクトに沿って進めている場合は、`http://{yourDomain}:4200/mobile`に設定してください。
      </Info>
      </Section>

      <Section id={sections[1].id} title={sections[1].title} stepNumber="2">
      WPFおよびWinFormsアプリケーションで、Auth0認証が手軽に実装できるように、Auth0は[WPF](https://www.nuget.org/packages/Auth0.OidcClient.WPF/)と[WinForms](https://www.nuget.org/packages/Auth0.OidcClient.WinForms)のSDKを提供しています。

      NuGetパッケージマネージャー（［Tools（ツール）］ -> ［Library Package Manager（ライブラリーパッケージマネージャー）］ -> ［Package Manager Console（パッケージマネージャーコンソール）］) を使用して、WPFまたはWindows Formsアプリケーションのどちらをビルドするかに応じて、`Auth0.OidcClient.WPF`または`Auth0.OidcClient.WinForms`パッケージをインストールします。

      NuGetパッケージマネージャーコンソール（`Install-Package`）や`dotnet` CLI（`dotnet add`）を代わりに使用することもできます。

      ```
      Install-Package Auth0.OidcClient.WPF
      Install-Package Auth0.OidcClient.WinForms
      ```

      ```
      dotnet add Auth0.OidcClient.WPF
      dotnet add Auth0.OidcClient.WinForms
      ```
      </Section>

      <Section id={sections[2].id} title={sections[2].title} stepNumber="3">
      Auth0をアプリケーションに統合するには、Auth0ドメインとクライアントIDを含むAuth0ClientOptionsのインスタンスを渡して、Auth0Clientクラスをインスタンス化します。

      SDKは初期設定で、.NET6以降には[WebView2](https://learn.microsoft.com/en-us/microsoft-edge/webview2/)を利用し、.NET6より前のバージョンを使用するアプリケーションは古いWebViewに依存します。

      <Note>
      ##### チェックポイント
      Auth0Clientが適切にインスタンス化されました。アプリケーションを実行して次の点を確認します：
      Auth0Clientが正しくインスタンス化されている。
      アプリケーションがAuth0に関連したエラーを投入していない。
      </Note>
      </Section>

      <Section id={sections[3].id} title={sections[3].title} stepNumber="4">
      Auth0アプリケーションとAuth0 SDKの構成が完了したら、プロジェクトのためにログインをセットアップする必要があります。これを実現するには、SDKの`LoginAsync()`メソッドを使用して、ユーザーをAuth0のユニバーサルログインページにリダイレクトするログインボタンを作成します。ユーザーが認証に成功すると、このクイックスタートで前にセットアップしたCallback URLへリダイレクトされます。

      エラーがなければ、`LoginAsync()`が返す`LoginResult`で`User`、`IdentityToken`、`AccessToken`、`RefreshToken`にアクセスすることができます。

      <Note>
      ##### チェックポイント
      ユーザー名とパスワードを使ってログインやサインアップができるようになりました。
      ログインボタンをクリックして次の点を確認します：
      WPFまたはWinFormsアプリケーションによってAuth0ユニバーサルログインページにリダイレクトされる。
      ログインまたはサインアップできる。
      Auth0によってアプリケーションにリダイレクトされる。
      </Note>
      </Section>

      <Section id={sections[4].id} title={sections[4].title} stepNumber="5">
      プロジェクトにログインしたユーザーには、ログアウトする方法も必要です。SDKの`LogoutAsync()`メソッドを使用してログアウトボタンを作成します。ユーザーはログアウトすると、Auth0ログアウトエンドポイントにリダイレクトされてから、即座に、このクイックスタートで先ほどセットアップしたログアウトURLにリダイレクトで戻されます。

      <Note>
      ##### チェックポイント
      アプリケーションを実行してログアウトボタンをクリックし、次の点を確認します：
      WPFまたはWinFormsアプリケーションによって、アプリケーションの設定で［Allowed Logout URLs（許可されているログアウトURL）］の1つに指定したアドレスへリダイレクトされる。
      アプリケーションにログインしていない。
      </Note>
      </Section>

      <Section id={sections[5].id} title={sections[5].title} stepNumber="6">
      ユーザーがログインやログアウトできるようになったら、認証済のユーザーに関連付けられたプロファイル情報を取得できるようにしたいと考えるはずです。たとえば、ログインしたユーザーの名前やプロフィール写真をプロジェクトに表示したいかもしれません。

      WPF・WinForms用のAuth0 SDKでは、`LoginResult.User`プロパティを通じてユーザー情報を提供します。

      <Note>
      ##### チェックポイント
      ログイン後にユーザーの名前やその他のユーザープロパティが表示されることを確認してください。
      </Note>
      </Section>

    ## 次のステップ

    成功です！ここまで来れば、アプリケーションにログイン、ログアウト、ユーザープロファイル情報が備わっているはずです。

    これでクイックスタートチュートリアルは終了ですが、機能はまだまだたくさんあります。Auth0でできることについて詳しくは、以下をご覧ください。

    *   [Auth0 Dashboard](https://manage.auth0.com/#) - Auth0のテナントやアプリケーションを構成して管理する方法について説明します
    *   [auth0-oidc-client-net SDK](https://github.com/auth0/auth0-oidc-client-net) - このチュートリアルで使用されているSDKをより詳しく説明します
    *   [Auth0 Marketplace](https://marketplace.auth0.com/) - Auth0の機能性を拡張できる各種の統合を見つけられます
  </Content>

  <SideMenu sections={sections}>
      <SideMenuSectionItem id={sections[0].id}>
        <SignUpForm />
      </SideMenuSectionItem>

      <SideMenuSectionItem id={sections[1].id}>
        <SignUpForm />
      </SideMenuSectionItem>

      <SideMenuSectionItem id={sections[2].id}>
        <MainwindowXaml />
      </SideMenuSectionItem>

      <SideMenuSectionItem id={sections[3].id}>
        <MainwindowXaml2 />
      </SideMenuSectionItem>

      <SideMenuSectionItem id={sections[4].id}>
        <MainwindowXaml3 />
      </SideMenuSectionItem>

      <SideMenuSectionItem id={sections[5].id}>
        <MainwindowXaml4 />
      </SideMenuSectionItem>

    </SideMenu>
</Recipe>
