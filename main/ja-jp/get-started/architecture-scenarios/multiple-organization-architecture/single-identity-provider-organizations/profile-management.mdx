---
title: "シングルIDプロバイダー：プロファイル管理"
permalink: "profile-management"
'description': "マルチテナントのアーキテクチャで、組織のユーザープロファイルを管理することについて説明します。"
'og:title': "シングルIDプロバイダー：プロファイル管理"
'og:description': "マルチテナントのアーキテクチャで、組織のユーザープロファイルを管理することについて説明します。"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "シングルIDプロバイダー：プロファイル管理"
'twitter:description': "マルチテナントのアーキテクチャで、組織のユーザープロファイルを管理することについて説明します。"
---

プロファイル管理は、組織ベースのシナリオでも一般的に他のアーキテクチャのシナリオと同じです。アーキテクチャのシナリオでは、[B2Bプロファイル管理](/ja-jp/get-started/architecture-scenarios/business-to-business/profile-management)に関する一般的なガイダンスを提供しています。ここに記載のガイダンスと共に参照することをお勧めします。

<Warning>

ユーザーに関連付けられたロールを管理するには、Auth0にユーザーアカウントが存在しなければなりません。[メンバーシップに関連付けられたAuth0 Organizationロール機能を使用している場合にも当てはまります](/ja-jp/manage-users/organizations/configure-organizations/add-member-roles)。ただし、[ユーザー招待](/ja-jp/get-started/architecture-scenarios/multiple-organization-architecture/single-identity-provider-organizations/provisioning)ワークフローでプロビジョニングされるユーザーアカウントには、招待プロセスの一部として自動的にロールが割り当てられることがあります。詳細については、「[組織メンバーを招待する](/ja-jp/manage-users/organizations/configure-organizations/invite-members)」を参照してください。他のメカニズムを使用してユーザーを事前登録している場合は、初回認証時に、ロール情報をAuth0の外部に保存し、拡張性を使用して（たとえば、[ルール](/ja-jp/customize/rules)の一環として）アクセス/コピーしなければなりません。

</Warning>

アプリケーションが関連する特定のユーザー属性一式（たとえば、ユーザーの環境設定や、顧客により良いサービスを提供するために使う身元情報など）を保持し、属性に対してある種のセルフサービス管理機能をユーザーに提供することができます。それに追加または代替で、IDプロバイダー（<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-2" href="/ja-jp/glossary?term=idp" tip="IDプロバイダー（IdP）: デジタルIDを保存および管理するサービス。" cta="用語集の表示">IdP</Tooltip>）が通常管理している属性に対し、プロファイルのセルフサービス管理を提供することもできます。

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

**ベストプラクティス**

Organization関連のシナリオでは、必ずメールアドレスを検証する必要があります。そのため、セルフサービスのメールアドレス検証機能を提供することで、別の検証方法がない状況に対応する必要があります。詳細については、「[メールアドレス検証](/ja-jp/manage-users/user-accounts/verify-emails)」を参照してください。

</Callout>

## データベース接続

Auth0では、Auth0 <Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/ja-jp/glossary?term=management-api" tip="Management API: 顧客が管理タスクを実行できるようにするための製品。" cta="用語集の表示">Management API</Tooltip>を使って、プロファイルのセルフサービス管理のサポートを実装できるようにしています。Auth0 Organizationsを使用して[招待ベースのユーザープロビジョニング](/ja-jp/manage-users/organizations/configure-organizations/invite-members)を提供している場合には、IDプロバイダー（IdP）であるAuth0テナントが通常所有しているフィールドに対して、変更を制約しなければならない可能性があります。たとえば、メールアドレスへの変更を制約して、ユーザーが招待の宛先以外のメールアドレスを使用できないようにします。メールアドレスフィールドへの変更を制約すると、企業特有のメールが個人のメールアドレスに入力されることを防ぎます。

別の方法として、Auth0のデータベース接続で認証するユーザーにセルフサービス項目をいくつか提供することができます。ユーザーが以下を行えるようにします。

* メールアドレスを変更する
* 関連の電話番号を変更する
* ユーザー名を変更する
* 規制順守（GDPRなど）の一環として、アカウントのプロビジョニングを解除する
* パスワード変更処理を行う。一般的に[パスワードリセット](/ja-jp/connections/database/password-change#trigger-an-interactive-password-reset-flow)の実装をお勧めします。これには組織特定のブランディングを活用でき、詳細は「[ブランディング：パスワードリセットページ`</>`」に記載されています。](/ja-jp/get-started/architecture-scenarios/multiple-organization-architecture/single-identity-provider-organizations/branding)

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

セルフサービス機能は、一般にAuth0の外部で実装し、ホストする必要があります。また、高い安全性が求められます。

</Callout>

## エンタープライズ接続

アップストリームのIDプロバイダー（IdP）は通常、IdPが管理するユーザープロファイル属性を処理するため、このユースケースではプロファイル管理はほぼ存在しません。ただし、アプリケーション特有のユーザー属性を使用している場合には、セルフサービス機能を提供することもできます。

また、Auth0テナントでユーザーのプロビジョニングの解除手段を組織に提供する必要があるかもしれません。Auth0の<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/ja-jp/glossary?term=single-sign-on" tip="シングルサインオン（SSO）: ユーザーが1つのアプリケーションにログインした後、そのユーザーを他のアプリケーションに自動的にログインさせるサービス。" cta="用語集の表示">SSO</Tooltip>セッションが有効期限切れである場合を除き、Auth0はアップストリームのIdPとは通信しません。ほとんどのシナリオではSSOセッションの有効期限が長すぎるため、ユーザーが削除された場合に組織管理者がユーザーを個別にブロックまたは削除できる方法が必要になります。

## ソーシャル接続

ソーシャル接続の場合、プロファイル管理のパターンは[エンタープライズ接続](#enterprise-connection)と類似していますが、アップストリームのIdPは特定の組織ではなく、ソーシャルプロバイダーに関連付けられます。

## 管理

状況によっては、顧客にアクセスを提供して、顧客の組織に関連付けられたユーザーアカウントを管理できるようにしたいことがあります。特にヘルプデスク関連のシナリオでは、担当者がユーザーに代わってプロファイル情報を更新したり、ユーザーアカウントのブロックを解除したりなどの場合にはアクセスが必要になります。

Auth0は、Auth0テナントの一般管理にそのままで便利に使える<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/ja-jp/glossary?term=auth0-dashboard" tip="Auth0 Dashboard: サービスを構成するためのAuth0の主製品。" cta="用語集の表示">Auth0 Dashboard</Tooltip>を提供しています。ただし、顧客からはAuth0テナントのDashboardにアクセスできないようにしておきます。そうしないと、すべての組織のユーザー全員を管理できる能力を与えることになり、これは望ましいことではありません。

<Warning>

Auth0 Tenant Dashboardでは、ユーザーアカウントを管理できますが、組織レベルの分離はできません。顧客にAuth0 Dashboardへのアクセス権を与えると、全組織のユーザーを変更できるようになるため、望ましくありません。Auth0 Delegated Adminダッシュボードを、Auth0 Organizationに応じてユーザーアカウントを管理するように構成することは可能ですが、ユーザーの[メンバーシップ](/ja-jp/manage-users/organizations/create-first-organization)や[招待](/ja-jp/manage-users/organizations/configure-organizations/invite-members)を管理するのに使用することはできません。

</Warning>

すでにヘルプデスクタイプの機能を顧客に提供している場合には、Auth0 Management APIを使ってAuth0にあるユーザーアカウントを管理することができます。たとえば、Management APIは[組織メンバーの取得](/ja-jp/manage-users/organizations/configure-organizations/retrieve-members)や[ユーザーが所属する組織の取得](/ja-jp/manage-users/organizations/configure-organizations/retrieve-user-membership)を行うのに使用できます。まだヘルプデスク機能を提供していない場合には、必要に応じてこの機能を構築する必要があります。