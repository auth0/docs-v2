---
title: "プロビジョニング（B2C）"
permalink: "provisioning"
'description': "B2C IAMの実装について、ユーザーのプロビジョニングの機能性と考慮するべき事項について説明します。"
'og:title': "プロビジョニング（B2C）"
'og:description': "B2C IAMの実装について、ユーザーのプロビジョニングの機能性と考慮するべき事項について説明します。"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "プロビジョニング（B2C）"
'twitter:description': "B2C IAMの実装について、ユーザーのプロビジョニングの機能性と考慮するべき事項について説明します。"
---

ユーザーがどのようにしてサインアップするかを決めることは、早期に検討するべき重要事項です。そこでの決定内容が、今後必要となる多くの決定事項に影響を与えます。ユーザーがシステムに追加される方法には一般的なパターンがあり、ワークフローの設計を考える際に注意するべき事柄があります。

<Info>
    ### ベストプラクティス

Auth0はさまざまなワークフローをサポートしていますが、サインアップにはAuth0[ユニバーサルログイン](/ja-jp/login/universal-login)を使用したWebベースのワークフローが、最適な機能性と最高のセキュリティを提供するという点で、業界でもAuth0にとってもベストプラクティスとみなされています。

</Info>

Auth0は、いくつかの異なる[IDプロバイダー](/ja-jp/connections)を通したサインアップに対応しています。サインアップ中には、Auth0が[ユーザープロファイル]()をプロビジョニングするため、ユーザーのアカウント情報が含まれます。機能性とワークフローを検討する際には、以下のように、考慮するべき事柄がいくつかあります。

* Auth0をIDストアとして使用するべきなのか
* 独自の（レガシー）IDストアをAuth0で使用できるのか
* 使用しているIDストアからAuth0に、どのようにしてユーザーIDを移行するのか
* ユーザーはGoogleやFacebookなどの既存のソーシャルアカウントを使ってサインアップできるのか

Auth0はそのままで便利に使えるIDストレージを提供しているため、ユーザーの資格情報を安全に保管することができます。詳細については、「[セルフサインアップ](#self-sign-up)」を参照してください。すでにレガシーIDストアがあり、管理の負担を軽くしたい場合には、[ユーザーの移行](#user-migration)機能に利用できるいくつかのオプションがあります。

まだ移行したくない、または、移行できないアプリケーションがあるなどの理由で、レガシーIDストアを管理しなければならない場合には、[IDストアプロキシ](#identity-store-proxy)機能を使うことができます。顧客が個人IDの持ち込み（BYOI）を行えるようにするのも、方法として効果的です。最初から持ち込みを行う利用者はあまり見かけませんが、[ソーシャルサインアップ](#social-sign-up)機能を使うと提供することができます。

## ユーザーの移行

[ユーザープロファイル](/ja-jp/get-started/architecture-scenarios/business-to-consumer/profile-management)をホストするだけでなく、Auth0はレガシーIDストアの[プロキシ](#identity-store-proxy)機能を備え、安全なAuth0ホストのIDストアを提供しています。これらの機能はどちらも、Auth0の[データベース接続](/ja-jp/connections/database)を使うことでサポートされます。レガシーIDストアの代わりにAuth0を使うことに決めた場合は、一括移行で一気に[ユーザーを移行](/ja-jp/manage-users/user-migration)するか、自動移行で段階的に移行することができます。

<Info>
    ### ベストプラクティス

当社の多くの顧客の方は、2段階でのユーザー移行を選びます。まず自動移行を行ってできるだけ多くのアクティブユーザーを移行し、次に自動移行をオフにして一括移行で残りのユーザーを移行する、というアプローチです。詳細については、[「ユーザー移行シナリオ」](/ja-jp/users/import-and-export-users/user-migration-scenarios)をご覧ください。

</Info>

自動移行は、ユーザーを個別に移行したい場合にお勧めします。また、ほぼすべての状況で、ユーザーは既存のパスワードを維持することができます。一括移行では、[Management API](/ja-jp/api/management/v2#!/Jobs/post_users_imports)の使用をお勧めします。[User Import/Export（ユーザーインポート/エクスポート）拡張機能](/ja-jp/manage-users/user-migration/user-import-export-extension)に比べて、<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/ja-jp/glossary?term=management-api" tip="Management API: 顧客が管理タスクを実行できるようにするための製品。" cta="用語集の表示">Management API</Tooltip>には高い柔軟性と制御が備わっているため、シンプルな状況のほとんどで有効です。

bcryptを使ってパスワードがハッシュ化され、レガシーIDストアに保管されていない限り（または、bcrypt形式で生成することが可能）、ユーザーの一括移行では通常、**移行の完了後にパスワードのリセット** が必要になります。その場合、使用しているbcryptアルゴリズムとソルトラウンド数によっては、一括移行で**ユーザーのパスワードを維持** することができます。詳細については、「[一括インポートのデータベーススキームの例](/ja-jp/manage-users/user-migration/bulk-user-import-database-schema-and-examples)」を参照してください。

<Info>
    ### ベストプラクティス

Management APIへの呼び出しは、[「Auth0のレート制限ポリシー」](/ja-jp/support/policies/rate-limit-policy)の対象となります。Auth0は通常、APIを直接呼び出す代わりに、開発環境に適した[Auth0 SDK](/ja-jp/libraries)の使用を推奨していることにご注意ください。

</Info>

### IDストアプロキシ

Auth0のデータベース接続タイプは、既存の（レガシー）IDストアをプロキシするように構成することもできます。たとえば、ビジネスに不可欠な1つ以上のアプリケーションがあり、Auth0には移行できないけれど、それらのIDにはアクセスする必要があるケースなど、独自のレガシーストアにユーザーIDを保持しなければならない場合には、Auth0と手軽に統合することができます。詳細については、「[独自のデータベースを使用してユーザーを認証する](/ja-jp/connections/database/custom-db)」を参照してください。

## セルフサインアップ

セルフサインアップは、Auth0の[データベース接続](/ja-jp/connections/database)を使用して、サインアップ中に新規ユーザーから収集したユーザーID、パスワード、（任意の）ユーザー名のID情報を保存します。最小の[ユーザー名の長さ](/ja-jp/connections/database/require-username)または[パスワード強度と複雑さ](/ja-jp/connections/database/password-options)などの条件を制御するデータベース接続ポリシーは、<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/ja-jp/glossary?term=auth0-dashboard" tip="Auth0 Dashboard: サービスを構成するためのAuth0の主製品。" cta="用語集の表示">Auth0 Dashboard</Tooltip>から構成することができます。

<Info>
    ### ベストプラクティス

Auth0[「ユニバーサルログイン」](/ja-jp/universal-login)とAuth0ウィジェット（[「Lock」](https://auth0.com/lock)など）は、データベース接続と統合して、設定不要なサインアップのための明瞭なユーザーインターフェース機能を提供します。これらのUIアーティファクトは完全にリアクティブであり、機能豊富な構成と明瞭なカスタマイズにより、ユーザーのセルフサインアップおよびログイン機能をデプロイできます。

</Info>

## ソーシャルサインアップ

ソーシャルサインアップは、[ソーシャル認証](/ja-jp/get-started/architecture-scenarios/business-to-consumer/authentication)を使ったサインアップと同じです。初回のソーシャルログインでユーザー[プロファイル](/ja-jp/get-started/architecture-scenarios/business-to-consumer/profile-management)が自動的に作成されるため、\*本質的な\*違いはありません。

## プロジェクト計画ガイド

当社では、PDF形式の計画ガイダンスを提供しています。ダウンロードして、推奨される戦略の詳細を参照してください。

[B2C IAM Project Planning Guide](//assets.ctfassets.net/cdy7uua7fh8z/3er1aEQ7Ul0q3c9leJWczR/b1f18b4c16abb7e78b01e4eb2b52bb8e/B2C_Project_Planning.pdf)