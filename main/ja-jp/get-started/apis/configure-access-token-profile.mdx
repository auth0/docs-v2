---
title: "アクセストークンプロファイルを構成する"
permalink: "configure-access-token-profile"
'description': "APIに対するアクセストークンプロファイルを構成する方法について説明します。"
'og:title': "アクセストークンプロファイルを構成する"
'og:description': "APIに対するアクセストークンプロファイルを構成する方法について説明します。"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "アクセストークンプロファイルを構成する"
'twitter:description': "APIに対するアクセストークンプロファイルを構成する方法について説明します。"
---

どのアクセストークンプロファイル（Auth0トークンプロファイル、またはRFC 9068トークンプロファイル）をAPIに使用するか選択できます。構成するアクセストークンプロファイルは、APIに発行されたアクセストークンの形式を決定します。

デフォルトで、Auth0はAuth0トークンプロファイルを使用してアクセストークンを発行します。Auth0トークンプロファイルは、[JSON Webトークン（JWT）](/ja-jp/secure/tokens/json-web-tokens)形式のアクセストークンを発行し、クレームの形式にあるエンティティについての情報を含みます。

また、Auth0はRFC 9068トークンプロファイルをサポートします。RFC 9068トークンプロファイルは、[IETF JWT Profile for OAuth 2.0 Access Tokens（RFC 9068）](https://datatracker.ietf.org/doc/html/rfc9068)に準拠した<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-3" href="/ja-jp/glossary?term=json-web-token" tip="JSON Web Token（JWT）: 二者間のクレームを安全に表現するために使用される標準IDトークン形式（および多くの場合、アクセストークン形式）。" cta="用語集の表示">JWT</Tooltip>として形式化されたアクセストークンを発行します。これらのトークンプロファイルの違いについては、「[アクセストークンプロファイル](/ja-jp/secure/tokens/access-tokens/access-token-profiles)」をお読みください。

[APIを登録](/ja-jp/get-started/auth0-overview/set-up-apis)する際、<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/ja-jp/glossary?term=auth0-dashboard" tip="Auth0 Dashboard: サービスを構成するためのAuth0の主製品。" cta="用語集の表示">Auth0 Dashboard</Tooltip>のアクセストークンプロファイルを選択できます。APIを登録したら、[Management API](https://auth0.com/docs/api/management/v2)と[Auth0 Dashboard](https://manage.auth0.com/)を使用して、いつでもアクセストークンプロファイルを構成できます。

## APIに対するアクセストークンプロファイルを構成する

<Tabs><Tab title="Auth0 Dashboard">

1. [［Dashboard］ > ［Applications（アプリケーション）］ > ［APIs］](https://manage.auth0.com/#/apis)に移動し、APIの名前をクリックすると表示されます。

2. **［Access Token Settings（アクセストークン設定）］** に移動し、**［JSON Web Token（JWT） Profile（JSON Webトークンプロファイル）］** の下にあるアクセストークンプロファイルを選択します。選択したプロファイルは、APIに発行されるアクセストークンの形式とクレームを決定します。サポート値は`Auth0`と`RFC 9068`です。2つのプロファイルの違いについての詳細は、「[アクセストークンプロファイル](/ja-jp/secure/tokens/access-tokens/access-token-profiles)」をお読みください。

3. **［Save（保存）］** をクリックします。

</Tab><Tab title="Management API">

Management APIを使用する際、アクセストークンプロファイルをトークンダイアレクトとして参照します。アクセストークンプロファイルを構成するには、Management APIで、APIに対する`token_dialect`パラメーターを設定します。

次のコードサンプルは、[リソースサーバーエンドポイントの更新](https://auth0.com/docs/api/management/v2/resource-servers/patch-resource-servers-by-id)にPATCH要求を行います。

```bash lines
curl --request PATCH \
  --url 'https://{yourDomain}/api/v2/resource-servers/API_ID' \
  --header 'authorization: Bearer MGMT_API_ACCESS_TOKEN' \
  --header 'content-type: application/json' \
  --data '{"token_dialect": "TOKEN_DIALECT" }'
```

次のテーブルで説明されている通り、`API_ID`、`MGMT_API_ACCESS_TOKEN`、`TOKEN_DIALECT`をそれぞれの値に置き換えます。

| パラメーター | 説明 | | - | - | | `API_ID` | トークンのダイアレクトを更新したいAPIのID。 | | `MGMT_API_ACCESS_TOKEN` | `update:resource_servers`のスコープを持つ［Management APIのアクセストークン］（https://auth0.com/docs/ja-jp/api/management/v2/tokens） | | `TOKEN_DIALECT` | 指定APIのアクセストークンのダイアレクト。詳しくは、［トークンのダイアレクトオプション］（#token-dialect-options）をご覧ください。 |

#### トークンダイアレクトのオプション

Auth0は次のトークンダイアレクトをサポートします：

<table class="table"><thead>
<tr>
<th>値</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td>`access_token`</td>
<td>デフォルトのAuth0トークンプロファイルはJSON Web Token（JWT）形式のアクセストークンを生成します。詳細については、「<a href="/ja-jp/secure/tokens/access-tokens/access-token-profiles">アクセストークンプロファイル</a>」をお読みください。</td>
</tr>
<tr>
<td>`access_token_authz`</td>
<td>`permissions`クレームのあるデフォルトのAuth0トークンプロファイル（`access_token`）です。RBAC権限については、「<a href="/ja-jp/get-started/apis/enable-role-based-access-control-for-apis">APIにロールベースのアクセス制御を有効にする</a>」をお読みください。</td>
</tr>
<tr>
<td>`rfc9068_profile`</td>
<td>RFC 9068トークンプロファイルは<a href="https://datatracker.ietf.org/doc/html/rfc9068">IETF JWT Profile for OAuth 2.0 Access Tokens（RFC 9068）</a>に準拠したJWT形式のアクセストークンを生成します。詳細については、「<a href="/ja-jp/secure/tokens/access-tokens/access-token-profiles">アクセストークンプロファイル</a>をお読みください。</td>
</tr>
<tr>
<td>`rfc9068_profile_authz`</td>
<td>`permissions`クレームのあるRFC 9068プロファイル（`rfc9068_profile`）です。RBAC権限については、「<a href="/ja-jp/get-started/apis/enable-role-based-access-control-for-apis">APIにロールベースのアクセス制御を有効にする</a>をお読みください。</td>
</tr>
</tbody>
</table>

</Tab></Tabs>

