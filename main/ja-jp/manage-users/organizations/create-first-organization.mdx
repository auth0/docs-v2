---
title: "最初の組織を作成する"
permalink: "create-first-organization"
'description': "初めて組織を作成する方法について説明します。"
'og:title': "最初の組織を作成する"
'og:description': "初めて組織を作成する方法について説明します。"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "最初の組織を作成する"
'twitter:description': "初めて組織を作成する方法について説明します。"
---

[Organization](/ja-jp/manage-users/organizations/organizations-overview)機能を使用するには、まず、組織を作成して構成する必要があります。

<Card title="利用可能性はAuth0プランによって異なる">

この機能が利用できるかどうかは、ご利用のAuth0プラン（または契約）によります。詳細については、「[価格設定](https://auth0.com/pricing)」をお読みください。

</Card>

## 組織を作成する

[組織を作成する](/ja-jp/manage-users/organizations/configure-organizations/create-organizations)際には、定義する設定を使って、エンドユーザーが組織での認証に使用するログインページとメールテンプレートがカスタマイズされます。

そのままで使える設定不要のOrganizations（組織）を使用する場合には、これらの設定がユニバーサルログインページの設定を上書きします。ログインページやメールテンプレートのカスタマイズについては、「[プロンプトとメールテンプレートをカスタマイズする](#customize-prompts-and-email-templates)」をお読みください。

## 組織の動作を定義する

Herokuなど、ユーザーが個人アカウントでログインするか、ビジネスアカウントに関連付けられた組織を選択するかによって動作が異なるアプリケーションをよくご存じかもしれません。Auth0を使用すると、アプリケーションレベルで似たような動作を組織に定義することができます。

Auth0で作成するアプリケーションごとに、エンドユーザーが直接ログインする必要があるのか、それとも、組織のコンテキストで認証する必要があるのかを決めることができます。ユーザーに組織を通したログインを要求するアプリケーションでは、ログインフローが提供されない場合にどうなるのかを指定することもできます。

アプリケーションの **［Allowed Callback URLs（許可されたコールバックURL）］** と **［Allowed Origins (CORs)（許可されたオリジン（COR））］** [のアプリケーション設定](/ja-jp/get-started/applications/application-settings)も更新して、組織の[サブドメインのプレースホルダー](/ja-jp/get-started/applications/wildcards-for-subdomains)を含めることをお勧めします。

## プロンプトとメールテンプレートをカスタマイズする

ユニバーサルログインのすぐに使えるプロンプトを使用して組織を使うときには、[組織の作成](/ja-jp/manage-users/organizations/configure-organizations/create-organizations)時に構成するブランディング設定がユニバーサルログインページとメールテンプレートのブランディングをオーバーライドします。エンドユーザーが受信するメールとユニバーサルログインページをさらに変更したい場合には、ページとメールのテンプレートをカスタマイズすることができます。

### ページテンプレート

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

ページのテンプレートをカスタマイズするには、カスタムドメインを使用しなければなりません。カスタムドメインは、すべての有料プランでご利用いただけます。

</Callout>

ユニバーサルログインページを編集するには、[Liquidテンプレート言語](https://shopify.github.io/liquid/)を使用してページテンプレートをカスタマイズしてから、ユニバーサルログインページテンプレートAPIを使ってテンプレートを適用します。詳細については、「[ユニバーサルログインページテンプレート](/ja-jp/customize/login-pages/universal-login/customize-templates)」をお読みください。

すべてのページには同じテンプレートが使用されるため、手間をかけずに一貫したログインージを実装することができます。

最もシンプルなテンプレートは以下のようになります。

```html lines
<!DOCTYPE html>
<html>
  <head>
    {%- auth0:head -%}
  </head>
  <body>
    {%- auth0:widget -%}
  </body>
</html>
```

テンプレートには以下のタグが必要です。

* **`auth0:widget`**：それぞれのページタイプ（ログイン、パスワードのリセットなど）に表示されるウィジェットを構築するHTMLが含まれています。
* **`auth0:head`**：ウィジェットをレンダリングするのに必要なタグが含まれています。

ウィジェットをページの中心に配置するには、`<body>`タグを`<body class="_widget-auto-layout">`に置き換えます。

### メールテンプレート

エンドユーザーが受信するメールを変更するには、[Liquidテンプレート言語](https://shopify.github.io/liquid/)とテンプレート変数を使用してメールテンプレートをカスタマイズします。詳細については、「[メールテンプレートをカスタマイズする](/ja-jp/customize/email/email-templates)」をお読みください。

以下のメールテンプレートは、組織のためにさらにカスタマイズすることができます。

* **Welcome（ようこそ）** ：エンドユーザーのメールアドレスが検証された後、またはメール検証が無効の場合にはサインアップ（または初めてログイン）したときに、エンドユーザーが受信します。
* **Password Change（パスワード変更）** ：エンドユーザーがパスワードの変更を要求した際に受信します。パスワードリセットページにリダイレクトするリンクが含まれています。
* **Invite User（ユーザー招待）** ：エンドユーザーが組織に招待された際に受信します。構成にあるデフォルトのログインルートにリダイレクトするリンクが含まれています。詳細については、「[組織メンバーを招待する](/ja-jp/manage-users/organizations/configure-organizations/invite-members)」を参照してください。

### テンプレート変数

ページとメールのテンプレートは、テンプレートのレンダリング方法に影響を与える一連のコンテキスト変数を使用することがあります。

使用可能な変数のリストは、ページテンプレート変数については「[ユニバーサルログインページテンプレート](/ja-jp/customize/login-pages/universal-login/customize-templates)」を、一般的なメールテンプレート変数については「[メールテンプレートをカスタマイズする](/ja-jp/customize/email/email-templates)」を参照してください。

ユーザーが組織を通してログインする場合には、ページテンプレートに以下の変数を追加で使用することができます。

* `organization.id`
* `organization.display_name`
* `organization.name`
* `organization.metadata`
* `organization.branding.logo_url`
* `organization.branding.colors.primary`
* `organization.branding.colors.page_background`

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Organizationパラメーターは、関連付けられたメールがOrganizationのコンテキストでトリガーされる場合のみ、メールテンプレートに公開されます。たとえば、ユーザー招待メールは、常にOrganizationのコンテキストでトリガーされるため、Organizationパラメーターが必ずそのテンプレートに公開されます。一方、ウェルカムメールは、Organizationのコンテキストでトリガーされないこともあるため、そのテンプレートにはOrganizationパラメーターが必ずしも公開されません。

</Callout>

## 組織メンバーシップを設定する

それぞれの組織には独自の関連メンバーがあり、それらのメンバーは、組織に設定されているログインページを通してログインし、アプリケーションにアクセスできるユーザーを表しています。

SaaSやB2Bアプリケーションは通常、分離された個別のユーザーではなく、チームに提供されます。このコンテキストでは企業全体、少人数の従業員の集まり（たとえば、マーケティング部門など）、または、ある目的のために一時的に組織されたユーザーグループ（たとえば、募金集めにチームとして競い合う、慈善活動のために集まった地元グループなど）でさえもチームになり得ます。

Auth0内の組織は柔軟性が高いため、これらすべてのユースケースに対応できますが、チームをサポートするアプリケーションを作成するには、ある程度の計画を立てる必要があります。最初に検討すべき事項の1つはチームメンバーシップの管理方法です。管理では以下を行うことができます。

* [メールを使ってユーザーを招待する](/ja-jp/manage-users/organizations/configure-organizations/invite-members)
* 有効な接続からログインしたユーザーに[Just-In-Timeメンバーシップを付与する](/ja-jp/manage-users/organizations/configure-organizations/grant-just-in-time-membership)
* [メンバーの割り当て](/ja-jp/manage-users/organizations/configure-organizations/assign-members)または[メンバーの削除](/ja-jp/manage-users/organizations/configure-organizations/remove-members)によって、<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/ja-jp/glossary?term=management-api" tip="Management API: 顧客が管理タスクを実行できるようにするための製品。" cta="用語集の表示">Management API</Tooltip>または<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/ja-jp/glossary?term=auth0-dashboard" tip="Auth0 Dashboard: サービスを構成するためのAuth0の主製品。" cta="用語集の表示">Auth0 Dashboard</Tooltip>でメンバーシップを直接管理する

メンバーシップが定義されたら、[組織のメンバーを取得](/ja-jp/manage-users/organizations/configure-organizations/retrieve-members)または[ユーザーの組織メンバーシップを取得](/ja-jp/manage-users/organizations/configure-organizations/retrieve-user-membership)できます。

## メンバーにロールを割り当てる

それぞれの組織メンバーには1つ以上のロールを割り当てることができます。ロールはユーザーが組織を通してログインするときに適用されます。具体的には、[組織メンバーのロールを追加](/ja-jp/manage-users/organizations/configure-organizations/add-member-roles)、[組織メンバーからロールを削除](/ja-jp/manage-users/organizations/configure-organizations/remove-member-roles)、または[組織のメンバーロールを取得](/ja-jp/manage-users/organizations/configure-organizations/retrieve-member-roles)できます。ロールとそれに関連付けられた権限を使って、[構築するアプリケーション](/ja-jp/manage-users/organizations/custom-development)へのアクセスを制御できます。ロールの詳細については、「[Role-base Access Control](/ja-jp/manage-users/access-control/rbac)」をお読みください。

## もっと詳しく

* [Auth0 Organizationsの仕組みを理解する](/ja-jp/manage-users/organizations/organizations-overview)
* [組織のカスタム開発](/ja-jp/manage-users/organizations/custom-development)
* [トークンとOrganizations（組織）を使用する](/ja-jp/manage-users/organizations/using-tokens)
* [Organizationsの構成](/ja-jp/manage-users/organizations/configure-organizations)