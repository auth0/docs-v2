---
title: "Auth0 Management APIを使用してユーザーのセッションを管理する"
permalink: "manage-user-sessions-with-auth0-management-api"
'description': "Auth0 Management APIでユーザートークンを管理する方法について説明します。"
'og:title': "Auth0 Management APIを使用してユーザーのセッションを管理する"
'og:description': "Auth0 Management APIでユーザートークンを管理する方法について説明します。"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Auth0 Management APIを使用してユーザーのセッションを管理する"
'twitter:description': "Auth0 Management APIでユーザートークンを管理する方法について説明します。"
---

Auth0は要求間でユーザーの認証状態を維持するために、[セッション](/ja-jp/manage-users/sessions)を使用します。

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Auth0 Management APIのセッション管理エンドポイントは、エンタープライズプランでのみ利用できます。詳細については、「[価格設定](https://auth0.com/pricing)」をお読みください。

</Callout>

## Management APIエンドポイント

[Management API](/ja-jp/api/management/v2)は、[Auth0セッションレイヤー](/ja-jp/manage-users/sessions/session-layers)にあるユーザーセッションの内部に帯域外アクセスを提供し、セッションを強制終了するために削除メソッドを提供します。

### セッションリソース

特定のセッションを表示または削除するには、以下のエンドポイントを使用できます。

<table class="table"><thead>
<tr>
<th><strong>名前</strong></th>
<th><strong>URL</strong></th>
<th><strong>必要なスコープ</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Introspect a specific session by ID（特定のセッションをID別にイントロスペクトする）</td>
<td>`GET /api/v2/sessions/{sessionId}`</td>
<td>`read:sessions`</td>
</tr>
<tr>
<td>Delete a specific session by ID（特定のセッションをIDで削除する）</td>
<td>`DELETE /api/v2/sessions/{sessionId}`</td>
<td>`delete:sessions`</td>
</tr>
</tbody>
</table>

### ユーザーリソース

特定のユーザーに対するすべてのセッションを一覧表示または削除するには、以下のエンドポイントを使用できます。

<table class="table"><thead>
<tr>
<th><strong>名前</strong></th>
<th><strong>URL</strong></th>
<th><strong>必要なスコープ</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>List sessions details of a user（ユーザーセッションの詳細を一覧表示する）</td>
<td>`GET /api/v2/users/{userId}/sessions`</td>
<td>`read:sessions`</td>
</tr>
<tr>
<td>Delete all user sessions（ユーザーのすべてのセッションを削除する）</td>
<td>`DELETE /api/v2/users/{userId}/sessions`</td>
<td>`delete:sessions`</td>
</tr>
</tbody>
</table>

## セッションプロパティ

セッションエンドポイントは、セッションとその履歴に関する関連情報を返します。

<table class="table"><thead>
<tr>
<th><strong>フィード</strong></th>
<th><strong>説明</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Session ID（セッションID）</td>
<td>セッションIDは、Auth0テナントにおける永続的な識別子です。<br/><br/>セッションIDはIDトークンやログアウトトークンにある`sid`クレームに対応しているため、それらを相互参照するのに使うことができます。</td>
</tr>
<tr>
<td>Relevant Time（関連時間）</td>
<td>セッションの作成や認証が行われた日時、および有効期限です。</td>
</tr>
<tr>
<td>Device Information（デバイス情報）</td>
<td>デバイスプロパティには、このAuth0セッションとのやり取りで使用されたユーザエージェント（ブラウザーなど）の詳細が含まれています。</td>
</tr>
<tr>
<td>認証情報</td>
<td>このセッションで認証に使用された方法についての要約が含まれています。</td>
</tr>
</tbody>
</table>

これらのフィールドの詳細については、[Management APIのドキュメント](/ja-jp/api/management/v2)を参照してください。

## OIDCバックチャネルログアウトのイニシエーター

セッション削除イベントは、`session-deleted`イニシエーターを通して[OIDCバックチャネルログアウト](/ja-jp/authenticate/login/logout/back-channel-logout)に接続されます。詳細については、「[OIDCバックチャネルログアウトのイニシエーター](/ja-jp/authenticate/login/logout/back-channel-logout/oidc-back-channel-logout-initiators)」をお読みください。

## セッションとリフレッシュトークン

セッションとリフレッシュトークンは、スムーズなユーザー認証とセキュリティを最適化するために連携しします。詳細については、Auth0ブログの「[アプリケーションセッション管理のベストプラクティス](https://auth0.com/blog/application-session-management-best-practices)」をお読みください。

リフレッシュトークンは、セッションが失効や削除された後、またはユーザーがログアウトした後もアクティブなままになります。<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/ja-jp/glossary?term=management-api" tip="Management API: 顧客が管理タスクを実行できるようにするための製品。" cta="用語集の表示">Management API</Tooltip>を使用すると、独立して[リフレッシュトークンを管理](/ja-jp/secure/tokens/manage-refresh-tokens-with-auth0-management-api)したり、セッションと連携して管理したりできます。

## 制限事項

セッション削除の操作は非同期で実行され、最終的には整合性が保たれます。

## もっと詳しく

* [OIDCエンドポイントを使用してユーザーをAuth0からログアウトさせる](/ja-jp/authenticate/login/logout/log-users-out-of-auth0)
* [OIDCバックチャネルログアウト](/ja-jp/authenticate/login/logout/back-channel-logout)
* [OIDCバックチャネルログアウトイニシエータ](/ja-jp/authenticate/login/logout/back-channel-logout/oidc-back-channel-logout-initiators)
* [OIDCバックチャネルログアウトを構成する](/ja-jp/authenticate/login/logout/back-channel-logout/configure-back-channel-logout)