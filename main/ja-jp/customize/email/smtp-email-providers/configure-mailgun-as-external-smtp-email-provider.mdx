---
title: "Mailgunを外部SMTPメールプロバイダーとして構成する"
permalink: "configure-mailgun-as-external-smtp-email-provider"
'description': "Mailgunを外部SMTPメールプロバイダーとして構成する方法について説明します。"
'og:title': "Mailgunを外部SMTPメールプロバイダーとして構成する"
'og:description': "Mailgunを外部SMTPメールプロバイダーとして構成する方法について説明します。"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Mailgunを外部SMTPメールプロバイダーとして構成する"
'twitter:description': "Mailgunを外部SMTPメールプロバイダーとして構成する方法について説明します。"
---

Auth0では独自のSMTPメールプロバイダーを構成して、メール通信をより完全に管理、監視、トラブルシューティングできるようにすることができます。Auth0に組み込みのメールインフラストラクチャは、メールのテストにのみ使用してください。

## 前提条件

* Auth0からSMTPにメールが送信できるようにするには、ポートを開き、特定のIPアドレスからのインバウンド接続を許可します。IPのリストを更新するには、[［Dashboard］>［Branding（ブランディング）］>［Email Provider（メールプロバイダー）］](https://manage.auth0.com/#/branding/email_provider)に移動します。詳細については、「[IPアドレスをAllowListに追加する](/ja-jp/secure/security-guidance/data-security/allowlist)」をご覧ください。
* [Mailgun](https://mailgun.com)アカウントが必要です。

## Mailgunを構成する

1. [Mailgun](https://mailgun.com)にログインします。
2. Mailgunで **［Sending（送信）］>［Domains（ドメイン）］** に移動し、カスタムドメインを追加します。Mailgunでは、検証済みドメインからのみメールの送信が許可されます。
3. Mailgunで **［Settings（設定）］>［API Keys（APIキー）］** に移動します。アカウントにサインアップしたときにAPIキーが作成されました。 **秘密APIキー** からコピーします。
4. [［Auth0 Dashboard］>［Branding（ブランディング）］>［Email Provider（メールプロバイダー）］](https://manage.auth0.com/#/branding/email_provider)に移動します。
5. **［Use my own email provider（独自のメールプロバイダーを使用する）］** を有効化します。
6. **Mailgun** のロゴをクリックします。
7. **［From（送信元）］** メールアドレスを入力し、Mailgunに追加済みの **［Domain（ドメイン）］** を入力し、コピーしておいたMailgunの **［API Key（APIキー）］** を入力して、 **［Region（地域）］** を選択します。
8. **［Save（保存）］** をクリックします。

## テストメール

**［Send Test Email（テストメールを送信）］** ボタンを使用して、テストメールを送信できるようになりました。すべてを正しく構成した場合は、確認メールが届きます。数分経ってもメールが届かない場合は、[Auth0ログ](https://manage.auth0.com/#/logs)でエラーがないか確認してください。

[Mailgun Dashboard](https://app.mailgun.com/app/dashboard)に、ユーザーに送信されたすべてのメールの配信インサイトが表示されるようになりました。