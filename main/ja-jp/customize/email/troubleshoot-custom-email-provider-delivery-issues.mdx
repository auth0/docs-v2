---
title: "カスタムメールプロバイダーの配信問題のトラブルシューティング"
permalink: "troubleshoot-custom-email-provider-delivery-issues"
'description': "メール配信の問題を見つけて解決する手順について説明します。"
'og:title': "カスタムメールプロバイダーの配信問題のトラブルシューティング"
'og:description': "メール配信の問題を見つけて解決する手順について説明します。"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "カスタムメールプロバイダーの配信問題のトラブルシューティング"
'twitter:description': "メール配信の問題を見つけて解決する手順について説明します。"
---

Auth0 を使用すると、独自のSMTPメールプロバイダーを構成して、電子メール通信を管理、監視、トラブルシューティングできます。メール配信の問題が発生した場合は、Auth0サポートに連絡する前に確認すべき設定がいくつかあります。

カスタムメールプロバイダーに使用しなければなりません。[組み込みのメールプロバイダー](https://manage.auth0.com/#/templates/provider)はテスト専用であり、長期的なメール管理の代替にはなりません。

## インフラストラクチャとドメイン構成の確認

次の認証標準を使用してメールプロバイダーを構成します。

* ドメインキー識別メール([DKIM](http://dkim.org/))
* 送信者ポリシーフレームワーク([SPF](https://datatracker.ietf.org/doc/rfc7208/))
* ドメインベースのメッセージ認証、レポート、適合([DMARC](https://dmarc.org/))

DKIM、SPF、DMARCに関連するDNSレコードの設定を確認するには、いくつかのツールを使用できます。`dig`や`nslookup`などの組み込みのコマンドラインツールは、MXレコードやその他の一般的なルーティングの問題を診断するのに役立ちます。

[MXToolBox](https://mxtoolbox.com/)や[DNSChecker](https://dnschecker.org/all-tools.php)などのオンラインツールも、認証基準に関連する設定を分析でき、メール設定の誤った構成や必要な変更を特定するのに役立ちます。

<Warning>

上記のツールは、Auth0の管理や所有するものではありません。

</Warning>

## Microsoft Exchange特有の問題

Microsoft Exchangeをメールプロバイダーとして使用している場合、Exchangeがメールを高リスクと判断すると、メールが検疫される可能性があります。これは、メールが外部ソースからルーティングされる場合に発生する可能性があります。

Microsoft Exchangeがメッセージを検疫した場合、管理者は特別な受信トレイでメッセージを表示し、メッセージがスパムとして表示される原因となっているDMARCアライメントエラーがあるかどうかを判断できます。

## SendGrid特有の問題

メールプロバイダーとしてSendGridを使用している場合、受信者のメールサーバーがメッセージを拒否すると、メールが抑制される可能性があります。詳細については、「[SendGrid Docsの異なるタイプの抑制](https://docs.sendgrid.com/ui/sending-email/index-suppressions#different-types-of-suppressions)」をお読みください。

場合によっては、SendGridは送信者の評判を保護するために、特定のメールアドレスへのメッセージを「ドロップ」します。「ドロップ」に関する詳細については、「[SendGrid Docsのドロップ](https://docs.sendgrid.com/glossary/drops)」をお読みください。

[メールでのパスワードレス認証](https://auth0.com/docs/authenticate/passwordless#email)を使用している場合は、パスワードなしの接続の **送信元** メールアドレスの値が、SendGridに使用している **送信元** メールアドレスの値と一致していることを確認してください。

## Auth0サポートへのお問い合わせ

カスタムメールプロバイダーの設定を確認し、ドメインがDKIM、SPF、DMARCプロトコルを実装していることを確認したにもかかわらず、メール配信がまだ失敗する場合は、Auth0サポート チームに連絡して確認してもらう必要がある場合があります。

当社のサポートチームは、お客様のメールプロバイダーがメッセージを受信したかどうか、またメッセージが受け入れられなかった場合に返されるエラーを確認できます。詳細については、「[サポートチケットの開示と管理](/ja-jp/troubleshoot/customer-support/open-and-manage-support-tickets)」をお読みください。

## メール配信の問題の診断

カスタムプロバイダーを構成したが、メールが送信されているという通知を受信して​​いない場合は、Auth0でプロバイダー構成の詳細を確認し、カスタムプロバイダーが利用可能であることを確認してください。メール通知エラーに関するログデータを表示するには、[［Dashboard］>［Monitoring（モニタリング）］>［Logs（ログ）］](https://manage.auth0.com/#/logs)に移動し、`通知の送信失敗`イベントタイプで結果をフィルターします。

## もっと詳しく

* [メールのカスタマイズ](/ja-jp/customize/email)