---
title: "Login by Auth0をインストールする"
permalink: "install-login-by-auth0"
'description': "Auth0のWordPressプラグインをインストールする方法について説明します。"
'og:title': "Login by Auth0をインストールする"
'og:description': "Auth0のWordPressプラグインをインストールする方法について説明します。"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Login by Auth0をインストールする"
'twitter:description': "Auth0のWordPressプラグインをインストールする方法について説明します。"
---

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

プラグインをインストールまたはカスタマイズするには、セルフホスト型のWordPress.orgサイトを使用しなければなりません。WordPress.comサイトを使用している場合、プラグインはインストールできません。サイトの違いについては、wordpress.com提供の「[WordPress.comとWordPress.org](https://wordpress.com/support/com-vs-org/)」をお読みください。

</Callout>

このプラグインをWordPressサイトに追加するには、wp-adminの **［Plugins（プラグイン）］** 画面で以下を行います。

1. 既存のWordPressサイトに管理者としてログインします。
2. 左の管理メニューから **［Plugins（プラグイン）］>［Add New（新規追加）］** を選択します。
3. 「Login by Auth0」を見つけます。
4. Login by Auth0プラグインで **［Install Now（今すぐインストール）］** をクリックしてから、 **［Activate（アクティブ化）］** を選択します。

このプロセスについては、wordpress.com提供の「[WordPress.comとWordPress.org](https://wordpress.com/support/com-vs-org/)」をお読みください。

プラグインがアクティブ化されると、セットアップウィザードの開始画面にリダイレクトされます。

Auth0アカウントをまだ持っていない場合には、まず[**無料でサインアップ** ](https://auth0.com/signup)してから手順を進めてください。

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Auth0は、［Settings（設定）］タブの［Basic Information（基本情報）］で **Domain（ドメイン）** 、 **Client ID（クライアントID）** 、 **Clienet Secret（クライアントシークレット）** が入力されるまでログインフォームを置き換えません。

</Callout>

## マルチサイトのセットアップ

Login by Auth0プラグインは、WordPressのマルチサイトネットワークと互換性があります。プラグインをネットワークにアクティブ化して、ネットワークのサイトを自動的に保護（構成の完了後）したり、ネットワークのサブセットにのみアクティブ化したりできます。

Auth0でサイトのネットワークをセットアップするには、いくつかの方法があります。

1. **すべてのサイトでアプリケーションとデータベース接続の両方を共有する**

   1. メインサイトにセットアップウィザードの手順を実行して、完了させます。
   2. 他のすべてのサイトを手動で構成します。その際には、Auth0の設定ページの［Basic（基本）］タブにあるメインサイトの **ドメイン** 、 **クライアントID** 、 **クライアントシークレット** を使用します。
   3. アプリケーションの **Allowed Callback URLs（許可されているCallback URL）** 、 **Allowed Web Origins（許可されているWebオリジン）** 、および **Allowed Logout URLs（許可されているログアウトURL）** に各サイトを含めて更新します（ネットワークにサブドメインがある場合には、ワイルドカードを使うことができます）。
2. **各サイトに独自のアプリケーションがあり、データベース接続を共有する**

   1. メインサイトにセットアップウィザードの手順を実行して、完了させます。
   2. [それぞれのサイトに手動で1つのアプリケーションを作成](/ja-jp/customize/integrations/cms/wordpress-plugin/configure-login-by-auth0)し、作成済みのデータベース接続に追加します。
   3. それぞれのサイトについて、Auth0の設定ページにある［Basic（基本）］タブに **ドメイン** 、 **クライアントID** 、 **クライアントシークレット** の値を追加します。
3. **各サイトに独自のアプリケーションと独自のデータベース接続がある** 。この場合には、それぞれのサイトにセットアップウィザードの手順を実行して、完了させます。

上記のオプションにはいずれも妥協しなければならない側面があります。オプション1では、Auth0で管理する個別のエンティティの数は最小ですが、ネットワークに何百ものサイトがあり、サブドメインが使われてない場合には、Callback URLの数が制限されてしまいます。オプション2では、多くの異なるアプリケーションを管理しなければなりませんが、各サイトのアプリケーションを個別に構成できます。

この構成プロセスに関するご質問は、通常どおりの方法で[「wordpress」のタグを付けて、Auth0 Communityに投稿](https://community.auth0.com/tags/wordpress)してください。

## セットアップウィザード

セットアップウィザードは、WordPressサイトでAuth0を使用するのに必要なコンポーネントをすべて作成しようとします。既存のアプリケーションやデータベース接続を使用したい場合には、以下に記載の「手動でのセットアップ」を参照してください。

### オプション1：標準セットアップ

サイトにアプリケーションとデータベース接続を作成して構成します。

まず、[Management APIトークンを生成](/ja-jp/api/management/v2/get-access-tokens-for-test#get-access-tokens-manually)します。トークンが生成されたら、 **［Settings（設定）］** タブの **［Identifier（識別子）］** で使用されているドメイン名を書き留めておきます。たとえば、識別子が「`https://tenant-name.auth0.com/api/v2/`」の場合、テナントのドメインは「`tenant-name.auth0.com`」になります。テナントのドメインについては、「[テナントを作成する](/ja-jp/get-started/auth0-overview/create-tenants)」をお読みください。

WordPress管理のセットアップウィザードに戻って、 **［Standard（標準）］** をクリックします。表示された画面で **［Start Standard Setup（標準セットアップの開始）］** をクリックします。

テナントのドメインと、上記で生成したAPIトークンを入力します。このトークンはセットアップのプロセスでのみ使用され、データベースには保管されません。

セットアップの最初の手順が完了すると、［Configure your social connections（ソーシャル接続を構成する）］画面が表示されます。 **［Next（次へ）］** をクリックして、管理者アカウントの移行に進みます。

に準拠していることを確認してください。詳細については、「[Auth0データベース接続のパスワード強度：パスワードポリシー](/ja-jp/connections/database/password-strength#password-policies)」をお読みください。

サイトを正しく構成するには、セットアップウィザードを最後まで完了させる必要があります。何らかの理由でウイザードが失敗して、［setup successful（セットアップの成功）］画面に到達できなかった場合には、 **wp-admin >［Auth0］>［Error Log（エラーログ）］** でプラグインのエラーログを確認し、提供されている手順で原因を特定します。

完全に最初からやり直すには、<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/ja-jp/glossary?term=auth0-dashboard" tip="Auth0 Dashboard: サービスを構成するためのAuth0の主製品。" cta="用語集の表示">Auth0 Dashboard</Tooltip>で作成したアプリケーションやデータベース接続を削除します。WordPressで **［Auth0］>［Settings（設定）］>［Basic（基本）］** に移動し、ドメイン、クライアントID、およびクライアントシークレットを削除してから、 **［Save（保存）］** をクリックします。管理メニューにある **［Setup Wizard（セットアップウィザード）］** をクリックして、プロセスをもう一度最初から始めます。

それでもインストールできない場合は、エラーログに記録されているエラーメッセージも含めて[Auth0 Communityにスレッドを投稿](https://community.auth0.com/tags/wordpress)してください。喜んでお手伝いさせていただきます！

### オプション2：ユーザー移行でのセットアップ

アプリケーションとデータベース接続の作成と構成を行った上で、WordPressデータベースからデータを移行します。これには、Auth0サーバーからのインバウンド接続が必要です。また、後で変更すると、データを失います。詳細については、「[WordPressプラグインのLogin by Auth0でユーザーを移行する](/ja-jp/customize/integrations/cms/wordpress-plugin/user-migration-in-login-by-auth0)」をお読みください。

::: 警告：
Auth0に1つ以上のカスタムデータベース接続がある場合は、競合を避けるために、ユーザーIDが名前空間化されていることを確認してください。バージョン3.11.0以降のインストールでは、これがサイトについて自動的に実行されます。接続の作成にこれより前のバージョンを使用している場合には、「[WordPressプラグインのLogin by Auth0でユーザーを移行する](/ja-jp/customize/integrations/cms/wordpress-plugin/user-migration-in-login-by-auth0)」に記載のトラブルシューティングをお読みください。
:::

構成プロセスが完了したら、WordPressサイトからログアウトし、Auth0のログインフォームにある既存のWordPress資格情報を使ってログインし直します。これで、WordPressアカウントにリンクされたAuth0ユーザーが作成されるはずです。

### オプション3：手動でのセットアップ

自動セットアップをスキップして、独自のアプリケーションとデータベース接続の作成と構成を行います（以下を参照）。既存のアプリケーションやデータベース接続をこのサイトに使いたい場合には、この方法を使用します。

### オプション4：インポートでのセットアップ

別のサイトから設定をインポートすることによって、サイトをセットアップすることもできます。これは、環境間の移行や、すでに構成済みで同様のWordPressサイトがある場合に便利です。

## セットアップの完了

［Done（完了）］画面が表示されたら、Auth0が有効化され、ログイン（と構成されている場合にはサインアップ）を受け付けることができます。

デフォルトの設定を変更する前に、基本的な動作をサイトで確認するには、これが絶好のチャンスです。

1. WordPressからログアウトして、Auth0フォームが`/wp-login.php`で表示されることを確認します。
2. 前の手順で作成したAuth0ユーザーを使ってログインします。
3. ログアウトして、異なるメールアドレス（WordPressの一般設定で［Anyone can register（登録自由）］がオンの場合）を使ってアカウントを作成してみます。
4. ソーシャル接続（有効に設定している場合）を使ってログインしてみます。

これで[アプリケーションを構成する](/ja-jp/customize/integrations/cms/wordpress-plugin/configure-login-by-auth0)準備が整いました。

## 手動でのセットアップ

プラグインは、内蔵のセットアップウィザード（以下を参照）を使って構成するか、アプリケーションの作成と接続の割り当てを行い手動で構成することができます。ウィザードで問題が発生する場合、以前にセットアップを実行した場合、もしくは、アプリケーション間でデータベース接続を共有したい場合には、完全に手動でセットアップすることができます。

1. [［Auth0 Dashboard］>［Applications（アプリケーション）］>［Applications（アプリケーション）］](https://manage.auth0.com/#)に移動して、 **［Create（作成）］** を選択します。
2. アプリケーションに分かりやすい名前を入力し、 **［Regular Web Applications（通常のWebアプリケーション）］** を選択してから **［Create（作成）］** を選択します。
3. WordPressをインストールするために、アプリケーションを構成します。アプリケーションの構成方法については、「[Login by Auth0を構成する](/ja-jp/customize/integrations/cms/wordpress-plugin/configure-login-by-auth0)」を参照し、「WordPressでAuth0の設定を更新する」の全セクションにある手順に従います。

上記の手順が完了したら、構成したサイトを使い始めることができます。

## もっと詳しく

* [WordPressとの統合](/ja-jp/customize/integrations/cms/wordpress-plugin/integrate-with-wordpress)
* [Login by Auth0を構成する](/ja-jp/customize/integrations/cms/wordpress-plugin/configure-login-by-auth0)
* [WordpressプラグインのLogin by Auth0のトラブルシューティング](/ja-jp/customize/integrations/cms/wordpress-plugin/troubleshoot-login-by-auth0)
* [Auth0 Wordpressプラグインのログイン時間を延長する](/ja-jp/customize/integrations/cms/wordpress-plugin/extend-login-by-auth0)