---
title: "Deploy CLIを構成する"
permalink: "configure-the-deploy-cli"
'description': "Auth0 Deploy CLIを構成して、ニーズに合わせてツールを変更する方法を説明します。"
'og:title': "Deploy CLIを構成する"
'og:description': "Auth0 Deploy CLIを構成して、ニーズに合わせてツールを変更する方法を説明します。"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Deploy CLIを構成する"
'twitter:description': "Auth0 Deploy CLIを構成して、ニーズに合わせてツールを変更する方法を説明します。"
---

DeployのCLIを構成することは、Auth0の資格情報を確立するためだけでなく、一般的にはツールの動作を特定のニーズに合わせて変更するためにも不可欠です。Deploy CLIの構成方法は2通りあります。

1. 構成ファイル（`config.json`）を使用する。
2. 環境変数を設定する。

## 構成ファイル

Deploy CLIの構成にはスタンドアロンJSONファイルを使用できます。このファイルは通常、プロジェクトのルートディレクトリにあり、`config.json`という名前でなければなりません。

### 例

```javascript lines
{
  "AUTH0_DOMAIN": "<YOUR_TENANT_DOMAIN>",
  "AUTH0_CLIENT_ID": "<YOUR_CLIENT_ID>",
  "AUTH0_ALLOW_DELETE": false
}
```

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

資格情報をハードコードすることはお勧めしません。万が一、そのファイルが公開バージョン管理システムにコミットされた場合に、シークレットが漏洩する可能性があります。このリスクを軽減するために、ベストプラクティスに従い、資格情報を[環境変数](#environment-variables)として渡します。

</Callout>

## 環境変数

デフォルトでは、Deploy CLIは環境変数を取り込み、`config.json`ファイルに公開しなくても資格情報やその他の構成をツールに渡すことができます。環境変数は、プロジェクトのニーズに応じて`config.json`ファイルを拡張するために使用することも、同ファイルを完全に置き換えるために使用することもできます。

`AUTH0_KEYWORD_REPLACE_MAPPINGS`や`AUTH0_EXCLUDED`のような非プリミティブ構成値も、これらの値が適切にシリアル化されたJSONである限り、環境変数を介して渡すことができます。

`import`または`export`コマンドのいずれかで環境変数の使用を無効にするには、`--env=false`引数を渡します。

### 例

#### config.jsonファイルを使用せずにYAML形式の構成を展開する

```php lines
$ export AUTH0_DOMAIN=<YOUR_AUTH0_DOMAIN>
$ export AUTH0_CLIENT_ID=<YOUR_CLIENT_ID>
$ export AUTH0_CLIENT_SECRET=<YOUR_CLIENT_SECRET>
$ a0deploy import --input_file=local/tenant.yaml
```

#### 環境変数の取り込みを無効にする

```php lines
$ a0deploy export -c=config.json --format=yaml --output_folder=local --env=false
```

#### 非プリミティブ構成値

```php lines
$ export AUTH0_EXCLUDED='["actions","organizations"]'
$ export AUTH0_KEYWORD_REPLACE_MAPPINGS='{"ENVIRONMENT":"dev"}'
$ a0deploy export -c=config.json --format=yaml --output_folder=local
```

## 利用可能な構成プロパティ

### AUTH0_DOMAIN

文字列。対象のAuth0テナントのドメイン。

### AUTH0_CLIENT_ID

文字列。API要求を行うために使用される、指定されたAuth0アプリケーションのID。

### AUTH0_CLIENT_SECRET

文字列。API要求を行うために使用される、指定されたAuth0アプリケーションのシークレット。

### AUTH0_ACCESS_TOKEN

文字列。指定されたAuth0アプリケーションからの<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/ja-jp/glossary?term=management-api" tip="Management API: 顧客が管理タスクを実行できるようにするための製品。" cta="用語集の表示">Management API</Tooltip>への有効期間の短いアクセストークン。クライアントIDとクライアントシークレットの組み合わせの代わりに使用できます。

### AUTH0_CLIENT_SIGNING_KEY_PATH

文字列。秘密鍵<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-3" href="/ja-jp/glossary?term=json-web-token" tip="JSON Web Token（JWT）: 二者間のクレームを安全に表現するために使用される標準IDトークン形式（および多くの場合、アクセストークン形式）。" cta="用語集の表示">JWT</Tooltip>認証を促進する際にクライアントが使用するプライベートキーへのパス。作業ディレクトリからの相対パス。署名アルゴリズムを指定するには、`AUTH0_CLIENT_SIGNING_ALGORITHM`も指定してください。

### AUTH0_CLIENT_SIGNING_ALGORITHM

文字列。秘密鍵JWT認証を促進する際にクライアントが使用するJWT署名アルゴリズムを指定します。`AUTH0_CLIENT_SIGNING_KEY_PATH`との組み合わせでのみ使用されます。

受け入れられる値：`RS256`、`RS384`、`PS256`

### AUTH0_ALLOW_DELETE

ブール値。有効にすると、ツールでリソースを削除できるようになります。デフォルト：`false`

### AUTH0_EXCLUDED

文字列の配列。双方向で管理対象からリソースタイプ全体を除外します。詳細については、[Managementからリソースを除外する](/ja-jp/deploy-monitor/deploy-cli-tool/exclude-resources-from-management)をお読みください。

[AUTH0_INCLUDED_ONLY](#auth0_included_only)と同時に使用することはできません。

可能な値：`actions`、`attackProtection`、`branding`、`clientGrants`、`clients`、`connections`、`customDomains`、`databases`、`emailProvider`、`emailTemplates`、`guardianFactorProviders`、`guardianFactorTemplates`、`guardianFactors`、`guardianPhoneFactorMessageTypes`、`guardianPhoneFactorSelectedProvider`、`guardianPolicies`、`logStreams`、`migrations`、`organizations`、`pages`、`prompts`、`resourceServers`、`roles`、`tenant`、`triggers`

#### 例

```json lines
{
  "AUTH0_EXCLUDED": ["organizations", "connections", "hooks"]
}
```

### AUTH0_INCLUDED_ONLY

文字列の配列。双方向で管理するリソースの種類を指定します。詳細については、[Managementからリソースを除外する](/ja-jp/deploy-monitor/deploy-cli-tool/exclude-resources-from-management)をお読みください。

[AUTH0_EXCLUDED](#auth0_excluded)と同時に使用することはできません。

可能な値：`actions`、`attackProtection`、`branding`、`clientGrants`、`clients`、`connections`、`customDomains`、`databases`、`emailProvider`、`emailTemplates`、`guardianFactorProviders`、`guardianFactorTemplates`、`guardianFactors`、`guardianPhoneFactorMessageTypes`、`guardianPhoneFactorSelectedProvider`、`guardianPolicies`、`logStreams`、`migrations`、`organizations`、`pages`、`prompts`、`resourceServers`、`roles`、`tenant`、`triggers`

#### 例

```json lines
{
  "AUTH0_INCLUDED_ONLY": ["clients", "connections", "tenant", "branding"]
}
```

### AUTH0_KEYWORD_REPLACE_MAPPINGS

特定のキーワードを施設の動的な置換にマッピングします。詳細については、[キーワードの置換](/ja-jp/deploy-monitor/deploy-cli-tool/keyword-replacement)をお読みください。

#### 例

```javascript lines
{
  "ENVIRONMENT": "DEV",
  "ALLOWED_ORIGINS": ["https://dev.test-site.com", "localhost"]
}
```

### AUTH0_PRESERVE_KEYWORDS

ブール値。有効にすると、エクスポート時にローカルリソースファイル内のキーワード置換マーカーの保存を試みます。それ以外の場合は、リモート値が手動で配置されたキーワードマーカーを上書きします。

この構成では、ローカル構成ファイルの存在と、`AUTH0_KEYWORD_REPLACE_MAPPINGS`構成プロパティを介して定義されたキーワード置換マッピングが必要です。

次の記事も参照してください：[エクスポート時にキーワードを保持する](https://auth0.com/docs/deploy-monitor/deploy-cli-tool/keyword-replacement#preserve-keywords-on-export)

### AUTH0_EXPORT_IDENTIFIERS

ブール値。有効にすると、すべてのリソースの識別子が返されます。単一テナントの場合に、特定のデバッグや記録管理で役立つ可能性があります。デフォルト：`false`

### EXCLUDED_PROPS

管理対象から不要なプロパティを除外する機能を提供します。

#### 例

```javascript lines
{
  "connections": ["options.twilio_token"]
}
```

### AUTH0_AUDIENCE

文字列。Management APIのアクセストークンを取得する際に、値をオーディエンスの値から分離します。デフォルトのManagement APIエンドポイントが一般に公開されていない場合に役立ちます。

### AUTH0_EXCLUDED_RULES

文字列の配列。IDによる特定のルールの管理を除外します。注意：この構成は将来廃止される可能性があります。詳細については、[Managementからリソースを除外する](/ja-jp/deploy-monitor/deploy-cli-tool/exclude-resources-from-management)をお読みください。

### AUTH0_EXCLUDED_CLIENTS

文字列の配列。IDによる特定のクライアントの管理を除外します。注意：この構成は将来廃止される可能性があります。詳細については、[Managementからリソースを除外する](/ja-jp/deploy-monitor/deploy-cli-tool/exclude-resources-from-management)をお読みください。

### AUTH0_EXCLUDED_DATABASES

文字列の配列。IDによる特定のデータベースの管理を除外します。注意：この構成は将来廃止される可能性があります。詳細については、[Managementからリソースを除外する](/ja-jp/deploy-monitor/deploy-cli-tool/exclude-resources-from-management)をお読みください。

### AUTH0_EXCLUDED_CONNECTIONS

文字列の配列。IDによる特定の接続の管理を除外します。注意：この構成は将来廃止される可能性があります。詳細については、[Managementからリソースを除外する](/ja-jp/deploy-monitor/deploy-cli-tool/exclude-resources-from-management)をお読みください。

### AUTH0_EXCLUDED_RESOURCE_SERVERS

文字列の配列。IDによる特定のリソースサーバーの管理を除外します。注意：この構成は将来廃止される可能性があります。詳細については、[Managementからリソースを除外する](/ja-jp/deploy-monitor/deploy-cli-tool/exclude-resources-from-management)をお読みください。