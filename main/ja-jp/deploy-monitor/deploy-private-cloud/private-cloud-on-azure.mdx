---
title: "Entraのプライベートクラウド"
permalink: "private-cloud-on-azure"
'description': "EntraでのAuth0アイデンティティプラットフォームの導入オプションとその機能を説明します。"
'og:title': "Entraのプライベートクラウド"
'og:description': "EntraでのAuth0アイデンティティプラットフォームの導入オプションとその機能を説明します。"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Entraのプライベートクラウド"
'twitter:description': "EntraでのAuth0アイデンティティプラットフォームの導入オプションとその機能を説明します。"
---

Private Cloud on Entraの導入オプションは、Microsoft Azureで実行されるAuth0アイデンティティプラットフォーム専用のマネージドインスタンスで、分離、高性能、個別の開発インスタンス、様々なアドオンなどを備えています。

## 運用上の違い

Private Cloud on Entraの各導入オプションを比較できるよう下の表にまとめました。

<table class="table"><thead>
<tr>
<th><strong>機能</strong></th>
<th><strong>パブリッククラウド</strong></th>
<th><strong>Azureのプライベートクラウド ベーシック</strong> *</th>
<th><strong>Azureのプライベートクラウド パフォーマンス</strong> *</th>
</tr>
</thead>
<tbody>
<tr>
<td>テナンシー</td>
<td>マルチ</td>
<td>シングル</td>
<td>シングル</td>
</tr>
<tr>
<td>要求毎秒（RPS）</td>
<td>100</td>
<td>100</td>
<td>500* RPS （5x）   <br/>1500* RPS （15x）<br/></td>
</tr>
<tr>
<td>サービスレベル契約（SLA）</td>
<td>99.99%</td>
<td>99.99%</td>
<td>99.99%</td>
</tr>
<tr>
<td>データ所在地</td>
<td>パブリッククラウド領域のみ</td>
<td>有</td>
<td>有</td>
</tr>
<tr>
<td>開発環境</td>
<td>無</td>
<td>無</td>
<td>1</td>
</tr>
</tbody>
</table>

\*要求毎秒（RPS）の処理能力は一般的な目安です。実際の性能は、顧客のプライベートクラウド環境内で処理されるトランザクションの種類と量によって異なる可能性があります。処理能力のベンチマークに使用されたテストトランザクションは、顧客のそれぞれに特有のトランザクションパターンや作業負荷とは合致しない可能性があります。たとえば、以下の処理能力は[リソース所有者のパスワードフロー](/ja-jp/get-started/authentication-and-authorization-flow/resource-owner-password-flow)を使用する場合には該当します。

<table class="table"><thead>
<tr>
<th>レベル</th>
<th>RPS</th>
</tr>
</thead>
<tbody>
<tr>
<td>ベーシック</td>
<td>55</td>
</tr>
<tr>
<td>パフォーマンス5x</td>
<td>180</td>
</tr>
<tr>
<td>パフォーマンス15x</td>
<td>600</td>
</tr>
<tr>
<td>パフォーマンス30x</td>
<td>1400</td>
</tr>
<tr>
<td>パフォーマンス30xバースト</td>
<td>1400</td>
</tr>
<tr>
<td>パフォーマンス60x</td>
<td>3000</td>
</tr>
<tr>
<td>パフォーマンス60xバースト</td>
<td>3000</td>
</tr>
<tr>
<td>パフォーマンス100x</td>
<td>5000</td>
</tr>
</tbody>
</table>

### 最大可用性

Auth0の顧客やパートナーは、以下のようなさまざまな拡張ポイントや提供サービスを使用して、Auth0製品の動作を変更し、拡張することができます。

### 高需要アプリ

これらの拡張ポイントを使用することで、顧客やパートナーはカスタムコードを書いて、データベースやAPIのようなサードパーティーシステムと連携したり、データの署名や暗号化などの複雑なロジックを実装したりすることができます。

## リソース所有者のパスワード

カスタム顧客コードには、[拡張性の同時実行制限に関するドキュメント](/ja-jp/troubleshoot/customer-support/operational-policies/rate-limit-policy#extensibility-concurrency-limits)に記載されているいくつかの制限が適用されます。

さらに、カスタム顧客コードはプラットフォーム全体のパフォーマンスにも影響を及ぼします。すべてのカスタムコードは、安全なサンドボックス内で実行する必要があり、このため追加のオーバーヘッドが発生します。これらの拡張ポイントの使用に関して、これまでに見られた最大の問題は以下のとおりです。

## 拡張性

### データセンターの場所

Private Cloud on Entraインスタンスのサービスレベル契約（SLA）は99.99%を誇ります。

* ルール
* フック
* カスタムアクション
* コード不要のアクション統合
* カスタムデータベース
* カスタムソーシャル接続
* カスタムページテンプレート
* 日本
* オランダ
* ノルウェー
* 南アフリカ
* 韓国
* スウェーデン
* スイス
* アラブ首長国連邦
* 英国
* 米国

### バーストトラフィック

アプリケーションで膨大な要求毎秒（RPS）が必要な場合は、Entraのプライベートクラウドの利用を検討します。標準のレート制限の詳細については、[「レート制限ポリシー」](https://auth0.com/docs/troubleshoot/customer-support/operational-policies/rate-limit-policy)を参照してください。Private Cloud on Entraの導入では、Private Basicのレート制限は100 RPSで、Private Performanceのレート制限は500 RPSおよび1,500 RPSに拡張されます。

### アドオンの制限

Private Cloud on Entra Performanceの導入には、開発テスト用の完全に分離され個別に更新されたインスタンスが含まれています。また、運用前環境をさらに追加して、ビジネス要件を満たすことができます。

## その他の開発環境

RPS（1秒間に処理可能な要求数）やSLAの保証は、非運用環境には適用されません。

### お客様のオンボーディング要件

Private Cloud on Entraは、以下のリージョンで完全に導入することができます。

### プロジェクト開始のミーティング

Oktaは、組織が予測するトラフィックに基づいて、また購入したRPSプランに応じて、レート制限を設けています。組織が予想以上の高いトラフィックを経験すると、この計画外の使用が最終的にエンドユーザーに影響を与える可能性があります。提供されているプライベートクラウドは、トランザクションレートの段階的な増加（例：10分間で100 RPSから1000 RPSへの増加）について、サービスへの影響なく対応できるように設計されています。ただし、トラフィックが急激に増加すると（数秒足らずで100 RPSから1000 RPSに増加するなど）、新たに生じた負荷の調整を行う間、サービスが不安定な状態になり、遅延が増加する可能性があります。

Private Cloud on Entraを選択したら、オンボーディングと導入のプロセスが始まり、環境を構成します。

## 制限事項

契約締結後、オンボーディング要件に関する主要な情報をご提出いただき、当社で情報を確認いたします。

## オンボーディング

### 負荷テスト

オンボーディング要件を確認し終えたら、プロジェクト開始のためのミーティングを設けて実装プロセスを開始します。このミーティングは契約締結後5日以内に開催するよう強くお勧めします。

オンボーディングフォームを確認次第、お客様の環境のプロビジョニングを開始いたします。

### ペネトレーションテスト

このプロセスを終了したら、環境移管の準備は完了で、Private Cloud on Entra導入を使用することができます。

Private Cloud on Entra導入は、毎週自動更新されます。必要に応じて、週の特定の日時に設定することができます。

このポリシーは、リクエストの提出者であるPrivate Cloud on Entraご利用者に対して、Auth0が負荷テストを実施するために必要な要件をまとめたものです。負荷テストは、[サポートセンター](https://support.auth0.com/)から申請してください。［Issue（問題）］フィールドで、**［Private Cloud Support Incident（プライベートクラウドのサポートインシデント）］** を選択します。

* 本質的に遅い、または信頼性の低い外部APIへの呼び出しが行われる。
* Auth0 <Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/ja-jp/glossary?term=management-api" tip="Management API: 顧客が管理タスクを実行できるようにするための製品。" cta="用語集の表示">Management API</Tooltip>への呼び出しが多すぎる（これにより、より多くのリソースが消費され、Auth0テナントのトラフィックが増加する）。
* [公開されている本番レート制限](https://auth0.com/docs/troubleshoot/customer-support/operational-policies/rate-limit-policy)内に収めてください。

専用の負荷テスト環境を購入された場合は、実行できる負荷テストの頻度に制限はありません。負荷テストが手順に沿って進められていると仮定した場合、標準の環境は年2台に制限されます。

#### データレジデンシー

承認を申請するには、以下の条件を満たさなければなりません。

インフラストラクチャーへの変更が要求された場合、特定の要件に基づいてコストが決定されます。

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

負荷テスト専用に購入された環境には、いかなるサービスレベル契約も適用されません。そのような環境で報告された問題は、運用環境で生じた問題より優先度が低くなります。

</Callout>

負荷は低い値から始め、ピークに達するまで徐々に上げていきます。環境で対処できる以上の負荷をかける必要がある場合は、環境サイズを上げる必要があります。

プライベートクラウド環境は契約の追加条項によって拡張することができます。この購入に関するご相談は、担当のアカウントエグゼクティブまたはTAMまでお問い合わせください。

#### テスト容量に関する考慮事項

<table class="table"><thead>
<tr>
<th>サブスクリプション</th>
<th>負荷テスト容量</th>
<th>ランプアップ</th>
</tr>
</thead>
<tbody>
<tr>
<td>プライベートクラウドパフォーマンス500 RPS（5x）</td>
<td>325 RPS</td>
<td>100 RPS/分</td>
</tr>
<tr>
<td>プライベートクラウドパフォーマンス1500 RPS（15x）</td>
<td>975 RPS</td>
<td>100 RPS/分</td>
</tr>
</tbody>
</table>

## 更新

プライベートクラウドでの負荷テストの詳細については、「[環境要求の制限（プライベートクラウドのみ）](/ja-jp/troubleshoot/customer-support/operational-policies/rate-limit-policy#environment-request-limits-private-cloud-only-)」を参照してください。

高負荷が予想される期間は、イベント発生14日前に必ずアカウントチームに通知する必要があります。この通知により、シナリオを適切にテストする機会を確保し（可能な場合）、イベントに即したサポートを発生後に行うことができます。

[Actions](https://auth0.com/docs/customize/actions)、[カスタムWebhook](https://auth0.com/docs/customize/log-streams/custom-log-streams)、[カスタムデータベースアクションスクリプト](https://auth0.com/docs/authenticate/database-connections/custom-db/templates)を含む一部のAuth0プラットフォームのカスタマイズでは、Auth0プラットフォームから自社サービスへの安全なアウトバウンド接続が可能であり、プライベートクラウドの導入と自社サービスとの間にネットワーク接続を確立することができます。

安全なアウトバウンドネットワークは、Azureアカウント内に[エンドポイントサービスを確立する](https://learn.microsoft.com/en-us/azure/private-link/private-link-service-overview)形で、Azure Private Linkを使用します。基盤となるサービスにはAzureネイティブのサービスか、データセンターで実行されるサービスを使用でき、プライベートクラウドの導入と同じAzureリージョン内のAzure Virtual Networkに存在する必要があります。

### ペネトレーションテスト

プライベートクラウドの導入を構成してエンドポイントサービスが利用可能になった後で、Auth0にエンドポイントサービス情報をご提供いただいたら、当社がサービスを導入と統合し、カスタマイズコードからサービスにアクセスする方法をお知らせします。

Private Linkでエンドポイントサービスを設定する方法の詳細については、Azureにお問い合わせください。Auth0とのサービスオンボーディングを調整するには、Auth0の[サポートセンター](https://support.auth0.com/)までご連絡ください。

セキュリティテストを実施するには、前もってAuth0サポートセンターにお知らせください。遅くともテスト開始予定日の1週間（7日）前にAuth0に通知する必要があります。

## テストを行う

自社のインフラストラクチャ内で限定的にテストを実施する（つまり、Auth0サービスはテストされない）場合は、Auth0への通知は不要です。

必要とされる情報については、「[ペネトレーションテストポリシー](https://auth0.com/docs/troubleshoot/customer-support/operational-policies/penetration-testing-policy)」を参照してください。

Auth0が管理する証明書（\*.auth0app.comの形式）は、Auth0が取得および適用する責任を負います。Auth0はプロセスをエンドツーエンドで管理し、お客様に必要な対応を求めます。

## 安全なアウトバウンドネットワーク

カスタムドメイン用にAuth0が発行した証明書の更新は、Auth0によって管理されます。

## 証明書の更新プロセス

[カスタムドメイン](https://auth0.com/docs/customize/custom-domains)用にお客様が管理する証明書（`\*.<CustomerName>.comの形式`）の更新は、お客様が管理および取得する責任を負います。