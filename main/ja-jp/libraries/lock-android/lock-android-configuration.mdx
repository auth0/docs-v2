---
title: "Lock.Android：構成"
permalink: "lock-android-configuration"
'description': "Lock.Androidの外観と動作を変更します。"
'og:title': "Lock.Android：構成"
'og:description': "Lock.Androidの外観と動作を変更します。"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Lock.Android：構成"
'twitter:description': "Lock.Androidの外観と動作を変更します。"
---

Lock for Androidの機能性とデザインを構成するには、以下のオプションを使用できます。

構成オプションは、以下の形式でLock Builderに追加されます。

```kotlin lines
val lock = Lock.newBuilder(account, callback)
    // Configuration options
    .closable(true)
    .allowSignUp(false)
    .setPrivacyURL('http://example.com/privacy')
    .setTermsURL('http://example.com/terms')
    // End configuration options
    .build(this)
```

## 一般設定のオプション

* **closable(ブール値)** ：LockActivityを閉じることができるかを定義します。デフォルトでは、閉じることはできません。
* **allowedConnections(リスト)** ：Dashboardで構成済のリストにある許可されている接続をフィルター処理します。この値が空の場合にはデフォルトで、Dashboardで定義済みの接続がすべて使用できます。
* **hideMainScreenTitle(ブール値)** ：`true`に設定すると、メイン画面のヘッダーにタイトルは表示されません。

## 認証のオプション

* **withAuthenticationParameters(Map文字列, オブジェクト)**：それぞれのログインやサインアップの呼び出しに送信される追加のパラメーターを定義します。認証呼び出しで使用されるデフォルトの`scope`は`openid`です。別のスコープを指定したい場合には、`withAuthenticationParameters`を使って`scope`キーに異なる値を追加します。
* **withScope(文字列)**：認証要求で求められるスコープを変更します。
* **withAudience(文字列)**：認証要求で求められるオーディエンスを変更します。

## データベースのオプション

* **withUsernameStyle(整数)** ：求めるのがメールのみ、ユーザー名のみ、またはその両方なのかを定義します。値には`USERNAME`と`EMAIL`を受け付けます。デフォルトでは、Dashboardにある`requires_username`パラメーターの構成が適用されます。
* **loginAfterSignUp(ブール値)** ：`SignUp`イベントの後に、ユーザーを自動的にログインするべきかを指定します。デフォルトは`true`です。
* **initialScreen(整数)** ：Lockの起動でどのフォームを最初に表示するかをカスタマイズできるようにします。値には`LOG_IN`、`SIGN_UP`と`FORGOT_PASSWORD`を使用できます。デフォルトでは`LOG_IN`が最初の画面になります。
* **allowSignUp(ブール値)** ：データベース接続が構成済みで、Dashboardが許可している場合に、サインアップフォームの表示または非表示を指定します。デフォルトは`true`です。
* **allowLogIn(ブール値)** ：データベース接続が構成済みの場合に、ログインフォームの表示または非表示を指定します。デフォルトは`true`です。
* **allowForgotPassword(ブール値)** ：データベース接続が構成済みで、Dashboardが許可している場合に、パスワード紛失フォームの表示または非表示を指定します。デフォルトは`true`です。
* **allowShowPassword(ブール値)** ：パスワードフィールドの入力表示を切り替えるボタンの表示または非表示を指定します。デフォルトは`true`です。
* **setDefaultDatabaseConnection(文字列)** ：デフォルトで使用するデータベース接続を定義します。これは、アプリケーションに多数のデータベース接続が構成されている場合に役立ちます。
* **enableEnterpriseWebAuthenticationFor(リスト)** ：クリック時にWeb認証フローを開始するエンタープライズ接続をフィルター処理します。ストラテジーにはad、adfsとwaadのみを使用できます。
* **withSignUpFields(リスト)** ：サインアップ画面でユーザー名またはメールとパスワードを入力し終わった後に、ユーザーが完了するべき追加フィールドのある2番目の画面を表示します。この方法で送信された値は、ルート属性または`user_metadata`属性を使用して、ユーザープロファイルに保管することができます。詳細については、「[Lock Android：サインアップのカスタムフィールド](/ja-jp/lock-android-custom-fields-at-signup)」を参照してください。
* **setPrivacyURL(文字列)** ：プライバシーポリシーのURLをカスタマイズできるようにします。デフォルトは`https://auth0.com/privacy`です。
* **setTermsURL(文字列)** ：サービス利用規約のURLをカスタマイズできるようにします。デフォルトは`https://auth0.com/terms`です。
* **setSupportURL(文字列)** ：Lockで修復不可能なエラーが発生した場合に表示されるサポートのURLを設定できるようにします。
* **setMustAcceptTerms(ブール値)** ：サインアップする前に利用規約への同意をユーザーに強制するのかを指定します。デフォルトは`false`です。
* **useLabeledSubmitButton(ブール値)** ：`true`に設定すると、アイコンの代わりに、現在のモード（サインアップまたはログイン）のラベルのあるボタンを表示します。デフォルトは`true`です。`hideMainScreenTitle`オプションがtrueに設定されている場合、この設定は無視されますが、結果的にはラベルが使用されます。

## OAuthのオプション

* **withAuthStyle(文字列, 整数)** ：指定された接続（名）の外観と操作性を特定のスタイルでカスタマイズします。詳細については、[カスタムのOAuth接続に関するこちらのドキュメント](/ja-jp/libraries/lock-android/lock-android-custom-theming)を参照してください。
* **withConnectionScope(文字列, 文字列...)** ：指定された接続名に追加のスコープを指定できるようにします。これは、[Auth0 Dashboard](https://manage.auth0.com/#)で該当する接続の設定を確認してください。
* **withScheme(文字列)** ：認可呼び出しで送信される`redirect_uri`のスキームを変更できるようにします。デフォルトのスキームは`https`です。この設定を変更する場合には、Auth0アプリケーションのダッシュボートで`auth0Scheme`と［Allowed Callback URL（許可されているコールバックURL）］のマニフェストプレースホルダーも更新する必要があります。

## パスワードレスのオプション

* **useCode()** ：パスワードレス認証にメールやSMSを使って、リンクではなく、コードを送信します。
* **useLink()** ：パスワードレス認証にメールやSMSを使って、コードではなく、リンクを送信します。
* **rememberLastLogin(ブール値)** ：次回のパスワードレス認証の要求で自動ログインするように、最後の正常な認証に使用されたメールまたは電話番号を保存するかを指定します。