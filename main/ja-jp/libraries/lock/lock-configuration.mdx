---
title: "Lockの構成オプション"
permalink: "lock-configuration"
'description': "Lockには、Lockウィジェットの動作、外観、接続性を変更できる多くの設定オプションがあります。このリソースでは、それらのオプションの詳細を提供しています。"
'og:title': "Lockの構成オプション"
'og:description': "Lockには、Lockウィジェットの動作、外観、接続性を変更できる多くの設定オプションがあります。このリソースでは、それらのオプションの詳細を提供しています。"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Lockの構成オプション"
'twitter:description': "Lockには、Lockウィジェットの動作、外観、接続性を変更できる多くの設定オプションがあります。このリソースでは、それらのオプションの詳細を提供しています。"
---

Lockは、コンストラクターに送信される`options`パラメーターで設定できます。これらのオプションでは、Lockウィジェットの動作方法、Lockウィジェットが接続を処理する方法、プロジェクトに必要な追加のサインアップフィールド、ウィジェットの言語とテキストの値、色、画像など、さまざまな変更を行えます。探しているものが明確な場合は、下記のインデックスをご覧ください。詳細については、それぞれのオプションをご覧ください。

## UI

<table class="table"><thead>
<tr>
<th>オプション</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#allowautocomplete-boolean-">allowAutocomplete</a></td>
<td>メールやユーザー名の入力で自動補完を有効または無効にします</td>
</tr>
<tr>
<td><a href="#allowpasswordautocomplete-boolean-">allowPasswordAutocomplete</a></td>
<td>パスワードの入力で自動補完を有効または無効にします</td>
</tr>
<tr>
<td><a href="#allowshowpassword-boolean-">allowShowPassword</a></td>
<td>ユーザーが入力しているパスワードの表示を選択可能にするか指定します</td>
</tr>
<tr>
<td><a href="#allowedconnections-array-">allowedConnections</a></td>
<td>認証に利用可能な接続のリストです</td>
</tr>
<tr>
<td><a href="#autoclose-boolean-">autoclose</a></td>
<td>ログイン後にLockを閉じるか指定します</td>
</tr>
<tr>
<td><a href="#autofocus-boolean-">autofocus</a></td>
<td>最初の入力フィールドにフォーカスを設定するか指定します</td>
</tr>
<tr>
<td><a href="#avatar-object-">avatar</a></td>
<td>メールまたはユーザー名の入力後にLockのヘッダーにアバターまたはユーザー名を表示するかどうか、そして、その取得方法を指定します</td>
</tr>
<tr>
<td><a href="#closable-boolean-">closable</a></td>
<td>Lockを閉じることができるのかを決定します</td>
</tr>
<tr>
<td><a href="#container-string-">container</a></td>
<td>Lockがレンダリングされる場所のHTML要素です。Lockがモーダルウィンドウではなく、インラインで表示されるようにします</td>
</tr>
<tr>
<td><a href="#flashmessage-object-">flashMessage</a></td>
<td>Lockを表示する際に、`error`または`success`のフラッシュメッセージを表示します</td>
</tr>
<tr>
<td><a href="#language-string-">language</a></td>
<td>ウィジェットの言語を指定します</td>
</tr>
<tr>
<td><a href="#languagedictionary-object-">languageDictionary</a></td>
<td>ウィジェット要素（ラベルやプレースホルダーなど）に使用されるテキストをカスタマイズします</td>
</tr>
<tr>
<td><a href="#popupoptions-object-">popupOptions</a></td>
<td>画面上でポップアップが表示される場所をカスタマイズします</td>
</tr>
<tr>
<td><a href="#rememberlastlogin-boolean-">rememberLastLogin</a></td>
<td>前回に使用したアカウントで素早くログインできる画面を表示するか指定します</td>
</tr>
<tr>
<td><a href="#scrollglobalmessagesintoview-boolean-">scrollGlobalMessagesIntoView</a></td>
<td>globalMessageをユーザーのビューポートにスクロールインさせるかを指定します</td>
</tr>
</tbody>
</table>

## テーマ

テーマオプションは`options`オブジェクトの`theme`プロパティにグループ化されています。

<table class="table"><thead>
<tr>
<th>オプション</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#authbuttons-object-">authButtons</a></td>
<td>特定の接続ボタンの外観をカスタマイズ</td>
</tr>
<tr>
<td><a href="#labeledsubmitbutton-boolean-">labeledSubmitButton</a></td>
<td>送信ボタンにテキストを表示するかどうか</td>
</tr>
<tr>
<td><a href="#logo-string-">logo</a></td>
<td>使用するロゴ</td>
</tr>
<tr>
<td><a href="#primarycolor-string-">primaryColor</a></td>
<td>ウィジェットのプライマリボタンの色</td>
</tr>
</tbody>
</table>

## 認証

認証オプションは`options`オブジェクトの`auth`プロパティにグループ化されています。

<table class="table"><thead>
<tr>
<th>オプション</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#audience-string-">audience</a></td>
<td>ご利用の<Tooltip id="react-containers-DefinitionTooltip-0">アクセストークン</Tooltip>を使用するAPI</td>
</tr>
<tr>
<td><a href="#autoparsehash-boolean-">autoParseHash</a></td>
<td>ハッシュ値を自動解析し続行するかどうか</td>
</tr>
<tr>
<td><a href="#connectionscopes-object-">connectionScopes</a></td>
<td>接続<Tooltip id="react-containers-DefinitionTooltip-1">スコープ</Tooltip>を指定する</td>
</tr>
<tr>
<td><a href="#params-object-">params</a></td>
<td>ログイン時にパラメーターを送信するオプション</td>
</tr>
<tr>
<td><a href="#redirect-boolean-">redirect</a></td>
<td>リダイレクトモードを使用するかどうか</td>
</tr>
<tr>
<td><a href="#redirecturl-string-">redirectUrl</a></td>
<td>認証の後にリダイレクトするURL</td>
</tr>
<tr>
<td><a href="#responsemode-string-">responseMode</a></td>
<td>応答をPOSTとして送信するオプション</td>
</tr>
<tr>
<td><a href="#responsetype-string-">responseType</a></td>
<td>コードまたはトークンとしての応答</td>
</tr>
<tr>
<td><a href="#sso-boolean-">sso</a></td>
<td>シングルサインオンがロックで有効かどうかを判定する</td>
</tr>
</tbody>
</table>

## Database（データベース）

<table class="table"><thead>
<tr>
<th>オプション</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#additionalsignupfields-array-">additionalSignUpFields</a></td>
<td>サインアップ時に収集される追加フィールド</td>
</tr>
<tr>
<td><a href="#allowlogin-boolean-">allowLogin</a></td>
<td>ウィジェットでログインを許可するか否か</td>
</tr>
<tr>
<td><a href="#allowforgotpassword-boolean-">allowForgotPassword</a></td>
<td>ウィジェットでパスワードを忘れた場合を許可するか否か</td>
</tr>
<tr>
<td><a href="#allowsignup-boolean-">allowSignUp</a></td>
<td>ウィジェットでサインアップを許可するか否か</td>
</tr>
<tr>
<td><a href="#defaultdatabaseconnection-string-">defaultDatabaseConnection</a></td>
<td>デフォルトで表示されるデータベース接続</td>
</tr>
<tr>
<td><a href="#initialscreen-string-">initialScreen</a></td>
<td>ウィジェットが開いたときに表示する画面</td>
</tr>
<tr>
<td><a href="#loginaftersignup-boolean-">loginAfterSignUp</a></td>
<td>サインアップ後に自動ログインを許可するか否か</td>
</tr>
<tr>
<td><a href="#forgotpasswordlink-string-">forgotPasswordLink</a></td>
<td>カスタムのパスワードを忘れた場合ページへのリンク</td>
</tr>
<tr>
<td><a href="#showterms-boolean-">showTerms</a></td>
<td>サインアップ条件を表示するかどうか指定</td>
</tr>
<tr>
<td><a href="#mustacceptterms-boolean-">mustAcceptTerms</a></td>
<td>条件への同意が必要か否か（チェックボックス）</td>
</tr>
<tr>
<td><a href="#prefill-object-">prefill</a></td>
<td>メール/ユーザー名のフィールドの事前入力値</td>
</tr>
<tr>
<td><a href="#signuplink-string-">signUpLink</a></td>
<td>［サインアップ］がクリックされた時に起動するカスタムURLを設定</td>
</tr>
<tr>
<td><a href="#usernamestyle-string-">usernameStyle</a></td>
<td>"username"値のみ、または"email"値のみを受け入れるようにユーザー名フィールドを制限</td>
</tr>
</tbody>
</table>

## Enterprise（企業）

<table class="table"><thead>
<tr>
<th>オプション</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#defaultenterpriseconnection-string-">defaultEnterpriseConnection</a></td>
<td>接続が1つ以上ある場合に1つを指定する</td>
</tr>
</tbody>
</table>

## パスワードレス

<table class="table"><thead>
<tr>
<th>オプション</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#passwordlessmethod-string-">passwordlessMethod</a></td>
<td>メール接続に`Auth0LockPasswordless`を使用している場合、このオプションで、ユーザー認証のために<a href="/ja-jp/connections/passwordless/spa-email-code">コード</a>を送るか<a href="/ja-jp/connections/passwordless/spa-email-link">マジックリンク</a>を送るかを選択できます。</td>
</tr>
</tbody>
</table>

### その他

<table class="table"><thead>
<tr>
<th>オプション</th>
<th>説明</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#configurationbaseurl-string-">configurationBaseUrl</a></td>
<td>アプリケーションのベースURLをオーバーライドします</td>
</tr>
<tr>
<td><a href="#languagebaseurl-string-">languageBaseUrl</a></td>
<td>言語ファイルベースのURLをオーバーライドします</td>
</tr>
<tr>
<td><a href="#hashcleanup-boolean-">hashCleanup</a></td>
<td>URLからのハッシュのデフォルト削除をオーバーライドします</td>
</tr>
<tr>
<td><a href="#connectionresolver-function-">connectionResolver</a></td>
<td>ユーザー名情報に基づいて接続を選択するための任意のコールバック関数</td>
</tr>
</tbody>
</table>

---

## UIオプション

### allowAutocomplete \{Boolean}

メールまたはユーザー名フィールドでオートコンプリート（`<input autocomplete />`）を許可するかどうかを決定します。デフォルトはfalseです。

`allowAutocomplete: true`

### allowPasswordAutocomplete \{Boolean}

パスワードフィールドでオートコンプリート（`<input autocomplete />`）を許可するかどうかを決定します。デフォルトはfalseです。

パスワードマネージャーをサポートするため、またその他の好ましくない動作を回避するには、`allowPasswordAutocomplete`を`true`に設定します。

`allowPasswordAutocomplete: true`

### allowShowPassword \{Boolean}

このオプションでは、UIにチェックボックスを追加するかどうかを決定します。チェックボックスを選択すると、ユーザーはパスワードを入力する際にパスワードを表示できるようになります。このオプションのデフォルトは`false`です。

`allowShowPassword: true`

Lockの`allowShowPassword`を`true`に設定すると、次のようにパスワードが表示されるようになります。

<Frame>![Lock Option: Allow Show Password](/images/ja-jp/cdy7uua7fh8z/6G8LJaNjaMl5zUrwGi5UJQ/44dc951b70077b0ec6bc04d2f0413b12/lock-allowshowpassword.png)</Frame>

### allowedConnections {Array}

`signin|signup|reset`のアクションで使用される接続の配列です。デフォルトは、すべての有効な接続です。

`allowedConnections:['Username-Password-Authentication']`

`allowedConnections:['twitter', 'facebook', 'linkedin']`

`allowedConnections:['qraftlabs.com']`

`allowedConnections`の例：

<Frame>![Lock Option: Allowed Connections - Database](/images/ja-jp/cdy7uua7fh8z/1mllPDLFCCETwQ9MeGEf3W/763728971302656618ef3bd131ab83b1/lock-allowedconnections-database.png)</Frame>

<Frame>![Lock Option: Allowed Connections - Social](/images/ja-jp/cdy7uua7fh8z/7uYN4ebrLLM8bjx1fee8j0/1e716cca3e1bae990063e9226dfe9ac2/lock-allowedconnections-social.png)</Frame>

### autoclose \{Boolean}

サインインが成功した後、Lockが自動的に閉じられるかどうかを決定します。デフォルトはfalseです。Lockが`closable`ではない場合、このオプションがtrueに設定されていてもLockは閉じられません。

`autoclose: true`

### autofocus \{Boolean}

trueの場合、ウィジェットの最初のフィールドにフォーカスが設定されます。モバイルデバイスでレンダリングされる場合、または`container`オプションが指定されている場合のデフォルトは`false`です。それ以外の場合はすべて、デフォルトは`true`です。

`autofocus: false`

### avatar \{Object}

デフォルトでは、ユーザーのプロフィール画像と表示名の取得にはGravatarが使用されますが、`avatar`オプションを使用すると、どこからでも取得できるようになります。

```javascript lines
var options = {
  avatar: {
    url: function(email, cb) {
      // Obtain the avatar url for the email input by the user, Lock
      // will preload the image before displaying it.
      // Note that in case of an error you call cb with the error in
      // the first arg instead of `null`.
      var url = obtainAvatarUrl(email);
      cb(null, url);
    },
    displayName: function(email, cb) {
      // Obtain the display name for the email input by the user.
      // Note that in case of an error you call cb with the error in
      // the first arg instead of `null`.
      var displayName = obtainDisplayName(email);
      cb(null, displayName);
    }
  }
};
```

avatarを一切表示したくない場合は、単に`null`を渡します。

`avatar: null`

Gravatarのデフォルトの動作：

<Frame>![Lock Option: Avatar](/images/ja-jp/cdy7uua7fh8z/69Nz0QoQifPWpfBZwX15J0/204aad93cde406f0ed3771ce38766f56/lock-avatar.png)</Frame>

### closable \{Boolean}

Lockを閉じられるかどうかを決定します。`container`オプションが指定されている場合、その値は常に`false`です。それ以外の場合、デフォルトは`true`です。

`closable: false`

<Frame>![Lock Option: Closable](/images/ja-jp/cdy7uua7fh8z/2qwXtPQev1nlpyOQauXKBO/f967e1157972ecbf5b030b3be3600f2e/lock-closable.png)</Frame>

### container \{String}

ウィジェットが表示されるhtml要素の`id`です。

これにより、ウィジェットはモーダルポップアウトウィンドウではなく、`div`内にインラインで表示されます。

```html lines
<div id="hiw-login-container"></div>

<script>
  var options = {
    container: 'hiw-login-container'
  };

  // initialize
  var lock = new Auth0Lock('xxxxxx', '<account>.auth0.com', options);

  // render
  lock.show();
</script>
```

<Frame>![Lock Option: Container](/images/ja-jp/cdy7uua7fh8z/5L4S47Yfset2DR9pjcqVrX/1c4d1928cf75acf40129ffd01394bf33/lock-container.png)</Frame>

### flashMessage {Object}

Lockが表示されているときに、`error`または`success`のフラッシュメッセージを表示します。このオブジェクトは次のプロパティを含みます：

* type {String}：メッセージタイプ。サポートされているタイプは`error`、`info`、`success`です。
* text {String}：表示するテキスト。

```javascript lines
var options = {
  flashMessage: {
    type: 'success',
    text: 'Welcome!'
  }
};
```

### language \{String}

ウィジェットの言語を指定します。デフォルトは「en」です。現在提供されている言語の一覧については、[国際化ディレクトリ](https://github.com/auth0/lock/blob/master/src/i18n/)を参照してください。

`language:'es'`

<Frame>![Lock Option: Language](/images/ja-jp/cdy7uua7fh8z/3u3lytCUBDbcKmXFV34OUv/5cf5d7e1af9593a3b094f32815a4da11/lock-language.png)</Frame>

### languageDictionary \{Object}

Lockで表示されるあらゆるテキストをカスタマイズできます。デフォルトは{}です。このオブジェクトで変更できる`languageDictionary`値の一覧については、英語の[言語辞書仕様](https://github.com/auth0/lock/blob/master/src/i18n/en.js)ページを参照してください。

```javascript lines
var options = {
  languageDictionary: {
    emailInputPlaceholder: "something@youremail.com",
    title: "Log me in"
  },
};
```

<Frame>![Lock Option: Language Dictionary](/images/ja-jp/cdy7uua7fh8z/5203ofwtagtIKGT4HnIPmk/8ad9cdd151a2cdb18b8a42ee47dbf679/lock-languagedictionary.png)</Frame>

また、`languageDictionary`オプションの詳しい使用方法については、[エラーメッセージのカスタマイズ](/ja-jp/customize/login-pages/classic-login/customize-lock-error-messages)ページまたは[国際化](/ja-jp/customize/internationalization-and-localization/lock-internationalization)ページを確認してください。

### popupOptions \{Object}

画面上のポップアップの位置をカスタマイズできます。window.openで許可されている位置とサイズの機能はすべて受け入れられます。デフォルトは{}です。

`window.open`機能のオプション。これは、`redirect`が`false`に設定されている場合にのみ適用されます。

```javascript lines
var options = {
  auth: {
      redirect: false
  },
  popupOptions: { width: 300, height: 400, left: 200, top: 300 }
};
```

### rememberLastLogin \{Boolean}

前回使用したアカウントで素早くログインできる画面を表示するかどうかを決定します。シングルサインオン（<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/ja-jp/glossary?term=single-sign-on" tip="シングルサインオン（SSO）: ユーザーが1つのアプリケーションにログインした後、そのユーザーを他のアプリケーションに自動的にログインさせるサービス。" cta="用語集の表示">SSO</Tooltip>）データを要求し、**［Last time you signed in with（前回サインインに使用したとき）］** のメッセージを有効にします。デフォルトは`true`です。この情報はユーザーのAuth0セッションから取得されるため、この機能はユーザーのAuth0セッション（設定可能）が有効である限り有効です。

`rememberLastLogin: false`

新規テナントでは[自動的にシームレスSSOが有効になります](/ja-jp/get-started/tenant-settings/enable-sso-for-legacy-tenants)。これを有効にすると、`rememberLastLogin`オプションは関係なくなります。有効なセッションがある場合は、ユニバーサルログインページは一切表示されないためです。シームレスSSOを使用すると、ユーザーは一度ログインするだけで、構築されたアプリケーションやサードパーティ製アプリを移動する際に認証情報を再入力する必要がなくなります。認証がシームレスに進むので、シームレスSSOの使用を強く推奨します。ユーザーがログインしていない場合は、想定通りログイン画面にリダイレクトされます。さらに、以下の状況では、**［Last time you signed in with（前回サインインに使用したとき）］** のメッセージは利用できなくなります。

* [パスワードレス認証](/ja-jp/connections/passwordless)を使用して確立されたセッションで、[ホストされたログインページ](/ja-jp/authenticate/login/auth0-universal-login)でLockを使用した
* `responseType: code`の[埋め込み型ログインシナリオ](/ja-jp/authenticate/login/universal-vs-embedded-login)でLockを使用した（通常のWebアプリで使用される[認証コードフロー](/ja-jp/get-started/authentication-and-authorization-flow/authorization-code-flow)を示します）

### scrollGlobalMessagesIntoView {Boolean}

`globalMessage`をユーザーのビューポートにスクロールインさせるかどうかを決定します。デフォルトは`true`です。

`scrollGlobalMessagesIntoView: false`

## テーマオプション

テーマオプションは`options`オブジェクトの`theme`プロパティにグループ化されています。

```javascript lines
var options = {
  theme: {
    labeledSubmitButton: false,
    logo: "https://example.com/assets/logo.png",
    primaryColor: "green",
    authButtons: {
      connectionName: {
        displayName: "...",
        primaryColor: "...",
        foregroundColor: "...",
        icon: "https://.../logo.png"
      }
    }
  }
};
```

### authButtons \{Object}

カスタムOAuth2接続を使用してLockのボタンをカスタマイズできます。カスタマイズを希望するカスタムの接続ボタンはそれぞれ、独自のパラメーターセットと一緒に名前で表記する必要があります。カスタマイズ可能なパラメーターは以下です。

* **displayName** {String}：ボタンタイトルを作成する際に、接続名の代わりに表示する名前、たとえばログインのための「`LOGIN WITH MYCONNECTION`」など。
* **primaryColor** {String}：ボタンの背景色。デフォルトは、`#eb5424`です。
* **foregroundColor** {String}:ボタンの文字の色。デフォルトは、`#FFFFFF`です。
* **icon** {String}:この接続のためのアイコンのURL。例：`http://site.com/logo.png`。

```javascript lines
var options = {
  theme: {
    authButtons: {
      "testConnection": {
        displayName: "Test Conn",
        primaryColor: "#b7b7b7",
        foregroundColor: "#000000",
        icon: "http://example.com/icon.png"
      },
      "testConnection2": {
        primaryColor: "#000000",
        foregroundColor: "#ffffff",
      }
    }
  }
};
```

### labeledSubmitButton {Boolean}

このオプションは、送信ボタンにラベルを付けるかどうかを示し、デフォルトでは`true`です。`false`に設定すると、代わりにアイコンが表示されます。

```javascript lines
var options = {
  theme: {
    labeledSubmitButton: false
  }
};
```

<Frame>![Lock Option: Labeled Submit Button](/images/ja-jp/cdy7uua7fh8z/5PNCvsbYa98pKZwWHVPS9S/39cb5ac63818ec5558c451b1e37f735f/lock-theme-labeledsubmitbutton.png)</Frame>

ラベルがデフォルトのtrueに設定されている場合、ラベルのテキストは、[languageDictionary](#languagedictionary-object-)オプションでカスタマイズできます。

### logo {String}

`logo`の値は、画像のURLであり、Lockのヘッダーに配置され、Auth0のロゴのデフォルトになります。ユーザーエクスペリエンスを向上させるために推奨される最大高さは`58px`です。

```javascript lines
var options = {
  theme: {
    logo: 'https://example.com/logo.png'
  }
};
```

<Frame>![Lock UI customization - Logo](/images/ja-jp/cdy7uua7fh8z/FdOAKKy71rTbFjIlZEL8D/2eef96008095d85388daaa461707901d/lock-theme-logo.png)</Frame>

### primaryColor \{String}

`primaryColor`プロパティは、Lockのプライマリカラーを定義します。ウィジェットで使用されるカラーはすべて、そこから計算されます。このオプションは、すべてのカラーが`logo`のカラーパレットと合うように、カスタム`logo`を提供する際に、役立ちます。デフォルトは、`#ea5323`です。

```javascript lines
var options = {
  theme: {
    logo: 'https://example.com/logo.png',
    primaryColor: '#31324F'
  }
};
```

<Frame>![Lock UI customization - primary color](/images/ja-jp/cdy7uua7fh8z/1qQjeTmXJyIziv400VPaOn/48dd3cb8a72a6e88b2634b4b8a8bed63/lock-theme-primarycolor.png)</Frame>

## 認証オプション

認証オプションは`options`オブジェクトの`auth`プロパティにグループ化されています。

Lockによってデフォルトで使用されるスコープは`openid profile email`です。

```javascript lines
var options = {
  auth: {
   params: {
    param1: "value1",
    scope: "openid profile email"
   },
   autoParseHash: true,
   redirect: true,
   redirectUrl: "some url",
   responseMode: "form_post",
   responseType: "token",
   sso: true,
   connectionScopes: {
    connectionName: [ 'scope1', 'scope2' ]
   }
  }
};
```

### audience \{String}

`audience`オプションは、認証後に受け取ったアクセストークンを消費するAPIを示します。

```javascript lines
var options = {
  auth: {
    audience: 'https://{yourDomain}/userinfo',
  }
}
```

### autoParseHash \{Boolean}

`autoParseHash`が`true`に設定されている場合、Lockはインスタンス化された際に`window.location.hash`文字列を解析します。`false`に設定されている場合は、[resumeAuth](/ja-jp/libraries/lock/lock-api-reference)メソッドを使用して認証を手動で再開する必要があります。

```javascript lines
var options = {
  auth: {
    autoParseHash: false
  }
};
```

### connectionScopes \{Object}

このオプションでは、認証用にoauth2/ソーシャル接続に送信するスコープを設定できます。

```javascript lines
var options = {
  auth: {
    connectionScopes: {
      'facebook': ['scope1', 'scope2']
    }
  }
};
```

ソーシャル接続の具体的なスコープの一覧は、該当するプロバイダーから取得できます。たとえば、[開発者向けFacebook](https://developers.facebook.com/docs/facebook-login/permissions/)のリファレンスには、接続用に要求できる個別の許可の一覧があります。

### params \{Object}

optionsオブジェクトにパラメーターを追加することで、ログインを開始する際にパラメーターを送信できます。以下の例では、`foo`に等しい値を持つ`state`パラメーターを追加し、さらに`scope`パラメーター（スコープ、さらに要求された属性を含む）を追加します。

```javascript lines
var options = {
  auth: {
    params: {
      state: 'foo',
      scope: 'openid email user_metadata app_metadata picture'
    }
  }
};
```

サポートされているパラメーターの詳細については、[Lock認証パラメーター](/ja-jp/libraries/lock/lock-authentication-parameters)を参照してください。

### redirect \{Boolean}

デフォルトはtrueです。trueに設定すると、リダイレクトモードが使用されます。falseに設定すると、[ポップアップモード](/ja-jp/libraries/lock/lock-authentication-modes)が選択されます。

```javascript lines
var options = {
  auth: {
    redirect: false
  }
};
```

### redirectUrl {String}

URL Auth0が認証後にリダイレクトされます。デフォルトは空の文字列「」（リダイレクトURLなし）です。

```javascript lines
var options = {
  auth: {
    redirectUrl: 'http://testurl.com'
  }
};
```

`redirectUrl`が指定されている場合（空の値以外が設定されている場合）の`responseType`オプションは、手動で設定されていない場合はデフォルトで`code`になります。

### responseMode {String}

コードまたはトークンを、クエリ部やフラグメント部分に含めるのではなく、HTTP POST要求で`redirectUrl`に送信する場合は、`"form_post"`に設定する必要があります。

それ以外の場合、このオプションは省略しなければならず、デフォルトでは省略されています。

```javascript lines
var options = {
  auth: {
    responseMode: 'form_post'
  }
};
```

### responseType \{String}

`responseType`の値は、シングルページアプリケーションの場合は「token」に、それ以外の場合には「code」に設定する必要があります。redirectUrlが指定されている場合のデフォルトは「code」、指定されていない場合のデフォルトは「token」です。

```javascript lines
var options = {
  auth: {
    responseType: 'token'
  }
};
```

`responseType`が`code`に設定されている場合、Lockは絶対に**［Last time you logged in with（前回ログインしたとき）］** のメッセージを表示せず、常にユーザーに認証情報の入力を求めます。

## sso \{Boolean}

デフォルトはtrueです。trueに設定すると、Lockで[シングルサインオン](/ja-jp/authenticate/single-sign-on)が有効になります。

```javascript lines
var options = {
  auth: {
    sso: false
  }
};
```

## データベースオプション

### additionalSignUpFields \{Array}

`additionalSignUpFields`オプションを使用すると、サインアップ画面に追加の入力フィールドを追加できます。そうすることで追加された各オプションは、そのユーザーの`user_metadata`に追加されます。詳細については、「[ユーザープロファイルでのメタデータの使い方](/ja-jp/manage-users/user-accounts/metadata)」をお読みください。すべての入力に`name`と`placeholder`が必要です。また、`icon` URLを指定することもできます。さらに、初期値は`prefill`オプションで指定でき、値を含む文字列またはそれを取得する関数を使用できます。その他のオプションはフィールドのタイプによって異なります。フィールドのタイプはタイプオプションで定義され、デフォルトは「text」です。

<Card title="データベースサインアップのみでの使用を想定したadditionalSignUpFieldsオプション">

`additionalSignUpFields`オプションは、データベースサインアップのみでの使用を想定しています。ソーシャルサインアップもある場合は、ユーザーのサインアップ後に追加情報を求めることができます（こちらの [カスタムサインアップに関するページ](/ja-jp/libraries/custom-signup)を参照してください）。`databaseAlternativeSignupInstructions`のi18nキーを使うと、これらの手順を表示することができます。

</Card>

新しいフィールドは、通常のサインアップ入力フィールドの下に、指定された順番で表示されます。

#### textフィールド

textフィールドは追加のサインアップフィールドのデフォルトのタイプです。`validator`関数も指定できることに注意してください。

```javascript lines
var options = {
  additionalSignUpFields: [{
    name: "address",
    placeholder: "enter your address",
    // The following properties are optional
    icon: "https://example.com/assests/address_icon.png",
    prefill: "street 123",
    validator: function(address) {
      return {
         valid: address.length >= 10,
         hint: "Must have 10 or more chars" // optional
      };
    }
  },
  {
    name: "full_name",
    placeholder: "Enter your full name"
  }]
}
```

`validator`を指定しない場合、textフィールドは**必須** になります。textフィールドをオプションにする場合は、常に`true`を返すバリデーターを使用してください。

```javascript lines
var options = {
  additionalSignUpFields: [{
    name: "favorite_color",
    placeholder: "Enter your favorite color (optional)",
    validator: function() { 
      return true;
    }
  }]
}
```

プロフィールのルートに属性の値を保存する場合は、`storage:'root'`を使用します。この方法で保存できるのは、値の一部のみです。ルートプロファイルに追加できる属性の一覧は[こちら](/ja-jp/api/management/v2#!/Users/patch_users_by_id)で確認できます。デフォルトでは、追加のサインアップフィールドはすべてuser_metadataオブジェクト内に保存されます。

```javascript lines
var options = {
  additionalSignUpFields: [{
    name: "name",
    storage: "root"
  }]
};
```

<Frame>![Lock Option: Additional Signup Fields](/images/ja-jp/cdy7uua7fh8z/2KPDGZb3caq57caJ90w53k/e092bdb4a4d93589aa006f796ff20fca/lock-additionalsignupfields.png)</Frame>

#### selectフィールド

サインアップフィールドの`type:"select"`を使用すると、ユーザーが値を選択するためのselect要素を使用できます。

```javascript lines
var options = {
  additionalSignUpFields: [{
    type: "select",
    name: "location",
    placeholder: "choose your location",
    options: [
      {value: "us", label: "United States"},
      {value: "fr", label: "France"},
      {value: "ar", label: "Argentina"}
    ],
    // The following properties are optional
    icon: "https://example.com/assests/location_icon.png",
    prefill: "us"
  }]
}
```

`select`フィールドの`options`配列の項目は、
`{label:“non empty string”, value:“non empty string”}`のフォーマットに従う必要があり、少なくとも1つのオプションを定義する必要があります。

`options`と`prefill`の値は、次のように関数で指定できます。

```javascript lines
var options = {
  additionalSignUpFields: [{
    type: "select",
    name: "location",
    placeholder: "choose your location",
    options: function(cb) {
      // obtain options, in case of error you call cb with the error in the
      // first arg instead of null
      cb(null, options);
    },
    icon: "https://example.com/assests/location_icon.png",
    prefill: function(cb) {
      // obtain prefill, in case of error you call cb with the error in the
      // first arg instead of null
      cb(null, prefill);
    }
  }]
}
```

#### checkboxフィールド

カスタムサインアップフィールドの3つ目のタイプは`type:"checkbox"`です。`prefill`値でチェックボックスのデフォルトの状態（`true`または`false`）を決定できます。この値は必須です。

```javascript lines
var options = {
  additionalSignUpFields: [{
    type: "checkbox",
    name: "newsletter",
    prefill: "true",
    placeholder: "I hereby agree that I want to receive marketing emails from your company"
  }]
}
```

#### hiddenフィールド

サインアップフィールドの`type:"hidden"`を使用すると、固定値を持つ隠し入力を使用できます。

```javascript lines
var options = {
  additionalSignUpFields: [{
    type: "hidden",
    name: "signup_code",
    value: "abc123"
  }]
}
```

一部のユースケースでは、言語設定のオプションなど、メールテンプレート用の`additionalSignUpFields`データを使用できる場合があります。その値を使用して、テンプレート化されたメール通信の言語を設定できます。

### allowLogin \{Boolean}

`false`に設定すると、ウィジェットのログイン画面が表示されなくなります。これは、ウィジェットをサインアップ専用にしたい場合（サインアップ画面のログインタブとサインアップタブは非表示になります）や、パスワードのリセット専用にしたい場合（パスワード再設定画面の戻るボタンは非表示になります）に便利です。そのような場合、`initialScreen`、`allowForgotPassword`、`allowSignUp`のオプションも指定しなければならないことがあります。デフォルトは`true`です。

`allowLogin: false`

<Frame>![Lock Option: Allow Login](/images/ja-jp/cdy7uua7fh8z/6gI4aSLHXLzhcHiR9aWMET/d05c2a08a3895278b01150ecf894cb5f/lock-allowlogin.png)</Frame>

### allowForgotPassword \{Boolean}

`allowForgotPassword`をfalseに設定すると、ログイン画面の「パスワードを覚えていない場合」のリンクが非表示になり、「パスワードを忘れた場合」画面にアクセスできなくなります。デフォルトはtrueです。パスワード変更スクリプトを持たないカスタムデータベースとのデータベース接続を使用している場合、「パスワードを忘れた場合」画面は使用できなくなります。

`allowForgotPassword: false`

<Frame>![Lock Option: Allow Forgot Password](/images/ja-jp/cdy7uua7fh8z/1L6wJS3UnWK1VGKYMFhAB9/2ddcf2d462255e78a8b78958c2503809/lock-allowforgotpassword.png)</Frame>

### allowSignUp \{Boolean}

`false`に設定すると、ログイン画面のログインタブとサインアップのタブが非表示になり、サインアップ画面にアクセスできなくなります。デフォルトは`true`です。データベース接続でサインアップが無効になっている場合、または作成スクリプトのないカスタムデータベースを使用している場合は、サインアップ画面は使用できなくなることに注意してください。

また、このオプションはクライアント側の外観**のみ** を制御するものであり、特定の匿名訪問者からの新規サインアップを完全に阻止するものではないことに注意してください。新規ユーザーのサインアップを完全に防止したい場合は、ダッシュボードの接続設定で**サインアップを無効にする** オプションを使用する必要があります。

`allowSignUp: false`

<Frame>![Lock Option: Allow Signup](/images/ja-jp/cdy7uua7fh8z/2BNlYe99EFlRmIlhoLZiEB/f280d865cb16fa5fecda952271cb18bf/lock-allowsignup.png)</Frame>

### defaultDatabaseConnection \{String}

複数のデータベース接続が利用可能な場合に、使用するデータベース接続を指定します。

`defaultDatabaseConnection:'test-database'`

### initialScreen {String}

ウィジェットを開いたときに表示される画面の名前です。有効な値は`login`、`signUp`、`forgotPassword`です。このオプションが指定されていない場合、ウィジェットのデフォルト画面は、リストに用意されている最初の画面になります。

`initialScreen:'forgotPassword'`

### loginAfterSignUp \{Boolean}

ユーザーがサインアップに成功した後、自動的にサインインされるかどうかを決定します。デフォルトは`true`です。

`loginAfterSignUp: false`

### forgotPasswordLink {String}

ユーザーがパスワードをリセットできるページのURLを設定します。空でない文字列に設定すると、ログイン画面で「パスワードを覚えていない場合」のリンクをクリックしたユーザーは、指定したURLにリダイレクトされます。

`forgotPasswordLink:'https://yoursite.com/reset-password'`

### showTerms \{Boolean}

`true`に設定すると、`languageDictionary.signUpTerms`文字列が表示されます。デフォルトは`true`です。

`showTerms: false`

### mustAcceptTerms \{Boolean}

`true`に設定すると、サインアップ前に確認する必要がある利用規約の横にチェックボックス入力が表示されます。利用規約は`languageDictionary`オプションから指定できます。このオプションは、データベース接続でサインアップするユーザーにのみ有効です。デフォルトはfalseです。

`mustAcceptTerms: true`

### prefill \{Object}

メールおよび/またはユーザー名の入力に対する初期値を設定できます。省略すると初期値は指定されません。

```javascript lines
var options = {
  prefill: {
    email: "someone@auth0.com",
    username: "someone",
    phoneNumber: "+1234567890"
  }
};
```

### signUpLink {String}

サインアップボタンをクリックした際に要求されるURLを設定します。空でない文字列に設定すると、このオプションは`allowSignUp`を強制的に`true`にします。

`signUpLink:'https://yoursite.com/signup'`

### usernameStyle \{String}

`requires_username`フラグが設定されているデータベース接続で、ユーザーを識別するために使用される情報を決定します（フラグが設定されていない場合、`usernameStyle`オプションは無視されます）。可能な値は`"username"`と`"email"`です。デフォルトでは、`username`と`email`の両方が許可されています。このオプションを設定すると、ログインはどちらか一方のみに制限されます。

`usernameStyle:'username'`

## エンタープライズオプション

### defaultEnterpriseConnection \{String}

複数のエンタープライズ接続がある場合や、データベース接続がある場合に、ユーザー名とパスワードを使用してログインできるエンタープライズ接続を指定します。`defaultDatabaseConnection`が指定されている場合はデータベース接続が使用され、このオプションは無視されます。

`defaultEnterpriseConnection:'test-database'`

### defaultADUsernameFromEmailPrefix \{Boolean}

メールのプレフィックスからADプレースホルダーのユーザー名を解決します。デフォルトは`true`です。

`defaultADUsernameFromEmailPrefix: false`

## パスワードレスオプション

### passwordlessMethod \{String}

`Auth0LockPasswordless`をメール接続で使用する場合、このオプションを使用して、ユーザー認証用の[コード](/ja-jp/connections/passwordless/spa-email-code)または[マジックリンク](/ja-jp/connections/passwordless/spa-email-link)の送信を選択できます。メール接続で利用可能な値は`code`と`link`です。デフォルトは`code`です。SMSパスワードレス接続では、常に`code`が使用されます。

`passwordlessMethod: code`

## その他のオプション

### configurationBaseUrl \{String}

アプリケーション設定のベースURLを上書きします。デフォルトでは、指定されたドメインを使用します。このオプションは、お客様の特定のユースケースにおいて、アプリケーションがデフォルトの動作を使用しないよう指定する場合にのみ必要となります。

`configurationBaseUrl:"https://www.example.com"`

### languageBaseUrl \{String}

Auth0が提供する翻訳の言語ソースURLを上書きします。デフォルトでは、このオプションはAuth0のCDN URL `https://cdn.auth0.com`を使用します。これは、提供されているすべての翻訳がここに保存されているためです。別の値を指定することで、必要に応じて言語翻訳に別のソースを使用できます。

`languageBaseUrl:"https://www.example.com"`

### hashCleanup \{Boolean}

`hashCleanup`オプションを有効にすると、ユーザー認証後にコールバックURLのハッシュ部分が削除されます。デフォルトはtrueです。

`hashCleanup: false`

### connectionResolver \{Function}

使用時に、ユーザー名情報に基づいて使用する接続を選択できるようにする拡張ポイントを指定します。

パラメーターには`username`、`context`、`callback`があります。コールバックは、`{type:'database', name:'connection name'}`のようなオブジェクトを期待します。**これはデータベース接続にのみ有効です。** このリゾルバーはフォームの`onSubmit`イベントで実行されるため、シンプルかつ高速に保つように注意してください。

これはベータ機能です。バグを見つけた場合は、GitHubの[issue](https://github.com/auth0/lock/issues/new)を作成してください。

### leeway \{Integer}

`leeway`オプションは整数（秒単位の値）に設定でき、これを使用してIDトークンの有効期限のクロックスキューを考慮できます。通常、この値は1～2分を超えることはありません。

`leeway:30`