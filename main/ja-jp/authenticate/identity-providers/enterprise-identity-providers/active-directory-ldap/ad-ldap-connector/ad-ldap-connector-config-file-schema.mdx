---
title: "AD/LDAPコネクターの構成ファイルスキーマ"
permalink: "ad-ldap-connector-config-file-schema"
'description': "AD/LDAPコネクターの構成ファイルの内容を説明します。"
'og:title': "AD/LDAPコネクターの構成ファイルスキーマ"
'og:description': "AD/LDAPコネクターの構成ファイルの内容を説明します。"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "AD/LDAPコネクターの構成ファイルスキーマ"
'twitter:description': "AD/LDAPコネクターの構成ファイルの内容を説明します。"
---

AD/LDAPコネクターのメイン構成ファイルは`config.json`です。AD/LDAP **コネクターのAdmin Console** を使って変更できないものについては、このファイルで編集することができます。また、このファイルを見れば、特定のコネクターがどのテナントに使用されているのかを確認できます。このファイルはAD/LDAPコネクターのインストールディレクトリにあります。Windowsでは通常、`C:\Program Files (x86)\Auth0\AD LDAP Connector`です。このファイルは以下の設定に対応しています。

<table class="table"><thead>
<tr>
<th>設定</th>
<th>説明</th>
<th>デフォルト</th>
</tr>
</thead>
<tbody>
<tr>
<td>`AD_HUB`</td>
<td>コネクターが接続するAuth0のエンドポイントです。この値はコネクターが管理します。</td>
<td></td>
</tr>
<tr>
<td>`CA_CERT`</td>
<td>認証局証明書または認証局証明書の配列で、リモートホストの照合に使用されます。</td>
<td></td>
</tr>
<tr>
<td>`CLIENT_CERT_AUTH`</td>
<td><b>クライアント証明書認証</b>が有効かどうかを指定します。この値はAuth0内で構成され、コネクターが管理します。</td>
<td></td>
</tr>
<tr>
<td>`CONNECTION`</td>
<td>Auth0にある接続の名前で、コネクターのこのインスタンスにリンクされます。この値はコネクターが管理します。</td>
<td></td>
</tr>
<tr>
<td>`CONNECTIONS_API_V2_KEY`</td>
<td>接続取得エンドポイントの呼び出しに使用されるManagement APIのトークンです。コネクターのトラブルシューティングが必要な場合には、これを設定します。これは、ローカル証明書をAuth0で構成されているものと比較して、可能性のある不一致を検出します。</td>
<td></td>
</tr>
<tr>
<td>`FIREWALL_RULE_CREATED`</td>
<td>Kerberosサーバー（Kerberosが有効な場合のみ）にファイアウォールルールが作成されると、`true`に設定されます。</td>
<td></td>
</tr>
<tr>
<td>`GROUPS`</td>
<td>プロファイルをリッチ化すると、ユーザーのグループが含まれます。</td>
<td>`true`</td>
</tr>
<tr>
<td>`GROUP_PROPERTY`</td>
<td>グループをユーザーに追加する際に使用されるグループオブジェクトの属性です。</td>
<td>`cn`</td>
</tr>
<tr>
<td>`GROUPS_CACHE_SECONDS`</td>
<td>ユーザーのグループをキャッシュしておく総時間を秒単位で指定します。</td>
<td>600秒</td>
</tr>
<tr>
<td>`GROUPS_TIMEOUT_SECONDS`</td>
<td>ユーザーが所属するすべてのグループを検索する際のタイムアウトを秒単位で指定します。</td>
<td>20秒</td>
</tr>
<tr>
<td>`HTTP_PROXY`</td>
<td>AD/LDAPコネクターからAuth0への接続に必要な場合のプロキシサーバーのURLです。</td>
<td></td>
</tr>
<tr>
<td>`KERBEROS_AUTH`</td>
<td><b>Kerberos認証</b>が有効かどうかを指定します。この値はAuth0内で構成され、コネクターが管理します。</td>
<td></td>
</tr>
<tr>
<td>`LAST_SENT_THUMBPRINT`</td>
<td>Auth0に送信された最後の証明書のサムプリントです。</td>
<td></td>
</tr>
<tr>
<td>`LDAP_BASE`</td>
<td>LDAPの検索が始まるディレクトリ内の場所を定義します。例：`DC=fabrikam,DC=local`</td>
<td></td>
</tr>
<tr>
<td>`LDAP_BASE_GROUPS`</td>
<td>LDAPグループの検索が始まるディレクトリ内の場所を定義します。</td>
<td></td>
</tr>
<tr>
<td>`LDAP_BIND_PASSWORD`</td>
<td>LDAPユーザーのパスワードです。この設定は、コネクターが初期化されると自動的に削除されます。</td>
<td></td>
</tr>
<tr>
<td>`LDAP_BIND_CREDENTIALS`</td>
<td>LDAPユーザーの暗号化パスワードです。この設定は、コネクターが初期化されると自動的に追加されます。</td>
<td></td>
</tr>
<tr>
<td>`LDAP_BIND_USER`</td>
<td>LDAPへの接続をバインドするユーザーです。</td>
<td></td>
</tr>
<tr>
<td>`LDAP_HEARTBEAT_SEARCH_QUERY`</td>
<td>ハートビートの確認に使用されるLDAPの検索クエリです。</td>
<td>`(&amp;(objectclass=user)(|(sAMAccountName=foo)(UserPrincipalName=foo)))`</td>
</tr>
<tr>
<td>`LDAP_HEARTBEAT_SECONDS`</td>
<td>LDAP接続を開いた状態で維持する時間を秒単位で指定します。</td>
<td></td>
</tr>
<tr>
<td>`LDAP_SEARCH_ALL_QUERY`</td>
<td>LDAPストア内のすべてのユーザーをリストするためのLDAPクエリです。</td>
<td>`(objectCategory=person)`</td>
</tr>
<tr>
<td>`LDAP_SEARCH_GROUPS`</td>
<td>LDAPストア内のグループを見つけるためのLDAPクエリです。例：`(&amp;(objectCategory=group)(member={0}))`</td>
<td>`(member:1.2.840.113556.1.4.1941:={0})`</td>
</tr>
<tr>
<td>`LDAP_SEARCH_QUERY`</td>
<td>LDAPストア内のユーザーを見つけるためのLDAPクエリです。</td>
<td>`(&amp;(objectCategory=person)(anr={0}))`</td>
</tr>
<tr>
<td>`LDAP_USER_BY_NAME`</td>
<td>認証中にLDAPストア内のユーザーを見つけるためのLDAPクエリです。この設定を使用すると、どの属性がユーザー名だと見なされるかを指定することができます。たとえば、sAMAccountNameやUPNなどの普通名詞を指定することができます。また、OR検索で複数の値に対応しています。例：`(|(sAMAccountName={0})(userPrincipalName={0}))`</td>
<td>`(sAMAccountName={0})`</td>
</tr>
<tr>
<td>`LDAP_URL`</td>
<td>LDAPの接続文字列です。例：`ldap://fabrikam-dc.fabrikam.local`</td>
<td></td>
</tr>
<tr>
<td>`PORT`</td>
<td>Kerberos認証またはクライアント証明書認証が有効な場合に、サーバーが実行されるポートです。</td>
<td></td>
</tr>
<tr>
<td>`PROVISIONING_TICKET`</td>
<td>Auth0のプロビジョニングチケットで、Auth0との通信に使用されます。</td>
<td></td>
</tr>
<tr>
<td>`REALM`</td>
<td>Auth0の`urn:auth0:fabrikam`などの領域です。この値はコネクターが管理します。</td>
<td></td>
</tr>
<tr>
<td>`SERVER_URL`</td>
<td>デフォルトのコネクターURLは`server-name:port`ですが、この設定ではこれを上書きすることができます。例：`connector.mycompany.com`</td>
<td></td>
</tr>
<tr>
<td>`SESSION_SECRET`</td>
<td>セッションのクッキーを暗号化するためのセッションシークレットです。</td>
<td></td>
</tr>
<tr>
<td>`SITE_NAME`</td>
<td>クライアント証明書認証が有効化されているのに使用できない場合、ADコネクターはフォールバックのログインページを表示します。この設定では、ページの上部に表示されるタイトルを指定することができます。</td>
<td>AD接続の名前です。</td>
</tr>
<tr>
<td>`SSL_CA_PATH`</td>
<td>CA証明書ファイルが保管されているベースディレクトリへの絶対パスです。</td>
<td></td>
</tr>
<tr>
<td>`SSL_KEY_PASSWORD`</td>
<td>SSL証明書のパスワードです。</td>
<td></td>
</tr>
<tr>
<td>`SSL_PFX`</td>
<td>Base64でエンコードされた証明書で、SSLに使用されます。</td>
<td></td>
</tr>
<tr>
<td>`TENANT_SIGNING_KEY`</td>
<td>JWTの検証に使用されるAuth0テナントです。</td>
<td></td>
</tr>
<tr>
<td>`WSFED_ISSUER`</td>
<td>WS-Federationの応答で設定される発行者です。接続がメールドメインで構成されている場合には、Auth0内で最初に構成されているメールドメインが発行者として使用されます。</td>
<td>`urn:auth0`</td>
</tr>
</tbody>
</table>

LDAPクエリについては、「[Active Directory: LDAP Syntax Filters](https://social.technet.microsoft.com/wiki/contents/articles/5392.active-directory-ldap-syntax-filters.aspx)」を参照してください。