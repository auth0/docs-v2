---
title: "Auth0 ApplicationをOkta Workforce Enterprise Connectionに接続する"
permalink: "okta"
'description': "エンタープライズ接続を用いて、Okta Workforce Identity CloudをOpenID Connect（OIDC）のIDプロバイダーとして接続する方法を説明します。"
'og:title': "Auth0 ApplicationをOkta Workforce Enterprise Connectionに接続する"
'og:description': "エンタープライズ接続を用いて、Okta Workforce Identity CloudをOpenID Connect（OIDC）のIDプロバイダーとして接続する方法を説明します。"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Auth0 ApplicationをOkta Workforce Enterprise Connectionに接続する"
'twitter:description': "エンタープライズ接続を用いて、Okta Workforce Identity CloudをOpenID Connect（OIDC）のIDプロバイダーとして接続する方法を説明します。"
---

Okta Workforceのエンタープライズ接続は、公式にサポートされた効率的な統合であり、OktaをAuth0のIDプロバイダー（<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-2" href="/ja-jp/glossary?term=idp" tip="IDプロバイダー（IdP）: デジタルIDを保存および管理するサービス。" cta="用語集の表示">IdP</Tooltip>）として実装する際に推奨されている方法です。

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Okta Workforceエンタープライズ接続は、B2Bエッセンシャル、B2Bプロフェッショナル、エンタープライズのどのプランでも無料です。この接続は、アクティブなエンタープライズ接続としてカウントされません。詳細については、「[サブスクリプションの使用状況を監視する](https://auth0.com/docs/troubleshoot/customer-support/manage-subscriptions/monitor-subscription-usage)」をお読みください。

</Callout>

この統合により、顧客は、Okta Workforce Identity Cloudを通じて従業員によるアプリケーションへのアクセスを管理できます。

また、内部でのカスタマーアイデンティティ管理にAuth0を、ワークフォースアイデンティティ管理にOktaを使用している場合、この統合は、ID空間を管理するための効果的な手段となります。

Okta Workflowsのエンタープライズ接続がユースケースをサポートしていない場合は、必要に応じて[SAML IdPとしてOktaを構成](/ja-jp/authenticate/protocols/saml/saml-sso-integrations/configure-auth0-saml-service-provider/configure-okta-as-saml-identity-provider)するか、[カスタム認可サーバーを構成](https://developer.okta.com/docs/concepts/auth-servers/#custom-authorization-server)します。

## OktaのOIDCアプリ統合を作成する

Okta OIDCアプリ統合の作成方法については、[Okta Help CenterのOIDCアプリ統合の作成](https://help.okta.com/en-us/Content/Topics/Apps/Apps_App_Integration_Wizard_OIDC.htm)を参照してください。

OktaのOIDCアプリ統合をセットアップするには、以下の設定を使用します。

1. **［Sign-in method（サインイン方法）］** として **［OIDC］** を選択します。
2. **［Application type（アプリケーションタイプ）］** として **［Web application（Webアプリケーション）］** を選択し、以下のパラメーターを設定します。

   <table class="table"><thead>
   <tr>
   <th>フィールド</th>
   <th>説明</th>
   </tr>
   </thead>
   <tbody>
   <tr>
   <td>Name（名前）</td>
   <td>アプリケーションの名前。</td>
   </tr>
   <tr>
   <td>Sign-in Redirect URIs（サインインリダイレクトURI）</td>
   <td>`https://{YOUR_AUTH0_TENANT}.{YOUR_TENANT_REGION}.auth0.com/login/callback`</td>
   </tr>
   <tr>
   <td>Trusted Origins（信頼済みオリジン）</td>
   <td>`	https://{yourDomain}`</td>
   </tr>
   </tbody>
   </table>

   <Card title="リダイレクト用のAuth0ドメイン名を見つける">

   上記で、 [カスタムドメイン](/ja-jp/customize/custom-domains)機能を使っていないのにAuth0ドメイン名が表示されない場合は、ドメイン名がテナント名、地域のサブドメイン、および「`auth0.com`」をドット記号（「`.`」）で区切って連結したものだからです。

   たとえば、テナント名が「`exampleco-enterprises`」でテナントがUS地域にある場合、Auth0ドメイン名は「`exampleco-enterprises.us.auth0.com`」、 **Redirect URI（リダイレクトURI）** は「`https://exampleco-enterprises.us.auth0.com/login/callback`」になります。

   ただし、テナントがUS地域にあり、2020年6月よりも前に作成された場合、Auth0ドメイン名は「`exampleco-enterprises.auth0.com` 」、 **Redirect URI（リダイレクトURI）** は「`https://exampleco-enterprises.auth0.com/login/callback`」になります。

   [カスタムドメイン](/ja-jp/customize/custom-domains)を使っている場合、 **Redirect URI（リダイレクトURI）** は「`https://<YOUR CUSTOM DOMAIN>/login/callback`」になります。

   </Card>

3. アプリ統合のためにOktaが生成した **［Client ID（クライアントID）］** と **［Client Secret（クライアントシークレット）］** を記録しておきます。

## Oktaのアプリ統合にテストユーザーを追加する

アプリの統合をテストするため、Oktaディレクトリでテストユーザーを作成します。

1. Okta Admin Dashboardで、［ **Directory（ディレクトリ）］>［People（ピープル）］** の順に移動します。
2. **［Add Person（ユーザーの追加）］** を選択します。
3. パスワードを含むユーザーテストの詳細を入力します。
4. テストユーザーを保存します。
5. **［Directory（ディレクトリ）］** で、新しいユーザーを選択します。
6. ユーザーの **［Applications（アプリケーション）］** タブに移動し、 **［Assign Applications（アプリケーションの割り当て）］** を選択します。
7. さきほど作成したアプリケーション名を選択します。

## Auth0でOkta Workforcのエンタープライズ接続を作成する

Okta OIDCアプリ統合の **［<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-4" href="/ja-jp/glossary?term=client-id" tip="クライアントID: Auth0から登録されたリソースに与えられる識別値。" cta="用語集の表示">Client ID</Tooltip>（クライアントID）］** と **［<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-2" href="/ja-jp/glossary?term=client-secret" tip="クライアントシークレット: クライアント（アプリケーション）が認可サーバーで認証するために使用するシークレット。これはクライアントと認可サーバーだけが知っているものであり、推測できないように十分にランダムである必要があります。" cta="用語集の表示">Client Secret</Tooltip>（クライアントシークレット）］** が利用可能なことを確認します。

1. [［Auth0 Dashboard］>［Authentication（認証）］>［Enterprise（エンタープライズ）］](https://manage.auth0.com/#/connections/enterprise)に移動し、 **［Okta Workforce］** を見つけて、 **［+］** ボタンを選択します。

   <Frame>![Dashboard - 接続 -エンタープライズ](/images/ja-jp/cdy7uua7fh8z/1fSTcrZpkgkPR64NnI1lr8/101fc19f62d82b5c7b13d88f3a0a8e96/Enterprise_Connections_-_JP.png)</Frame>

2. 接続の詳細を入力し、 **［Create（作成）］** をクリックします。

   <table class="table"><thead>
   <tr>
   <th>フィールド</th>
   <th>説明</th>
   </tr>
   </thead>
   <tbody>
   <tr>
   <td><b>Connection name（接続名）</b></td>
   <td>接続の論理識別子です。テナント内で一意でなければなりません。一度設定すると、この名前は変更できません。</td>
   </tr>
   <tr>
   <td><b>Okta Domain（Oktaドメイン）</b></td>
   <td>組織のOktaドメイン名です。</td>
   </tr>
   <tr>
   <td><b>Client ID（クライアント ID）</b></td>
   <td>登録されたOktaアプリケーションの一意の識別子です。Okta管理コンソールで登録したアプリの<b>クライアントID</b>に保存した値を入力します。</td>
   </tr>
   <tr>
   <td><b>Client Secret（クライアントシークレット）</b></td>
   <td>登録されているOktaアプリケーションへのアクセスに使用される文字列です。Okta管理コンソールで登録したアプリの<b>クライアントシークレット</b>に保存した値を入力します。</td>
   </tr>
   </tbody>
   </table>
3. **［Provisioning（プロビジョニング）］** ビューでユーザープロファイルがAuth0で作成および更新される方法を構成することができます。

   <table class="table"><thead>
   <tr>
   <th>フィールド</th>
   <th>説明</th>
   </tr>
   </thead>
   <tbody>
   <tr>
   <td><b>Sync user profile attributes at each login（ログインごとにユーザープロファイル属性を同期する）</b></td>
   <td>有効な場合、ユーザーがログインするたびにユーザープロファイルデータを自動的に同期するため、接続ソースで加えられた変更はAuth0で自動的に更新されます。</td>
   </tr>
   <tr>
   <td><b>Sync user profiles using SCIM（SCIMを使ってユーザープロファイルを同期する）</b></td>
   <td>有効な場合、SCIMを使ってユーザープロファイルデータを同期することができます。詳細については、「<a href="https://auth0.com/docs/ja-jp/authenticate/protocols/scim/configure-inbound-scim">インバウンドSCIMを構成する</a>」を参照してください。</td>
   </tr>
   </tbody>
   </table>
4. **［Login Experience（ログインエクスペリエンス）］** ビューに切り替えて、この接続でのユーザーログインの方法を構成することができます:

   <table class="table"><thead>
   <tr>
   <th><b>フィールド</b></th>
   <th><b>説明</b></th>
   </tr>
   </thead>
   <tbody>
   <tr>
   <td><b>ホームレルムディスカバリー</b></td>
   <td>ユーザーのメールドメインを、指定されたIDプロバイダードメインと比較します。詳細については、[識別子優先認証の構成]を参照してください。（https://auth0.com/docs/ja-jp/authenticate/login/auth0-universal-login/identifier-first）</td>
   </tr>
   <tr>
   <td><b>接続ボタンを表示</b></td>
   <td>このオプションでは、アプリケーションの接続ボタンをカスタマイズするため次の選択肢が表示されます。</td>
   </tr>
   <tr>
   <td><b>Button display name（ボタン表示名）</b> （オプション）</td>
   <td>ユニバーサルログインのログインボタンをカスタマイズするために使用されるテキスト。設定されるとボタンは以下を読み取ります："Continue with `{Button display name}`"</td>
   </tr>
   <tr>
   <td><b>Button logo（ボタンロゴ）URL</b> （任意）</td>
   <td>ユニバーサルログインのログインボタンをカスタマイズするために使用される画像のURL。設定されると、ユニバーサルログインのログインボタンは、20px×20pxの四角で画像を表示します。</td>
   </tr>
   </tbody>
   </table>

   <Callout icon="file-lines" color="#0EA5E9" iconType="regular">

   任意のフィールドは、New Universal Loginでのみ使用することができます。Classic Loginを使用している場合、［Add（追加）］ボタン、ボタンの表示名、ボタンロゴのURLは表示されません。

   </Callout>

## Auth0のアプリケーションに対して接続を有効にする

新たなOkta Workforceエンタープライズ接続を使用するには、Auth0アプリケーションの[接続を有効](/ja-jp/authenticate/identity-providers/enterprise-identity-providers/enable-enterprise-connections)にする必要があります。

## 接続をテストする

これで[接続をテスト](/ja-jp/authenticate/identity-providers/enterprise-identity-providers/test-enterprise-connections)する準備が整いました。

## グローバルトークン取り消しを構成する

この接続タイプはグローバルトークン取り消しエンドポイントに対応しており、準拠しているIDプロバイダーがAuth0ユーザーセッションとリフレッシュトークンを取り消し、安全なバックチャネルを使用してアプリケーションのバックチャネルログアウトをトリガーできます。

この機能はOkta Workforce Identity Cloudでユニバーサルログアウトと併用できます。

詳しい情報と構成手順については、「[ユニバーサルログアウト](/ja-jp/authenticate/login/logout/universal-logout)」を参照してください。

## もっと詳しく

* [拒否されたアクセス認可に対処する](/ja-jp/authenticate/identity-providers/social-identity-providers/reprompt-permissions)
* [パラメーターをIDプロバイダーに渡す](/ja-jp/authenticate/identity-providers/pass-parameters-to-idps)
* [認証フローと認可フロー](/ja-jp/get-started/authentication-and-authorization-flow)