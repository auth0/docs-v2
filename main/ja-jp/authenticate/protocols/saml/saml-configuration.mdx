---
title: "SAMLの設定"
permalink: "saml-configuration"
'description': "Auth0がSecurity Assertion Markup Language（SAML）プロトコルとどのように連携するかについて説明します。"
'og:title': "SAMLの設定"
'og:description': "Auth0がSecurity Assertion Markup Language（SAML）プロトコルとどのように連携するかについて説明します。"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "SAMLの設定"
'twitter:description': "Auth0がSecurity Assertion Markup Language（SAML）プロトコルとどのように連携するかについて説明します。"
---

## SAMLサービスプロバイダー

アプリケーション、特にカスタムアプリケーションは、<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/ja-jp/glossary?term=openid" tip="OpenID: アプリケーションがログイン情報を収集および保存することなくにユーザーのIDを検証できるようにする認証用のオープン標準。" cta="用語集の表示">OpenID</Tooltip> Connect（OIDC）や<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-1" href="/ja-jp/glossary?term=oath2" tip="OAuth 2.0: 認可プロトコルとワークフローを定義する認可フレームワーク。" cta="用語集の表示">OAuth 2.0</Tooltip>などのプロトコルを使用することで、外部<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-2" href="/ja-jp/glossary?term=idp" tip="IDプロバイダー（IdP）: デジタルIDを保存および管理するサービス。" cta="用語集の表示">IdP</Tooltip>に対してユーザーを認証できます。しかし、どちらのプロトコルを使用するようにアプリケーションを作成した場合でも、認証にエンタープライズ<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-1" href="/ja-jp/glossary?term=security-assertion-markup-language" tip="Security Assertion Markup Language（SAML）: パスワードなしに二者間で認証情報を交換できる標準化プロトコル。" cta="用語集の表示">SAML</Tooltip>プロバイダーを利用する方が良い場合があります。

<Frame>![プロトコル - SAML SPの図](/images/ja-jp/cdy7uua7fh8z/F29Tn5sjo1hqHSxslyHhR/84adbbaf78a0739d16e3bcdb095f9983/saml-case1.png)</Frame>

## SAML IDプロバイダー

一部のアプリケーション（Salesforce、Box、Workdayなど）では、SAMLプロトコルを使用して外部IdPに対するユーザー認証を行えます。その後、そのアプリケーションを、アプリケーションのSAML IdPとして機能するAuth0と統合できます。アプリケーションユーザーはログインするためにAuth0にリダイレクトされ、Auth0はLDAPディレクトリ、データベース、別のSAML IdPやソーシャルプロバイダーなどのバックエンド認証接続を使用してユーザーを認証できます。ユーザーが認証されると、Auth0はそのことを示すSAMLアサーションをアプリケーションに返します。

<Frame>![プロトコル - SAML IdPの図](/images/ja-jp/cdy7uua7fh8z/2fREft2nQOfBNh1cZfgsZH/eee1681ad9d2b6ea81c6d0cc6251276f/saml-case2.png)</Frame>

以下は、SAMLプロトコルをサポートすることが知られているIdPサービスのリストです。リストに挙げられていないサービスがある可能性もあります。以下のプロバイダーはKantaraによる相互運用性テストに参加しているため、SAML仕様に十分準拠していると考えられます。

* adAS
* ADFS
* Dot Net Workflow
* Elastic <Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/ja-jp/glossary?term=single-sign-on" tip="シングルサインオン（SSO）: ユーザーが1つのアプリケーションにログインした後、そのユーザーを他のアプリケーションに自動的にログインさせるサービス。" cta="用語集の表示">SSO</Tooltip> Team & Enterprise
* Entrust GetAccess & IdentityGuard（サポートされているプロトコルをチェック）
* EIC（サポートされているプロトコルをチェック）
* Ilex Sign&go
* iWelcome
* NetIQ Access Manager
* OpenAM
* RCDevs Open SAMPL IdP
* Optimal IdM VIS Federation Services
* Oracle Access Manager（Oracle Identity Federationはこれに吸収合併）
* PingFederate（IDP Light）
* RSA Federated Identity（IDP Light）
* SecureAuth
* Symplified
* Tivoli Federated Identity Manager
* TrustBuilder
* Ubisecure SSO
* WSO2 Identity Server

Auth0は、Auth0を使って以下のSAML IDプロバイダーを構成するための具体的な手順を提供しています。

* [ADFS](/ja-jp/authenticate/protocols/saml/saml-sso-integrations/configure-auth0-saml-service-provider/configure-adfs-saml-connections)
* [Okta](/ja-jp/authenticate/protocols/saml/saml-sso-integrations/configure-auth0-saml-service-provider/configure-okta-as-saml-identity-provider)
* [OneLogin](/ja-jp/authenticate/protocols/saml/saml-sso-integrations/configure-auth0-saml-service-provider/configure-onelogin-as-saml-identity-provider)
* [PingFederate 7](/ja-jp/authenticate/protocols/saml/saml-sso-integrations/configure-auth0-saml-service-provider/configure-pingfederate-as-saml-identity-provider)
* [Salesforce](/ja-jp/authenticate/protocols/saml/saml-sso-integrations/configure-auth0-saml-service-provider/configure-salesforce-as-saml-identity-provider)
* [SiteMinder](/ja-jp/authenticate/protocols/saml/saml-sso-integrations/configure-auth0-saml-service-provider/configure-siteminder-as-saml-identity-provider)
* [SSOCircle](/ja-jp/authenticate/protocols/saml/saml-sso-integrations/configure-auth0-saml-service-provider/configure-ssocircle-as-saml-identity-provider)

## サービスプロバイダーとしてのAuth0

Auth0がSAMLフェデレーションでサービスプロバイダーとして機能する場合、Auth0は、特定のユーザーに対してアカウントを事前に作成しなくても、認証要求をIDプロバイダーにルーティングできます。Auth0は、IDプロバイダーから返されたアサーションを使用して、そのユーザーのユーザープロファイルを作成するために必要な情報を取得できます（このプロセスはJust-In-Timeプロビジョニングと呼ばれることもあります）。詳細は、「[複数の接続オプションから選択する](/ja-jp/libraries/lock/selecting-from-multiple-connection-options)」をお読みください。

Auth0では、認証プロセスの前にユーザーアカウントを事前に作成する必要はありませんが、Auth0と統合されたアプリケーションでは必要になる可能性があります。この場合、これを処理するためのオプションがいくつかあります。

* IDプロバイダーがユーザーを作成した後、アウトオブバンドのプロセスを使用して、アプリケーション（またはAuth0）で付随するユーザーを作成し、そのアプリケーションに必要なユーザープロファイル属性を追加できます。認証後、プロファイルに属性が欠落している場合は、アプリケーションが適切なソースから属性を取得し、Auth0のユーザープロファイルに保管できます。追加の属性は、ユーザーが次回ログインするときに（IDプロバイダーによって追加された属性に加えて）アプリケーションに送信されます。
* Auth0ルールを使用してAPIを呼び出し、不足している情報を取得して、それをAuth0プロファイルに動的に追加できます（その後、アプリケーションに返されます）。ルールは認証が成功した後に実行され、アプリケーションがプロファイル属性を毎回取得することも、自分で属性をAuth0プロファイルに保存することもできます。
* Auth0は、IDプロバイダーからアプリケーションに基本的なプロファイル情報を渡すことができ、その後、別のソースから不足している情報を取得します。アプリケーションは、2つの情報セットを使って、ローカルユーザープロファイルを作成します。

Auth0 SAMLP接続の構成の一部としてメールドメインを指定して、選択したユーザーグループを処理するIDPを制御できます。たとえば、X社のAuth0 SAMLP接続の構成にメールドメインの`example.com`を追加すると、`example.com`ドメインのメールを持つすべてのユーザーが、X社の特定のIDPによって処理されます。

## IDプロバイダーとしてのAuth0

Auth0がSAMLフェデレーションでIDプロバイダーとして機能する場合、ユーザーアカウントは複数の方法で作成できます。

* LDAPディレクトリ、データベース、または別のSAML IDプロバイダーなどのバックエンド認証システムを使用する。
* <Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/ja-jp/glossary?term=auth0-dashboard" tip="Auth0 Dashboard: サービスを構成するためのAuth0の主製品。" cta="用語集の表示">Auth0 Dashboard</Tooltip>を使用する。
* Auth0 <Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/ja-jp/glossary?term=management-api" tip="Management API: 顧客が管理タスクを実行できるようにするための製品。" cta="用語集の表示">Management API</Tooltip>を呼び出す。
* セルフサービスユーザーサインアップを実装する。

アプリケーションがローカルストアからユーザープロファイル情報を取得するように作成されている場合は、Auth0でアカウントを作成した後にローカルプロファイルを作成する必要があります。これを行うには、次のような方法があります。

* アプリケーション内でユーザープロファイルを作成するアウトオブバンドのプロセス。
* 最初のログイン時に実行され、アプリケーションAPIを呼び出してアプリケーションでユーザープロファイルを作成するAuth0ルール。
* SAMLアサーションの情報に基づいて、ユーザープロファイルを動的に作成するようにアプリケーションを変更する。

## Auth0をサービスおよびIDプロバイダーとして使用したSAML SSOのテスト

Auth0は、テスト目的で、SAMLサービスプロバイダーとSAML IDプロバイダーの両方として使用できます。

<Frame>![プロトコル - SAML SPとしてのAuth0とIdPの図](/images/ja-jp/cdy7uua7fh8z/7Ds9dLC3HaxGBLsG3ry7B9/b37a1c5dd22584c3af633b402ab68705/saml-case3.png)</Frame>

## もっと詳しく

* [SAMLシングルサインオン統合](/ja-jp/authenticate/protocols/saml/saml-sso-integrations)
* [SAMLサービスプロバイダーとしてのAuth0の構成](/ja-jp/authenticate/protocols/saml/saml-sso-integrations/configure-auth0-saml-service-provider)
* [SAML IDプロバイダーとしてのAuth0の構成](/ja-jp/authenticate/single-sign-on/outbound-single-sign-on/configure-auth0-saml-identity-provider)
* [Auth0をサービス プロバイダーおよびIDプロバイダーとして使用したSAML SSOのテスト](/ja-jp/authenticate/protocols/saml/saml-configuration/configure-auth0-as-service-and-identity-provider)
* [SAML IDプロバイダーの構成設定](/ja-jp/authenticate/protocols/saml/saml-identity-provider-configuration-settings)
* [SAMLアサーションをカスタマイズする](/ja-jp/authenticate/protocols/saml/saml-configuration/customize-saml-assertions)