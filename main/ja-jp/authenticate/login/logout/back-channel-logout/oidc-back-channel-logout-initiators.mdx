---
title: "OIDCバックチャネルログアウトイニシエータ"
permalink: "oidc-back-channel-logout-initiators"
'description': "OIDCバックチャネルログアウトイニシエータの機能と、使用しているアプリケーションについて設定する方法を説明します。"
'og:title': "OIDCバックチャネルログアウトイニシエータ"
'og:description': "OIDCバックチャネルログアウトイニシエータの機能と、使用しているアプリケーションについて設定する方法を説明します。"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "OIDCバックチャネルログアウトイニシエータ"
'twitter:description': "OIDCバックチャネルログアウトイニシエータの機能と、使用しているアプリケーションについて設定する方法を説明します。"
---

OIDCバックチャネルログアウトイニシエータを使用すると、セッション終了イベントに基づいて、ユーザーをリモートでアプリケーションからログアウトさせることができます。OIDCバックチャネルログアウトイニシエータは、IDプロバイダー（<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-2" href="/ja-jp/glossary?term=idp" tip="IDプロバイダー（IdP）: デジタルIDを保存および管理するサービス。" cta="用語集の表示">IdP</Tooltip>）起点の<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-1" href="/ja-jp/glossary?term=security-assertion-markup-language" tip="Security Assertion Markup Language（SAML）: パスワードなしに二者間で認証情報を交換できる標準化プロトコル。" cta="用語集の表示">SAML</Tooltip>ログアウト要求など、プロトコルを超えて動作し、サードパーティーのクッキー制限には影響されません。

この機能はOIDCバックチャネルの標準仕様を拡張したものです。この機能を構成すると、パスワードの変更やセッションの期限切れなどの特定のセッション終了イベント、またはすべてのセッション終了イベントに対して、OIDCバックチャネルログアウト要求を開始できるようになります。

管理者はAuth0 <Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/ja-jp/glossary?term=management-api" tip="Management API: 顧客が管理タスクを実行できるようにするための製品。" cta="用語集の表示">Management API</Tooltip>を使って、特定のアプリケーションに対してこの機能を有効にすることができます。

## OIDCバックチャネルログアウトイニシエータの仕組み

イニシエータは、OIDCバックチャネルログアウト応答をセッション終了イベントにバインドします。イベントをキャプチャして、対象のセッションに関連付けられているすべてのアプリケーションでOIDCログアウトトークンをトリガーするのに使用します。

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

イニシエータは、テナントにおけるセッション管理（セッション終了イベントを含む）を制御しません。

</Callout>

下の図は、パスワード変更イベントについて、OIDCバックチャネルログアウトイニシエータの動作をまとめたものです。

<Frame>![](/images/ja-jp/cdy7uua7fh8z/2GwtCTwecxYONxL1DbewxO/a096a417507a96be8b13acf0970567a3/OIDC_Back-Channel_Logout_Initiators_Diagram.png)</Frame>

## OIDCバックチャネルログアウトイニシエータを構成する

OIDCバックチャネルログアウトイニシエータはAuth0 Management APIを使って構成することができます。

### Management API

Auth0 Management APIでOIDCバックチャネルログアウトイニシエータを構成するには、[クライアント更新](https://auth0.com/docs/api/management/v2/clients/patch-clients-by-id)エンドポイントを使用します。

1. `update:clients`スコープを持つ[Management APIアクセストークン](https://auth0.com/docs/secure/tokens/access-tokens/management-api-access-tokens)を取得します。
2. ペイロードに適切な構成データを含めて、[クライアント更新](https://auth0.com/docs/api/management/v2/clients/patch-clients-by-id)エンドポイントを呼び出します。たとえば、パスワード変更イベントの後でアプリケーションからログアウトさせるには、以下を提供します。

   

   ```json JSON lines
   PATCH /api/v2/clients/{yourClientId}
   {
     ...
     "oidc_logout": {
       "backchannel_logout_urls": ["https://example.com/cb"]
       "backchannel_logout_initiators": {
         "mode":"custom",
         "selected_initiators": ["rp-logout", "idp-logout", "password-changed"]
       }
     }
     ...
   }
   ```

   

   

#### プロパティ

`backchannel_logout_initiators`オブジェクトは以下のプロパティをサポートしています。

<table class="table"><thead>
<tr>
<th><b>プロパティ</b></th>
<th><b>タイプ</b></th>
<th><b>必須?</b></th>
<th><b>説明</b></th>
<th><b>サポートされている値</b></th>
</tr>
</thead>
<tbody>
<tr>
<td>`mode`</td>
<td>文字列</td>
<td>必須</td>
<td>イニシエーターを有効にするための構成方法。</td>
<td>`custom`、`all`</td>
</tr>
<tr>
<td>`selected_initiators`</td>
<td>配列</td>
<td>`mode`が`custom`の場合は必須</td>
<td>有効にするイニシエーターのリスト。</td>
<td>`rp-logout`、`idp-logout`、`password-changed`、`session-expired`、`session-revoked`、`account-deleted`、`email-identifier-changed`</td>
</tr>
</tbody>
</table>

##### modeプロパティ

`mode`プロパティはイニシエータを有効化するための構成メソッドを定義します。

デフォルトでは`custom`に設定され、有効化したいイニシエータを指定できるようになっています。IdPセッションの終了後に必ずアプリケーションをログアウトさせたい場合には、`all`に設定します。

`mode`プロパティは以下の値をサポートしています。

<table class="table"><thead>
<tr>
<th><b>値</b></th>
<th><b>説明</b></th>
</tr>
</thead>
<tbody>
<tr>
<td>`custom`</td>
<td>`selected_initiators`配列にリストされたイニシエーターのみを有効にします。</td>
</tr>
<tr>
<td>`all`</td>
<td>現在および将来のすべてのイニシエーターを自動的に有効にします。</td>
</tr>
</tbody>
</table>

##### selected_initiatorsプロパティ

`selected_initiators`プロパティには、指定されたアプリケーションに対して有効化するイニシエータのリストが含まれます。

`selected_initiators`プロパティは以下の値をサポートしています。

<table class="table"><thead>
<tr>
<th><b>値</b></th>
<th><b>説明</b></th>
</tr>
</thead>
<tbody>
<tr>
<td>`rp-logout`</td>
<td>要求がリライングパーティー（RP）によって開始されました。</td>
</tr>
<tr>
<td>`idp-logout`</td>
<td>要求が外部IDプロバイダー（IdP）によって開始されました。</td>
</tr>
<tr>
<td>`password-changed`</td>
<td>要求がパスワードの変更によって開始されました。</td>
</tr>
<tr>
<td>`session-expired`</td>
<td>要求がセッションの期限切れによって開始されました。</td>
</tr>
<tr>
<td>`session-revoked`</td>
<td>要求がセッションの削除によって開始されました。</td>
</tr>
<tr>
<td>`account-deleted`</td>
<td>要求がアカウントの削除によって開始されました。</td>
</tr>
<tr>
<td>`email-identifier-changed`</td>
<td>要求がメール識別子の変更によって開始されました。</td>
</tr>
</tbody>
</table>

#### 例

##### アプリケーションを現在と未来のイニシエータすべてに登録する



```json JSON lines
PATCH /api/v2/clients/{yourClientId}

{
  ...
  "oidc_logout": {
    "backchannel_logout_urls": ["https://example.com/cb"]
    "backchannel_logout_initiators": {
      "mode":"all"
    }
  }
  ...
}
```

##### アプリケーションをパスワード変更のイニシエータにのみ登録する（rp-logoutとidp-logoutが必要）



```json JSON lines
PATCH /api/v2/clients/{yourClientId}

{
  ...
  "oidc_logout": {
    "backchannel_logout_urls": ["https://example.com/cb"]
    "backchannel_logout_initiators": {
      "mode":"custom",
      "selected_initiators": ["rp-logout", "idp-logout", "password-changed"]
    }
  }
  ...
}
```

##### すべてのイニシエータを登録解除する（rp-logoutはデフォルトで登録されたままになる）



```json JSON lines
PATCH /api/v2/clients/{yourClientId}

{
  ...
  "oidc_logout": {
	  "backchannel_logout_urls": ["https://example.com/cb"]
  }
  ...
}
```

### ダッシュボード

<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/ja-jp/glossary?term=openid" tip="OpenID: アプリケーションがログイン情報を収集および保存することなくにユーザーのIDを検証できるようにする認証用のオープン標準。" cta="用語集の表示">OpenID</Tooltip> Connectバックチャネルログアウトは他のアプリケーション設定と並行して構成できます。この機能は、バックチャネルログアウトURIが提供されると、自動的にアクティブ化されます。

<Frame>![Dashboard > Applications > Application Settings](/images/ja-jp/cdy7uua7fh8z/vgN0wudP38zgRZNL59Mhy/305351ceb61852621759023a3269e9cf/Backchannel_Logout_settings.png)</Frame>

#### Selected initiators only（選択されたイニシエータのみ）

必要なイニシエータ（`rp-logout`と`idp-logout`）のみがデフォルトで登録されます。他の追加のイニシエータは、未来に追加されるものも含めて、前もって選択しておかないと、アプリケーションからログアウトを開始できません。

選択したイニシエータについてのみアプリケーションをログアウトさせたい場合には、このオプションを選択します。

#### All supported initiators（すべてのサポートされているイニシエータ）

すべてのサポートされているイニシエータが、未来に追加されるものも含めて、デフォルトで登録されます。

IdPセッションの終了時に必ずアプリケーションをログアウトさせたい場合には、このオプションを選択します。