---
title: "Dashboardでカスタマーマネージドキーを構成する"
permalink: "customer-managed-keys-dashboard"
'description': "Dashboardを使用してカスタマーマネージドキーを有効にする方法を説明します"
'og:title': "Dashboardでカスタマーマネージドキーを構成する"
'og:description': "Dashboardを使用してカスタマーマネージドキーを有効にする方法を説明します"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Dashboardでカスタマーマネージドキーを構成する"
'twitter:description': "Dashboardを使用してカスタマーマネージドキーを有効にする方法を説明します"
---

Auth0は、エンベロープ暗号化キー階層の最上位にあるAuth0環境ルートキーを使用してテナントのシークレットとデータを保護します。Auth0環境ルートキーと顧客提供ルートキーは、対応するAuth0クラウドサービスプロバイダー、AWS、またはAzureのハードウェアセキュリティモジュール（HSM）に保存されます。

## BYOK（Bring Your Own Key）

Bring Your Own Keyを使用すると、[キー管理エディターロール](/ja-jp/get-started/manage-dashboard-access/add-dashboard-users)のユーザーは<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/ja-jp/glossary?term=auth0-dashboard" tip="Auth0 Dashboard: サービスを構成するためのAuth0の主製品。" cta="用語集の表示">Auth0 Dashboard</Tooltip>を使ってデフォルトのAuth0環境ルートキーを独自の顧客提供ルートキーに置き換えることができます。

顧客は独自の暗号化マテリアルを含む独自のルートキーを安全にアップロードして以下を行うことができます。

* 環境ルートキーのカスタムの鍵の生成および出所の要件を満たす。
* 環境ルートキーの特定の鍵のインストールまたは寿命の要件を満たす。

<Warning>

BYOKを使用して独自の顧客提供ルートキーをインポートすることにより、Auth0による顧客提供ルートキーのライフサイクル管理を削除以外について暗示的に無効化しようとしています。

</Warning>

開始するには、［Dashboard］>［Settings（設定）］>［Encryptions Keys（暗号鍵）］に移動します。

<Frame>![Dashboard > Settings > Encryption Keys](/images/ja-jp/cdy7uua7fh8z/1qmfCSl7cOugrHIAdxSyAt/353bb35f4341ee503dbfa9612324ce00/Encryption_Keys_-_JP.png)</Frame>

**［Upload Key（鍵のアップロード）］** を選択して顧客提供ルートキーのインポートプロセスを開始します。これにより、インポートダイアログが開きます。

<Frame>![Dashboard > Settings > Encryption Keys > Upload](/images/ja-jp/cdy7uua7fh8z/1GJPgT1Be7Wm6G6ldCVW4q/b842cf8fdf3c5f03e927d0ebeef25b39/Configure_a_Key_popup.png)</Frame>

**［Upload Key（鍵のアップロード）］** の次に **［Download（ダウンロード）］** を選択すると、Bring Your Own Keyのプロセスが始まります。

1. 公開ラッピングキーを作成して、システムにダウンロードします。
2. 公開ラッピングキーを取得し、独自のキー管理システムを使ってそれを独自の暗号化マテリアルとラップし、ラップされた暗号鍵（顧客提供ルートキー）を作成します。
3. ラップされた暗号鍵をアップロードして、**［Save（保存）］** を選択します。

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

ラップされた暗号化キーをアップロードすると、ハードウェアセキュリティモジュール（AWSまたはAzure）にあるAuth0の環境ルートキーが顧客提供ルートキーに置き換えられます。

</Callout>

## 暗号化に必要な情報の要件

貴社のキー管理システムを使って暗号化に必要な独自の情報をパブリックラッピングキーでラッピングし、ラップされた暗号化キーを作成します。Auth0クラウドサービスプロバイダー（AWSまたはAzure）に応じて、[CKM_RSA_AES_KEY_WRAP](https://docs.oasis-open.org/pkcs11/pkcs11-curr/v2.40/cos01/pkcs11-curr-v2.40-cos01.html#_Toc408226894)アルゴリズムパラメ―ターに以下の設定を使用します：

### AWSクラウド上のAuth0

* パブリックラッピングキーの長さ3072ビット
* アルゴリズム：CKG_MGF1_SHA256
* CKM_AES_KEY_WRAP_PADの一時的なAESキーの長さ：256ビット
* カスタマーが提供するルートキーのタイプ：256ビット長のAES対称キー

### AzureクラウドのAuth0

* パブリックラッピングキーの長さ2048ビット
* アルゴリズム：CKG_MGF1_SHA-1
* CKM_AES_KEY_WRAP_PADの一時的なAESキーの長さ：256ビット
* 顧客が提供するルートキーのタイプ：2048ビット長のRSA秘密鍵
* 秘密鍵のエンコーディング：PKCS #8 - ASN.1 DER