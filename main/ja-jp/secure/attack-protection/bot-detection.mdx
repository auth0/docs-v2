---
title: "ボット検知"
permalink: "bot-detection"
'description': "Auth0が攻撃を検出してアプリケーションへの悪意あるアクセスから防御し、不審なアクティビティをお客様とそのユーザーに知らせ、さらなるログイン試行をブロックする様子をご紹介します。"
'og:title': "ボット検知"
'og:description': "Auth0が攻撃を検出してアプリケーションへの悪意あるアクセスから防御し、不審なアクティビティをお客様とそのユーザーに知らせ、さらなるログイン試行をブロックする様子をご紹介します。"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "ボット検知"
'twitter:description': "Auth0が攻撃を検出してアプリケーションへの悪意あるアクセスから防御し、不審なアクティビティをお客様とそのユーザーに知らせ、さらなるログイン試行をブロックする様子をご紹介します。"
---

<Card title="Before you start">

サポートされているサードパーティーCAPTCHAプロバイダーの統合を利用するには、プロバイダーの構成情報が必要です。詳細については、「[サードパーティーCAPTCHAプロバイダーの統合を構成する](/ja-jp/secure/attack-protection/bot-detection/configure-captcha)」をお読みください。

</Card>

ボット検知は、要求がボットからのものである可能性が高いことを検知することによって、スクリプト攻撃を軽減します。これらのタイプの攻撃は、資格情報スタッフィング攻撃やリスト検証攻撃などと呼ばれることもあります。ボット検知は、特定の攻撃に対するサポートを提供し、正当なユーザーに負担をほとんど与えません。ボット検知のデフォルトの応答は認証チャレンジで、CAPTCHAのないユーザー検証を提供します。

詳細については、「[資格情報スタッフィング攻撃：その仕組みと対処法](https://auth0.com/resources/whitepapers/credential-stuffing-attacks)」をお読みください。

Auth0は、大量のデータと統計モデルを使用して、ログイン、サインアップ、またはパスワードリセットのトラフィックの急増がボットやスクリプトによるものである可能性が高いことを示すパターンを突き止めます。資格情報スタッフィング攻撃に加担している可能性が高いIPアドレスからログインやアカウント作成、パスワードリセットを試みるユーザーは、追加の検証手順を完了する必要があります。トリガーは、正当なユーザーに不要な負担をかけることなく、これらの攻撃に関連するトラフィックを検出します。

## ボット検知を構成する

Auth0ではデフォルトで、すべての接続のボット検知が有効です。

**［Response（応答）］** 設定でボット検知を有効にしない場合、ボット検知は[モニタリング](/ja-jp/secure/attack-protection#monitoring)モードで動作します。モニタリングモードでは、関連するイベントがテナントログに記録され、確認できます。詳細については、[「攻撃防御のログイベントを表示する」](/ja-jp/secure/attack-protection/view-attack-protection-events)をお読みください。

リスク評価のテナントログは、[Auth0 Dashboard](https://manage.auth0.com/#)で有効にできます。

1. [［Dashboard］>［Security（セキュリティ）］>［Attack Protection（攻撃防御）］](https://manage.auth0.com/#/security/attack-protection)に移動し、**［Bot Detection（ボット検知）］** を選択します。
2. **［Detection（検知）］** セクションでトグルを有効にします。

   <Frame>![攻撃防御画面の検知セクション](/images/ja-jp/cdy7uua7fh8z/3q0HlAm0m0aLilEOAhQ81h/4327226260e7b86135fadfd4b5974291/Bot_Detection_toggle.png)</Frame>

   <Callout icon="file-lines" color="#0EA5E9" iconType="regular">

   リスク評価用のテナントログを有効にするトグルが表示されない場合は、[プランのアップグレード](https://manage.auth0.com/#/tenant/billing/subscription)が必要な可能性があります。

   </Callout>

3. **［Response（応答）］** セクションで、ボット検知応答を選択します。

   <Frame>![Dashboard - 攻撃防御 - ボット検知](/images/ja-jp/cdy7uua7fh8z/3vuVvc01mfCPdc70AU9Oq1/adbd810fa02c09c1e450293d9ab880c2/Bot_Detection_-_Reponse_Challenge.png)</Frame>

   認証チャレンジの使用中は、**［Fail open（失敗で開く）］** トグルはデフォルトで無効になっています。

   <Callout icon="file-lines" color="#0EA5E9" iconType="regular">

   ボット検知のためのデフォルトの応答であるAuth Challenge（認証チャレンジ）は、強固なプライバシー保護と優れたユーザーエクスペリエンスを備えた、CAPTCHAのないWebエクスペリエンスを提供します。

   ダッシュボートにもあるように、このログインエクスペリエンスにはJavascriptが必要です。Javascriptを使用しないことがログインエクスペリエンスの要件である場合は、Simple CAPTCHAを選択してください。

   </Callout>

4. パスワードフロー、パスワードレスフロー、およびパスワードリセットフローでCAPTCHAを必須にしたい場合は選択してください。

   * **［Never（求めない）］** ：ユーザーに対してログイン時にCAPTCHAの完了を一切求めません。
   * **［When Risky（リスクがある場合）］** ：ユーザーに対して、ログインが **［Bot Detection Level（ボット検知レベル）］** 設定と一致する場合にのみ、CAPTCHAの完了を求めます。
   * **［Always（常に）］** ：ユーザーに対してログイン時に常にCAPTCHAの完了を求めます。
5. **［When Risky（リスクがある場合）］** か **［Always（常に）］** を選択すると、**［CAPTCHA Providers（CAPTCHAプロバイダー）］** フィールドが **［Response（応答）］** セクションに表示されます。**［Auth Challenge（認証チャレンジ）］** （Auth0提供）、**［Simple CAPTCHA（シンプルCAPTCHA）］** （Auth0提供）、またはサポートされているサードパーティープロバイダーの統合（外部でのセットアップと登録が必要）を選択してください。

   * **［Auth Challenge（認証チャレンジ）］** か **［Simple CAPTCHA（シンプルCAPTCHA）］** を選択する場合は、操作はこれだけです。ログインエクスペリエンスがJavaScriptをサポートしていない場合は、**［Simple CAPTCHA（シンプルCAPTCHA）］** を選ぶ必要があります。
   * サードパーティープロバイダーの統合を選択する場合は、続けてプロバイダーの構成の詳細を入力します。詳細については、「[サードパーティーCAPTCHAプロバイダーの統合を構成する](/ja-jp/secure/attack-protection/bot-detection/configure-captcha)」をお読みください。
6. **［When Risky（リスクがある場合）］** を選択すると、**［Bot Detection Level（ボット検知レベル）］** フィールドが **［Response（応答）］** セクションに表示されます。ユースケースに適したセキュリティレベルを選択してください。詳細は、「[ボット検知レベルを構成する](/ja-jp/secure/attack-protection/bot-detection#configure-bot-detection-level)」をお読みください。
7. **［Save（保存）］** を選択します。

## ボット検知レベルを構成する

**［<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/ja-jp/glossary?term=bot-detection" tip="ボット検知: Auth0がログインプロセス中にCAPTCHAを有効にすることで、疑わしいボットトラフィックをブロックする攻撃防御の形式。" cta="用語集の表示">Bot Detection</Tooltip> Level（ボット検知レベル）］** 設定をご自身のリスク許容度とビジネスニーズに合わせて構成します。

設定は3種類から選べます。

1. **［Low（低）］** ：ボットアクティビティの可能性が高い場合にCAPTCHAがトリガーされ、実際のユーザーには比較的負担が少なくなります。
2. **［Medium（中）］** ：デフォルト。ボットアクティビティの可能性が中程度の場合にCAPTCHAがトリガーされ、実際のユーザーにはセキュリティと負担のバランスが取れたエクスペリエンスが提供されます。
3. **［High（高）］** ：ボットアクティビティの可能性がわずかにある場合にCAPTCHAがトリガーされ、実際のユーザーにはセキュリティは強化されますが、負担が大きくなる可能性があります。

<Frame>![［Auth0 Dashboard］>［Security（セキュリティ）］>［Attack Protection（攻撃防御）］でこのスライダーを表示](/images/ja-jp/cdy7uua7fh8z/6HSMEXmDHVks6aUH0FUTPo/3b0f2f35562059f814ac5068da5e45ab/Bot_Detection_Levels_-_Japanese.png)</Frame>

## 信頼できるIPアドレスにボット検知の迂回を許可する

**IP AllowList** フィールドに最大100個の個別のIPアドレスおよび/またはCIDRレンジ（IPv4またはIPv6）を追加することで、ボット検知のバイパスを許可することができます。Auth0は、このリストのIPアドレスまたはCIDRレンジについて、ブロックを強制することもアラートを送信することもありません。

1. [［Dashboard］>［Security（セキュリティ）］>［Attack Protection（攻撃防御）］](https://manage.auth0.com/#/security/attack-protection)に移動し、**［Bot Detection（ボット検知）］** を選択します。
2. **［IP AllowList］** フィールドに、ボット検知をバイパスするIPアドレスおよび/またはCIDRレンジを入力します。アドレス・範囲が複数ある場合は、カンマで区切ります。

## カスタムログインページやクラシックログインエクスペリエンスにサインアップ検知モデルを構成する

Auth0はサインアップ検知の機会学習モデルを提供しています。これはログインモデルとは異なり、特有の信号を分析することで、さまざまな種類の攻撃に対処します。

このモデルでは、サインアップフローとログインフローでCAPTCHAの動作を変えられるため、サインアップ攻撃に対する保護を強化し、最新のセキュリティ技術にも対応できます。

<Warning>

このモデルを有効化する前に、[Auth0.js](https://github.com/auth0/auth0.js/)や[Lock](https://github.com/auth0/lock)を使用しているすべてのアプリケーションについて、最新バージョンのライブラリーが使用されていることを確認してください。

* **Auth0.js** ：9.28.0+
* **Lock** ：13.0+

古いライブラリーの使用中にこのモデルを有効化すると、アプリケーションでエラーが発生する可能性があります。

</Warning>

[カスタムログインページ](/ja-jp/customize/login-pages)や[クラシックログインエクスペリエンス](/ja-jp/authenticate/login/auth0-universal-login/universal-login-vs-classic-login/classic-experience)を使用している場合に、ボット検知がサインアップフローに使用する検知モデルを<Tooltip data-tooltip-id="react-containers-DefinitionTooltip-0" href="/ja-jp/glossary?term=auth0-dashboard" tip="Auth0 Dashboard: サービスを構成するためのAuth0の主製品。" cta="用語集の表示">Auth0 Dashboard</Tooltip>から構成できます。

1. [［Dashboard］>［Security（セキュリティ）］>［Attack Protection（攻撃防御）］](https://manage.auth0.com/#/security/attack-protection)に移動し、**［Bot Detection（ボット検知）］** を選択します。
2. **［Detection Models（検知モデル）］** セクションを見つけます。
3. **［Signup detection models for custom and classic login pages（カスタムおよびクラシックログインページのサインアップ検知モデル）］** トグルを有効にします。

## 制約と制限

### フローの制限

ボット検知は、[Auth0ユニバーサルログイン](/ja-jp/authenticate/login/auth0-universal-login)を使用するウェブアプリケーションとモバイルアプリケーションで使用できます。ユニバーサルログインを使用しないアプリケーション、特にCAPTCHAまたはreCAPTCHAチャレンジをサポートしないフローについては、サポートレベルに限りがあります。

ボット検知を有効にする前にすべてのログインエクスペリエンスがサポート対象であることを確認してください。アプリケーションにエラーが発生する可能性があります。

<table class="table"><thead>
<tr>
<th><strong>フロー</strong></th>
<th><strong>制限</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>ユニバーサルログイン</td>
<td>デフォルトで対応</td>
</tr>
<tr>
<td>クラシックログイン（カスタマイズなし）</td>
<td>デフォルトで対応</td>
</tr>
<tr>
<td>クラシックログイン`（__Lock__テンプレートを用いたカスタムログインページ)`</td>
<td>`lock.js` SDKバージョン12.4.0以降の使用で対応</td>
</tr>
<tr>
<td>クラシックログイン（__カスタムログインフォーム__テンプレートを用いたカスタムログインページ）</td>
<td>`auth0.js` SDKバージョン9.24以降を使用し、CAPTCHAやreCAPTCHAチャレンジを処理するようにコードを拡張している場合に対応</td>
</tr>
<tr>
<td>ネイティブアプリケーション</td>
<td>以下のSDKの使用で対応：<ul><li >`Auth0.swift`バージョン1.28.0以降</li><li >`Auth0.Android`バージョン1.25.0以降</li><li >`Lock.Swift`バージョン2.19.0以降</li><li >`Lock.Android`バージョン2.22.0以降</li></ul></td>
</tr>
<tr>
<td>通常のWebまたはネイティブアプリケーションでリソース所有者のパスワードフローを使用</td>
<td>制限付きで対応。CAPTCHAなど、ボット検知の応答は対話型フローが必要なため非対応。SDKがrequires_verificationエラーを返した場合は、Webベースのログインフローをトリガーしてユーザーの認証を完了させる必要がある。</td>
</tr>
<tr>
<td>Auth0がホストしていないフローで`lock.js` SDKまたは`auth0.js` SDKを使用してクロスオリジン認証（`co/authenticate`エンドポイント）を行う</td>
<td>非対応</td>
</tr>
</tbody>
</table>

### 接続タイプの制限

使用する接続のタイプに応じて、ボット検知には以下の制限があります。

<table class="table"><thead>
<tr>
<th><strong>接続タイプ</strong></th>
<th><strong>制限</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>データベース</td>
<td>フロー制限の表が示すように、ログインが互換性のあるログインフローを使用する場合に対応されます。</td>
</tr>
<tr>
<td>カスタムデータベース</td>
<td>フロー制限の表が示すように、ログインが互換性のあるログインフローを使用する場合に対応されます。</td>
</tr>
<tr>
<td>Active Directory/LDAP</td>
<td>フロー制限の表が示すように、ログインが互換性のあるログインフローを使用する場合に対応されます。</td>
</tr>
<tr>
<td>エンタープライズ</td>
<td>非対応です。</td>
</tr>
<tr>
<td>ソーシャルログイン</td>
<td>非対応です。</td>
</tr>
<tr>
<td>パスワードレス</td>
<td>フロー制限の表が示すように、ログインが互換性のあるログインフローを使用する場合に対応されます。</td>
</tr>
</tbody>
</table>

### カスタムログインページのサポート

Auth0.jsを使用してカスタムログインページを構築する場合には、ボット検知を有効にして、ログイン要求がAuth0によって高リスクと判断された場合にCAPTCHAの手順を表示することができます。

カスタムログインフォームコードは、ユーザーがCAPTCHAステップを渡すように求められるシナリオを処理しなければなりません。詳細は、「[ボット検知をカスタムログインページに追加する](/ja-jp/secure/attack-protection/bot-detection/bot-detection-custom-login-pages)」をお読みください。

### ネイティブアプリケーションのサポート

ログインフローにAuth0 SDKを使用してネイティブアプリケーションを構築する場合は、ボット検知を有効にして、ログイン要求がAuth0によって高リスクと判断された場合にCAPTCHAの手順を表示することができます。

カスタムログインフォームコードは、ユーザーがCAPTCHAステップを渡すように求められるシナリオを処理しなければなりません。詳細については、「[ボット検知をネイティブアプリケーションに追加する](/ja-jp/secure/attack-protection/bot-detection/bot-detection-native-apps)」をお読みください。

## もっと詳しく

* [サードパーティーCAPTCHAプロバイダーの統合の設定](/ja-jp/secure/attack-protection/bot-detection/configure-captcha)
* [ボット検知をカスタムログインページに追加する](/ja-jp/secure/attack-protection/bot-detection/bot-detection-custom-login-pages)
* [ボット検知をネイティブアプリケーションに追加する](/ja-jp/secure/attack-protection/bot-detection/bot-detection-native-apps)
* [パスワード漏洩検知](/ja-jp/secure/attack-protection/breached-password-detection)
* [総当たり攻撃防御](/ja-jp/secure/attack-protection/brute-force-protection)
* [不審なIPのスロットリング](/ja-jp/secure/attack-protection/suspicious-ip-throttling)