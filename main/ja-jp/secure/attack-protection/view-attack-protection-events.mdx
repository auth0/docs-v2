---
title: "攻撃防御のログイベントを表示する"
permalink: "view-attack-protection-events"
'description': "テナントトラフィックログデータを使用して攻撃防御イベントを表示する方法について説明します。"
'og:title': "攻撃防御のログイベントを表示する"
'og:description': "テナントトラフィックログデータを使用して攻撃防御イベントを表示する方法について説明します。"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "攻撃防御のログイベントを表示する"
'twitter:description': "テナントトラフィックログデータを使用して攻撃防御イベントを表示する方法について説明します。"
---

テナントログには、テナントを通過するトラフィックのプロファイルを確認するためのグラフを作成するために使用できる便利なデータが含まれています。これは、攻撃防御アクティビティを評価するときに役立ちます。たとえば、次のイベントを探して、攻撃を受けているかどうかを判断できます。

* ログインフローへのトラフィックの異常なバーストによりエラーが発生する（ユーザー名やパスワードのエラーが間違っているなど）。
* 予期しないIPロケールからのトラフィックの異常なバースト。

これらのイベントは、ログイン成功率に大きな変化を伴わずに発生する傾向があります。

テナントログデータの`イベント`フィールドを使用して、テナントトラフィックデータを表示できます。次の種類の失敗イベントの毎日のヒストグラムを作成することをお勧めします。

<table class="table"><thead>
<tr>
<th><strong>イベントコード</strong></th>
<th><strong>イベント</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>`f`</td>
<td>ログインに失敗</td>
</tr>
<tr>
<td>`fcoa`</td>
<td>クロスオリジン認証に失敗</td>
</tr>
<tr>
<td>`feccft`</td>
<td>交換に失敗</td>
</tr>
<tr>
<td>`fepft`</td>
<td>交換に失敗</td>
</tr>
<tr>
<td>`fsa`</td>
<td>サイレント認証に失敗</td>
</tr>
<tr>
<td>`fu`</td>
<td>ログインに失敗（メール/ユーザー名が無効）</td>
</tr>
<tr>
<td>`pla`</td>
<td>ログイン前の評価</td>
</tr>
<tr>
<td>`sepft`</td>
<td>交換成功</td>
</tr>
</tbody>
</table>

これらの失敗イベントは、Auth0で設定したフローによって異なります。

以下は02/13の資格情報スタッフィング攻撃の例です。この攻撃では`fu`タイプの失敗したユーザー名（典型的な資格情報スタッフィング攻撃）のイベントが急増しています。

<Frame>![トラフィック障害トレンドグラフの例](/images/ja-jp/cdy7uua7fh8z/3fTdEeLJSvDT4JVs1Ebza2/37e48a5e8d2d522b44a411642fd6c55f/Traffic_Failure_Trends_-_Japanese.png)</Frame>

## ログインフローのエラー率

ユーザー名またはパスワードが正しくない場合のエラーの急増または異常な数を探します。例：1時間あたり>30,000件のエラーが予想されますか?

<table class="table"><thead>
<tr>
<th>イベントコード</th>
<th>イベント</th>
</tr>
</thead>
<tbody>
<tr>
<td>`s`</td>
<td>ログイン成功</td>
</tr>
<tr>
<td>`fu`</td>
<td>ログイン失敗、無効なメール/ユーザー名</td>
</tr>
<tr>
<td>`fp`</td>
<td>ログイン失敗、不正なパスワード</td>
</tr>
</tbody>
</table>

データの例を以下に示します。

<Frame>![通常のトラフィックと比較したログイン失敗の急増のグラフ例](/images/ja-jp/cdy7uua7fh8z/5PQBhfw1B1yx8S2BnHSDTk/dbd9fbb123d6b9a66a6e247611b6cefe/Login_events_by_type_-_Japanese.png)</Frame>

## 攻撃防御イベントの率

パスワード侵害の検出や複数のアカウントに対するブルートフォース攻撃などの攻撃防御イベントのトラフィックが異常に高いかどうかを探します。

<table class="table"><thead>
<tr>
<th>イベントコード</th>
<th>イベント</th>
</tr>
</thead>
<tbody>
<tr>
<td>`limit_mu`</td>
<td>ブロックされたIPアドレス</td>
</tr>
<tr>
<td>`limit_wc`</td>
<td>ブロックされたアカウント</td>
</tr>
<tr>
<td>`pwd_leak`</td>
<td>ログイン時に侵害されたパスワード</td>
</tr>
<tr>
<td>`signup_pwd_leak`</td>
<td>サインアップ時に侵害されたパスワード</td>
</tr>
</tbody>
</table>

データの例を以下に示します。

<Frame>![異常検出イベントのグラフ例](/images/ja-jp/cdy7uua7fh8z/4hCSxSwOq5jmiwChEKnSuQ/1335fd42ea06bdac024856da7714e70e/Types_-_Japanese.png)</Frame>

## エラーを生成しているIPの数とその場所

意味をなさないロケールからのIPの数が多いかどうかを探します。例：ロシアから毎日10,000のIPからのトラフィックが予想されますか?失敗トラフィックの発生元を特定するには、`fu`イベントトラフィックと併せて`ip`アドレスデータを観察します。

IPジオロケーションデータは、別の場所からエンリッチメントできない限り、テナントログでは使用できません。IPロケールは、ログに既に情報がエンリッチメントされているKibanaからのみ使用できます。

データの例を次に示します。

<Frame>![地域別の失敗したアクセス試行のグラフ例](/images/ja-jp/cdy7uua7fh8z/6fP5CSgHUpn66orFrhwh84/7b4d69ce30efd60e613a0f8f5f824642/Regions_-_Japanese.png)</Frame>

## もっと詳しく

* [ボット検知](/ja-jp/secure/attack-protection/bot-detection)
* [パスワード漏洩検知](/ja-jp/secure/attack-protection/breached-password-detection)
* [総当たり攻撃防御](/ja-jp/secure/attack-protection/brute-force-protection)
* [ログ](/ja-jp/deploy-monitor/logs)
* [ログ検索のクエリ構文](/ja-jp/deploy-monitor/logs/log-search-query-syntax)