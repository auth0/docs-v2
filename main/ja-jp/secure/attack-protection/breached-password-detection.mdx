---
title: "パスワード漏洩検知"
permalink: "breached-password-detection"
'description': "ユーザーがパスワードの漏洩に関するメールを受け取る理由と、一般的なWebセキュリティのヒントについて説明します。"
'og:title': "パスワード漏洩検知"
'og:description': "ユーザーがパスワードの漏洩に関するメールを受け取る理由と、一般的なWebセキュリティのヒントについて説明します。"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "パスワード漏洩検知"
'twitter:description': "ユーザーがパスワードの漏洩に関するメールを受け取る理由と、一般的なWebセキュリティのヒントについて説明します。"
---

<Warning>

これらの資料や推奨事項は、法的、プライバシー、セキュリティ、コンプライアンス、ビジネス上の助言を意味するものではありません。これらの資料は一般的な情報提供のみを目的としており、セキュリティ、プライバシーやや法律の最新動向、それらに関連する問題をすべて反映していない場合があります。お客様にはご自身の弁護士その他の専門アドバイザーから法律、セキュリティ、プライバシー、コンプライアンス、またはビジネス上のアドバイスを受ける責任があり、ここに記載されている推奨事項に依存すべきではありません。Oktaは、これらの資料に記載されている推奨事項の実装に起因する損失または損害について、責任を負わないものとします。Oktaでは、これらの資料に記載されている内容に関して、いかなる表明、保証、その他の確実性の保証も行いません。Oktaのお客様に対する契約上の保証については、[okta.com/agreements](http://okta.com/agreements)をご覧ください。

</Warning>

パスワード漏洩検知は、盗まれた資格情報を使って悪意のある行為者がサインアップやログインすることからアプリケーションを保護します。Auth0ではユーザーの通知と、潜在的に危険な状態にあるアカウントのブロックを両方行うことができます。

Auth0は、主なサードパーティーサイトで発生した大規模なセキュリティ侵害を追跡します。ユーザーの資格情報が漏洩の一部であったことを特定すると、パスワード漏洩検知のセキュリティ機能がトリガーされます。その際に、Auth0は次の対処を行うことができます。

* 盗まれた資格情報で新しいユーザーがサインアップするのをブロックする。ユーザー名とパスワードの組み合わせが完全にブロックされます。
* 盗まれた資格情報でのログインをすべてブロックする。アカウントを完全にブロックし、悪意のある行為者がアプリケーションにアクセスするのを防ぎます。ユーザーはパスワードを変更するまでログインできません。
* ログイン試行があったときにユーザーにメールを送信する。潜在的に危険な状態にあることをユーザーにメールで通知し、早急にパスワードを変更するよう指示します。ユーザーに送信するメッセージはカスタマイズできます。詳細については、「[ブロックされたアカウントのメール通知をカスタマイズする](/ja-jp/customize/email/customize-blocked-account-emails)」をお読みください

## Credential Guardで侵害をより速く検出する

パスワード漏洩検知は、一般に公開されている漏洩や侵害のデータを利用しています。Credential GuardはAuth0の追加サービスです。パスワード漏洩検知に追加すると、漏洩や侵害を検査して、より速く侵害された資格情報を通知することができます。

<table class="table"><thead>
<tr>
<th></th>
<th><strong>侵害されたパスワードの保護</strong></th>
<th><strong>Credential Guard</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>含まれるプラン</strong></td>
<td>B2B/B2Cのプロフェッショナルとエンタープライズ</td>
<td>エンタープライズプランの攻撃防御アドオンの一部</td>
</tr>
<tr>
<td><strong>データ収集方法</strong></td>
<td>Webスキャナ―とスクレイパーが、公開済みのセキュリティ侵害でユーザー資格情報を検索する</td>
<td>セキュリティ専門チームが犯罪者のコミュニティに入り込み、本来なら入手できない侵害データへのアクセスを可能にする</td>
</tr>
<tr>
<td><strong>一般的な検出時間</strong></td>
<td>最大7～13か月</td>
<td>12～36時間</td>
</tr>
<tr>
<td><strong>対応範囲</strong></td>
<td>英語のみ</td>
<td>200以上の国と領域</td>
</tr>
</tbody>
</table>

Auth0との契約にCredential Guardを追加するには、[こちらの連絡先までお問い合わせ](https://auth0.com/get-started?place=header&type=button&text=talk%20to%20sales)ください。

## パスワード漏洩検知を構成する

有効にすると、検知方法、対処のシナリオや通知など、パスワード漏洩検知の設定をカスタマイズすることができます。

1. [［Dashboard］>［Security（セキュリティ）］>［Attack Protection（攻撃防御）］](https://manage.auth0.com/#/security/attack-protection)に移動し、**［Breached Password Detection（パスワード漏洩検知）］** を選択します。

   <Frame>![Auth0で侵害されたパスワードの検出をオンにするトグル](/images/ja-jp/cdy7uua7fh8z/239K5la6duvT7ZwpAt2ED1/882cc73a6ee91f5ed3b7af92fe609a8b/2025-01-10_13-12-01.png)</Frame>

2. パスワード漏洩検知をオンにするには、ページの右上隅にあるスイッチを有効にします。

   <Frame>![Auth0で侵害されたパスワードの検出を構成する](/images/ja-jp/cdy7uua7fh8z/4xxqrdFGgd5toF8r6MZNvw/6d90244ace3deb5b54e6f8d4f81364b8/2025-01-10_13-07-16.png)</Frame>

   <Warning>

   応答の設定をまったく有効にせずに攻撃防御機能を有効にすると、モニタリングモードが作動し、関連イベントがテナントログにのみ記録されます。詳細については、「[攻撃防御のログイベントを表示する](/ja-jp/attack-protection/view-attack-protection-events)」をお読みください。

   </Warning>

   <Callout icon="file-lines" color="#0EA5E9" iconType="regular">

   リスク評価用のテナントログを有効にするトグルが表示されない場合は、[プランのアップグレード](https://manage.auth0.com/#/tenant/billing/subscription)が必要な可能性があります。

   </Callout>

### 検知方法を構成する

契約プランに含まれている機能を基に、侵害された資格情報の特定に使用する検知方法を設定することができます。

1. [［Dashboard］>［Security（セキュリティ）］>［Attack Protection（攻撃防御）］](https://manage.auth0.com/#/security/attack-protection)に移動し、**［Breached Password Detection（パスワード漏洩検知）］** を選択します。
2. **［Detection（検知）］** セクションで、**［Breached Password Detection Method（パスワード漏洩検知方法）］** を見つけます。
3. Auth0との契約にCredential Guardが含まれている場合は、**［As soon as possible based on data received from the dark web, with Credential Guard（ダークウェブから受け取ったデータを基に、Credential Guardを用いてできる限り早急に］** を選択します。
4. 含まれていない場合は、**［When breach data is published（漏洩データが公開された場合）］** を選択したままにしておきます。
5. **［Save（保存）］** を選択して、変更内容を適用します。

### 対処のシナリオを構成する

ユーザーが侵害された資格情報を使う可能性のある異なる状況について、Auth0の対処を構成することができます。

1. [［Dashboard］>［Security（セキュリティ）］>［Attack Protection（攻撃防御）］](https://manage.auth0.com/#/security/attack-protection)に移動し、**［Breached Password Detection（パスワード漏洩検知）］** を選択します。
2. **［Response （応答）］** セクションを見つけます。
3. **［Block compromised credentials for new accounts（侵害された資格情報を新しいアカウントでブロックする）］** を有効にして、ユーザーが侵害された資格情報でサインアップすることを防ぎます。
4. **［Block compromised user accounts（侵害されたユーザーアカウントをブロックする）］** を有効にして、ユーザーが侵害された資格情報でログインすることを防ぎます。

<Warning>

クラシックログインエクスペリエンスで当社のユーザー認証用UIウィジェット、ロックを使用している場合、新しいアカウントを対象に侵害されたパスワードを検出するには、11.33.3以降のバージョンに更新する必要があります。ロックの詳細については、[ロックライブラリー](https://auth0.com/docs/libraries#lock)に移動してください。Auth0 SDKを使用している場合、新しいアカウントを対象に侵害されたパスワードを検出するには、最新バージョンに更新する必要があります。

</Warning>

### 通知を構成する

侵害された資格情報の使用について、Auth0がユーザーと管理者に通知する方法を設定することができます。

1. [［Dashboard］>［Security（セキュリティ）］>［Attack Protection（攻撃防御）］](https://manage.auth0.com/#/security/attack-protection)に移動し、**［Breached Password Detection（パスワード漏洩検知）］** を選択します。
2. **［Notifications（通知）］** セクションを見つけます。
3. **［Send notifications to users with compromised credentials（侵害された資格情報についてユーザーに通知する）］** を有効にして、Auth0が資格情報侵害の可能性を検出すると、ユーザーにメールが送信されるようにします。
4. **［Compromised user accounts（侵害されたユーザーアカウント）］** を有効にして、侵害された資格情報でユーザーがサインアップすると、管理者にメールが送信されるようにします。
5. **［Compromised user accounts（侵害されたユーザーアカウント）］** を有効にして、侵害された資格情報でユーザーがログインすると、管理者にメールが送信されるようにします。
6. 通知の頻度を選びます。**［Immediately（即時）］** 、**［Daily（毎日）］** 、**［Weekly（毎週）］** 、**［Monthly（毎月）］** から1つを選択します。

   <Warning>

   **［Daily（毎日）］** 、**［Weekly（毎週）］** 、または **［Montyly（毎月）］** を選択すると、アプリケーションに対する侵害の数が通知に含まれます。** ［Immediate（即時）］** を選択すると、アプリケーションに対して侵害を試みたユーザーアカウントが通知に含まれます。ログの出力は1時間につき1回です。

   </Warning>

7. **［Save（保存）］** を選択します。

#### ユーザーへのメール通知をカスタマイズする

侵害された資格情報がログインに使われてたときに、Auth0がユーザーに送信する通知を構成することができます。

1. [［Dashboard］>［Branding（ブランディング）］>［Email Templates（メールテンプレート）］](https://manage.auth0.com/#/templates)に移動します。
2. **［Template（テンプレート）］** ドロップダウンメニューで、**［Password Breach Alert（パスワード漏洩アラート）］** を選択します。
3. それに合わせてテンプレートを更新します。使用可能な[共通変数](/ja-jp/customize/email/email-templates#common-variables)を使って、メッセージをカスタマイズすることができます。

## 検知の構成を確認する

構成を確認するには、Auth0提供の侵害されたパスワードを使ってサインアップやログインのフローをテストすることができます。

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

「`AUTH0-TEST-`」で始まるパスワードは、侵害されたパスワードの検出をテスト目的でトリガーします。

</Callout>

### サインアップフロー

Auth0が侵害されたパスワードを検出したときのサインアップエクスペリエンスを確認します。

1. サインアップフローに従い、侵害テストパスワード（`Paaf213XXYYZZ`、`Paat739!!WWXXYYZZ`）または`AUTH0-TEST-`で始まる任意のパスワードを使って、新しいアカウントの登録を試みます。
2. **［Block compromised credentials for new accounts（侵害された資格情報を新しいアカウントでブロックする）］** が有効になっていると、エラーメッセージを受け取って、侵害されたパスワードの使用が阻止されます。
3. [［Dashboard］>［Monitoring（モニタリング）］>［Logs（ログ）］](https://manage.auth0.com/#/logs)に移動します。
4. ログを`種類signup_pwd_leak`で検索します。「」で、Auth0によるサインアップのブロックを確認します。

### ログインフロー

Auth0が侵害されたパスワードを検出したときのログインエクスペリエンスを確認します。

1. [［Dashboard］ >［User Management（ユーザー管理）］>［User（ユーザー）］](https://manage.auth0.com/#/users)でテストユーザーを作成し、テスト用の侵害されたパスワード（`Paaf213XXYYZZ`、`Paat739!!WWXXYYZZ`）または`AUTH0-TEST-`で始まる任意のパスワードを割り当てます。
2. ログインフローに従い、割り当てた識別子とパスワードを送信します。
3. **［Block compromised user accounts（侵害されたユーザーアカウントをブロックする）］** が有効になっていると、ユーザーがエラーメッセージを受け取って、ログインできなくなり、パスワードをリセットするように促されます。
4. [［Dashboard］>［Monitoring（モニタリング）］>［Logs（ログ）］](https://manage.auth0.com/#/logs)に移動します。
5. ログを`種類pwd_leak`で検索します。「」で、Auth0によるログインのブロックを確認します。
6. [［Dashboard］> ［User Management（ユーザー管理）］>［User（ユーザー）］](https://manage.auth0.com/#/users)に移動して、テストユーザーを削除します。

## もっと詳しく

* [ボット検知](/ja-jp/secure/attack-protection/bot-detection)
* [総当たり攻撃防御](/ja-jp/secure/attack-protection/brute-force-protection)
* [不審なIPのスロットリング](/ja-jp/secure/attack-protection/suspicious-ip-throttling)
* [攻撃防御のログイベントを表示する](/ja-jp/secure/attack-protection/view-attack-protection-events)
* [アカウントのブロック通知メールをカスタマイズする](/ja-jp/customize/email/customize-blocked-account-emails)