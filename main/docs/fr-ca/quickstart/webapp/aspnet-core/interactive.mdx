---
title: "Ajouter une fonctionnalité de connexion à votre application ASP.NET MVC"
permalink: "interactive"
'description': "Ce guide explique comment intégrer Auth0 à n’importe quelle application ASP.NET MVC, nouvelle ou existante, à l’aide de la trousse SDK Auth0.AspNetCore.Authentication."
'og:title': "Ajouter une fonctionnalité de connexion à votre application ASP.NET MVC"
'og:description': "Ce guide explique comment intégrer Auth0 à n’importe quelle application ASP.NET MVC, nouvelle ou existante, à l’aide de la trousse SDK Auth0.AspNetCore.Authentication."
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/media/platforms/asp.png"
'twitter:title': "Ajouter une fonctionnalité de connexion à votre application ASP.NET MVC"
'twitter:description': "Ce guide explique comment intégrer Auth0 à n’importe quelle application ASP.NET MVC, nouvelle ou existante, à l’aide de la trousse SDK Auth0.AspNetCore.Authentication."
sidebarTitle: ASP.NET Core MVC
---

import { Recipe, Content, Section, SideMenu, SideMenuSectionItem, SignUpForm } from "/snippets/recipe.jsx";
import { LoggedInForm } from "/snippets/Login.jsx";
import AppSettingsJSON from "/snippets/quickstart/webapp/aspnet-core/appsettings.json.mdx";
import AccountController from "/snippets/quickstart/webapp/aspnet-core/AccountController.cs.mdx";

import {AuthCodeGroup} from "/snippets/AuthCodeGroup.jsx";

export const sections = [
  { id: "configuration-d-auth0", title: "Configuration d’Auth0" },
  { id: "installer-et-configurer-la-trousse-sdk", title: "Installer et configurer la trousse SDK" },
  { id: "connexion", title: "Connexion" },
  { id: "afficher-le-profil-utilisateur", title: "Afficher le profil utilisateur" },
  { id: "déconnexion", title: "Déconnexion" }
]

<Recipe>
  <Content>
    Auth0 vous permet d’ajouter rapidement l’authentification et de pouvoir accéder aux informations relatives au profil utilisateur dans votre application. Ce guide explique comment intégrer Auth0 à n’importe quelle application ASP.NET MVC, nouvelle ou existante, à l’aide de la trousse SDK **Auth0.AspNetCore.Authentication**.

      <Section id={sections[0].id} title={sections[0].title} stepNumber="1">
      Pour utiliser les services Auth0, vous devez avoir une application installée dans Auth0 Dashboard. L’application Auth0 est l’endroit où vous allez configurer le fonctionnement de l’authentification pour le projet que vous développez.

      ### Configurer une application

      Utilisez le sélecteur interactif pour créer une nouvelle application Auth0 ou sélectionner une application existante qui représente le projet avec lequel vous souhaitez effectuer l’intégration. Dans Auth0, chaque application se voit attribuer un identifiant client unique alphanumérique que votre code d’application utilisera pour appeler les API Auth0 via la trousse SDK.

      Tous les paramètres que vous configurez à l’aide de ce guide rapide seront automatiquement mis à jour pour votre application dans le [Tableau de bord](https://manage.auth0.com/#/), qui est l’endroit où vous pourrez gérer vos applications à l’avenir.

      Si vous préférez explorer une configuration complète, consultez plutôt un exemple d’application.

      ### Configuration des URL de rappel

      Une URL de rappel est une URL intégrée dans votre application vers laquelle vous souhaitez qu’Auth0 redirige les utilisateurs après leur authentification. Si elle n’est pas définie, les utilisateurs ne seront pas redirigés vers votre application après s’être connectés.

      <Info>
      Si vous suivez notre projet à titre d’exemple, définissez ceci sur `http://localhost:3000/callback`.
      </Info>

      ### Configuration des URL de déconnexion

      Une URL de déconnexion est une URL intégrée dans votre application vers laquelle vous souhaitez qu’Auth0 redirige les utilisateurs après leur déconnexion. Si elle n’est pas définie, les utilisateurs ne pourront pas se déconnecter de votre application et recevront un message d’erreur.

      <Info>
      Si vous suivez notre projet à titre d’exemple, définissez ceci sur `http://localhost:3000`.
      </Info>
      </Section>

      <Section id={sections[1].id} title={sections[1].title} stepNumber="2">
      ### Installer à partir de Nuget

      Pour intégrer Auth0 à ASP.NET Core, vous pouvez utiliser notre trousse SDK en installant le [package Nuget](https://www.nuget.org/packages/Auth0.AspNetCore.Authentication/)`Auth0.AspNetCore.Authentication`dans votre application.

      ### Configurer le logiciel médiateur

      Pour activer l’authentification dans votre application ASP.NET Core, utilisez le logiciel médiateur fourni par la trousse SDK. Allez dans le fichier `Program.cs` et appelez `builder.Services.AddAuth0WebAppAuthentication()` pour enregistrer le logiciel médiateur de la trousse SDK.

      Assurez-vous de configurer `Domain` et `ClientId`, car ce sont des champs requis pour garantir que la trousse SDK sache quel locataire Auth0 et quelle application utiliser.

      Assurez-vous d’avoir activé l’authentification et l’autorisation dans votre fichier `Program.cs`.
      </Section>

      <Section id={sections[2].id} title={sections[2].title} stepNumber="3">
      Pour permettre aux utilisateurs de se connecter à votre application ASP.NET MVC, ajoutez une action `Login` à votre contrôleur.

      Appelez `HTTPContext.ChallengeAsync()` et transmettez `Auth0Constants.AuthenticationScheme` comme schéma d’authentification. Cela fera appel au gestionnaire d’authentification OIDC que notre trousse SDK enregistre en interne. Assurez-vous également d’indiquer les `authenticationProperties` correspondantes, que vous pouvez construire en utilisant `LoginAuthenticationPropertiesBuilder`.

      Après avoir appelé avec succès `HTTPContext.ChallengeAsync()`, l’utilisateur est redirigé vers Auth0 et est connecté à la fois au logiciel médiateur OIDC et au logiciel médiateur de témoin après avoir été redirigé vers votre application. Cela permettra aux utilisateurs d’être authentifiés lors des requêtes suivantes.

      <Note>
      ##### Point de contrôle
      Maintenant que vous avez configuré la fonction de connexion, lancez votre application pour vérifier que:
      naviguer vers votre action `Login` vous redirigera vers Auth0,
      saisir vos identifiants vous redirigera vers votre application.
      </Note>
      </Section>

      <Section id={sections[3].id} title={sections[3].title} stepNumber="4">
      Une fois que l’intergiciel a réussi à récupérer les jetons auprès d’Auth0, il extrait les informations et les demandes de l’utilisateur du jeton d’ID et les met à disposition en tant que propriété `User.Claims` sur le contrôleur.

      Vous pouvez créer une page de profil utilisateur personnalisée pour afficher le nom, l’adresse courriel et l’image de profil d’un utilisateur, en récupérant les informations correspondantes de `User` et en les visualisant à partir de votre contrôleur.

      <Note>
      ##### Point de contrôle
      Maintenant que vous avez configuré votre action pour afficher le profil de l’utilisateur, lancez votre application pour vérifier que:
      naviguer vers votre action `Profile` après vous être connecté avec succès affiche le profil de l’utilisateur.
      </Note>
      </Section>

      <Section id={sections[4].id} title={sections[4].title} stepNumber="5">
      Déconnecter l’utilisateur de votre propre application peut se faire en appelant `HttpContext.SignOutAsync` avec le schéma d’authentification `CookieAuthenticationDefaults.AuthenticationScheme` à partir de l’action de votre contrôleur.

      En outre, si vous souhaitez également déconnecter l’utilisateur d’Auth0 (cette action peut également le déconnecter d’autres applications qui utilisent l’authentification unique), appelez `HttpContext.SignOutAsync` avec le schéma d’authentification `Auth0Constants.AuthenticationScheme` ainsi que les `authenticationProperties` appropriées qui peuvent être développées en utilisant `LogoutAuthenticationPropertiesBuilder`.

      <Note>
      ##### Point de contrôle
      Maintenant que vous avez configuré la fonction de déconnexion, exécutez votre application pour vérifier que:
      Naviguer vers votre action `Logout` garantit que l’utilisateur est déconnecté.
      Lorsque vous vous déconnectez également d’Auth0, vous devriez être redirigé vers Auth0, puis immédiatement renvoyé vers votre propre application.
      </Note>
      </Section>

    ## Étapes suivantes

    Beau travail! Si vous en êtes arrivé là, vous devriez avoir la connexion, la déconnexion et les informations de profil utilisateur actives dans votre application.

    Cela conclut notre tutoriel de démarrage rapide, mais il y a tellement plus à explorer. Pour en savoir plus sur ce que vous pouvez faire avec Auth0, consultez :

    *   [Auth0 Dashboard](https://manage.auth0.com/#) : apprenez à configurer et gérer votre locataire et vos applications Auth0
    *   [Trousse SDK auth0-aspnetcore-authentication](https://github.com/auth0/auth0-aspnetcore-authentication) : explorez en détail la trousse SDK utilisée dans ce tutoriel
    *   [Auth0 Marketplace](https://marketplace.auth0.com/) : découvrez des intégrations que vous pouvez activer pour étendre les fonctionnalités d’Auth0
  </Content>

  <SideMenu sections={sections}>
      <SideMenuSectionItem id={sections[0].id}>
        <SignUpForm lang="fr"/>
      </SideMenuSectionItem>

      <SideMenuSectionItem id={sections[1].id}>
        <AuthCodeGroup>
          <AppSettingsJSON/>
          <AccountController/>
        </AuthCodeGroup>
      </SideMenuSectionItem>

      <SideMenuSectionItem id={sections[2].id}>
        <AuthCodeGroup>
          <AccountController/>
          <AppSettingsJSON/>
        </AuthCodeGroup>
      </SideMenuSectionItem>

      <SideMenuSectionItem id={sections[3].id}>
        <SignUpForm lang="fr"/>
      </SideMenuSectionItem>

      <SideMenuSectionItem id={sections[4].id}>
        <SignUpForm lang="fr"/>
      </SideMenuSectionItem>

    </SideMenu>
</Recipe>
