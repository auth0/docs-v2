---

mode: wide
description: This tutorial demonstrates how to add authorization to a Python
  API built with Django.
'og:image': https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
'og:title': 'Auth0 Django API SDK Quickstarts: Add Authorization to Your Django API
  Application'
'og:url': https://auth0.com/docs/
sidebarTitle: Django API
title: Add Authorization to Your Django API Application
'twitter:description': This tutorial demonstrates how to add authorization to a Python
  API built with Django.
'twitter:title': 'Auth0 Django API SDK Quickstarts: Add Authorization to Your Django
  API Application'
---
import { Recipe, Content, Section, SideMenu, SideMenuSectionItem, SignUpForm } from "/snippets/recipe.jsx";
import { LoggedInForm } from "/snippets/Login.jsx";
import Validator from "/snippets/quickstart/backend/django/validator.py.mdx";
import Views from "/snippets/quickstart/backend/django/views.py.mdx";
import Urls from "/snippets/quickstart/backend/django/urls.py.mdx";

export const sections = [
  { id: "define-permissions", title: "Define permissions" },
  { id: "configure-django-to-use-auth0", title: "Configure Django to use Auth0" },
  { id: "create-the-jwt-validator", title: "Create the JWT validator" },
  { id: "create-the-api-views", title: "Create the API views" },
  { id: "add-url-mappings", title: "Add URL mappings" }
]

<Recipe>
  <Content>
    This guide demonstrates how to integrate Auth0 with any new or existing Python API built with [Django](https://www.djangoproject.com/).

    If you haven't created an API in your Auth0 Dashboard yet, you can use the interactive selector to create a new
        Auth0 API or select an existing API that represents the project you want to integrate with.

    Alternatively, you can read our getting started guide,
        which will help you set up your first API through the Auth0 Dashboard.

    Every API in Auth0 is configured using an API Identifier that your application code will use as the Audience to
        validate the Access Token.

    <Callout icon="file-lines" iconType="regular">
    **New to Auth0?** Learn how Auth0 works and
                  read about implementing API authentication and
                    authorization using the OAuth 2.0 framework.
    </Callout>

    <Section id={sections[0].id} title={sections[0].title} stepNumber="1">
      Permissions let you define how resources can be accessed on behalf of the user with a given access token. For
            example, you might choose to grant read access to the `messages` resource if users have the manager
            access level, and grant write access to that resource if they have the administrator access level.

      You can define allowed permissions in the **Permissions** view of the Auth0 Dashboard's [APIs](https://manage.auth0.com/#/apis) section. The following
            example uses the `read:messages` scope.

      <Frame>
        <img src="/images/cdy7uua7fh8z/1s3Yp5zqJiKiSWqbPSezNO/e61793a2822d095666002c3f65c71ac2/configure-permissions.png" />
      </Frame>
    </Section>

    <Section id={sections[1].id} title={sections[1].title} stepNumber="2">
      ### Install dependencies

      1. Add the following dependencies to your `requirements.txt`:
      2. Run `pip install -r requirements.txt`

      ### Create a Django application
    </Section>

    <Section id={sections[2].id} title={sections[2].title} stepNumber="3">
      You will use a library called [Authlib](https://github.com/lepture/authlib) to create a [ResourceProtector](https://docs.authlib.org/en/latest/flask/1/resource-server.html), which is a type of [Django view decorator](https://docs.djangoproject.com/en/4.0/topics/http/decorators/) that protects your resources (API views) with a given
            validator.

      The validator will verify the Access Token that you pass to the resource by checking that it has a valid
            signature and claims.

      You can use AuthLib's `JWTBearerTokenValidator` validator with a few tweaks to make sure it conforms
            to our requirements for [validating Access Tokens](https://auth0.com/docs/secure/tokens/access-tokens/validate-access-tokens).

      To create your `Auth0JWTBearerTokenValidator`, you need to pass it to your `domain` and
            `audience` (API Identifier). It will then get the public key required to verify the token's signature
            and pass it to the `JWTBearerTokenValidator` class.

      You'll then override the class's `claims_options` to make sure the token's `expiry`,
            `audience`, and `issue` claims are validated according to our requirements.

      Create the file `apiexample/validator.py` using the code from the interactive panel.
    </Section>

    <Section id={sections[3].id} title={sections[3].title} stepNumber="4">
      Next, you'll create three API views in `apiexample/views.py`:

      - `/api/public`: A public endpoint that requires no authentication.
      - `/api/private`: A private endpoint that requires a valid Access Token JWT.
      - `/api/private-scoped`: A private endpoint that requires a valid Access Token JWT containing the
                given `scope`.

      The protected routes will have a `require_auth` decorator, which is a `ResourceProtector`
            that uses the `Auth0JWTBearerTokenValidator` you created earlier.

      To create the `Auth0JWTBearerTokenValidator`, you'll pass it to your tenant's domain and the API
            Identifier of the API you created earlier.

      The `require_auth` decorator on the `private_scoped` route accepts an additional argument
            `"read:messages"`, which checks the Access Token for the Permission (Scope) you created earlier.
    </Section>

    <Section id={sections[4].id} title={sections[4].title} stepNumber="5">
      In previous steps, you added methods to the `views.py` file. Next, map those methods to URLs using
            Django's [URL dispatcher](https://docs.djangoproject.com/en/4.0/topics/http/urls/), which lets you map URL patterns to views.

      Add the URL patterns to your `apiexample/urls.py` file.

      ### Make a Call to Your API

      To make calls to your API, you will need an access token. You can retrieve an access token for testing purposes
            from the **Test** view in your [API settings](https://manage.auth0.com/#/apis).

      <Frame>
        <img src="/images/cdy7uua7fh8z/6jeVBuypOGX5qMRXeJn5ow/5e79037f6c852d2043789d622bdb9562/Quickstart_Example_App_-_English.png" />
      </Frame>
      Provide the access token as an `Authorization` header in your requests.

      <CodeGroup>
      ```bash cURL lines
      curl --request get \
      --url 'http:///%7ByourDomain%7D.com/api_path' \
      --header 'authorization: Bearer YOUR_ACCESS_TOKEN_HERE'
      ```
      ```csharp C# lines
      var client = new RestClient("http:///%7ByourDomain%7D.com/api_path");
      var request = new RestRequest(Method.GET);
      request.AddHeader("authorization", "Bearer YOUR_ACCESS_TOKEN_HERE");
      IRestResponse response = client.Execute(request);
      ```

      ```go Go lines
      package main
      import (
      "fmt"
      "net/http"
      "io/ioutil"
      )
      func main() {
      url := "http:///%7ByourDomain%7D.com/api_path"
      req, _ := http.NewRequest("get", url, nil)
      req.Header.Add("authorization", "Bearer YOUR_ACCESS_TOKEN_HERE")
      res, _ := http.DefaultClient.Do(req)
      defer res.Body.Close()
      body, _ := ioutil.ReadAll(res.Body)
      fmt.Println(res)
      fmt.Println(string(body))
      }
      ```

      ```java Java lines
      HttpResponse<String> response = Unirest.get("http:///%7ByourDomain%7D.com/api_path")
      .header("authorization", "Bearer YOUR_ACCESS_TOKEN_HERE")
      .asString();
      ```

      ```javascript Node.JS lines
      var axios = require("axios").default;
      var options = {
      method: 'get',
      url: 'http:///%7ByourDomain%7D.com/api_path',
      headers: {authorization: 'Bearer YOUR_ACCESS_TOKEN_HERE'}
      };
      axios.request(options).then(function (response) {
      console.log(response.data);
      }).catch(function (error) {
      console.error(error);
      });
      ```
      ```obj-c Obj-C lines
      #import <Foundation/Foundation.h>
      NSDictionary *headers = @{ @"authorization": @"Bearer YOUR_ACCESS_TOKEN_HERE" };
      NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:@"http:///%7ByourDomain%7D.com/api_path"]
                                                        cachePolicy:NSURLRequestUseProtocolCachePolicy

                                                    timeoutInterval:10.0];

      [request setHTTPMethod:@"get"];
      [request setAllHTTPHeaderFields:headers];
      NSURLSession *session = [NSURLSession sharedSession];
      NSURLSessionDataTask *dataTask = [session dataTaskWithRequest:request
                                              completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {

                                                  if (error) {

                                                      NSLog(@&quot;%@&quot;, error);

                                                  } else {

                                                      NSHTTPURLResponse *httpResponse = (NSHTTPURLResponse *) response;

                                                      NSLog(@&quot;%@&quot;, httpResponse);

                                                  }

                                              }];

      [dataTask resume];
      ```

      ```php PHP lines
      $curl = curl_init();
      curl_setopt_array($curl, [
      CURLOPT_URL => "http:///%7ByourDomain%7D.com/api_path",
      CURLOPT_RETURNTRANSFER => true,
      CURLOPT_ENCODING => "",
      CURLOPT_MAXREDIRS => 10,
      CURLOPT_TIMEOUT => 30,
      CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,
      CURLOPT_CUSTOMREQUEST => "get",
      CURLOPT_HTTPHEADER => [
      &quot;authorization: Bearer YOUR_ACCESS_TOKEN_HERE&quot;

      ],
      ]);
      $response = curl_exec($curl);
      $err = curl_error($curl);
      curl_close($curl);
      if ($err) {
      echo "cURL Error #:" . $err;
      } else {
      echo $response;
      }
      ```
      ```python Python lines
      import http.client
      conn = http.client.HTTPConnection("")
      headers = { 'authorization': "Bearer YOUR_ACCESS_TOKEN_HERE" }
      conn.request("get", "/dev-gja8kxz4ndtex3rq.us.auth0.com.com/api_path", headers=headers)
      res = conn.getresponse()
      data = res.read()
      print(data.decode("utf-8"))
      ```

      ```ruby Ruby lines
      require 'uri'
      require 'net/http'
      url = URI("http:///%7ByourDomain%7D.com/api_path")
      http = Net::HTTP.new(url.host, url.port)
      request = Net::HTTP::Get.new(url)
      request["authorization"] = 'Bearer YOUR_ACCESS_TOKEN_HERE'
      response = http.request(request)
      puts response.read_body
      ```
      ```swift Swift lines
      import Foundation
      let headers = ["authorization": "Bearer YOUR_ACCESS_TOKEN_HERE"]
      let request = NSMutableURLRequest(url: NSURL(string: "http:///%7ByourDomain%7D.com/api_path")! as URL,
                                          cachePolicy: .useProtocolCachePolicy,

                                      timeoutInterval: 10.0)

      request.httpMethod = "get"
      request.allHTTPHeaderFields = headers
      let session = URLSession.shared
      let dataTask = session.dataTask(with: request as URLRequest, completionHandler: { (data, response, error) -> Void in
      if (error != nil) {
      print(error)

      } else {
      let httpResponse = response as? HTTPURLResponse

      print(httpResponse)

      }
      })
      dataTask.resume()
      ```
      </CodeGroup>

    </Section>

    ## Next Steps

    Excellent work! If you made it this far, you should now have login, logout, and user profile information running in your application.

    This concludes our quickstart tutorial, but there is so much more to explore. To learn more about what you can do with Auth0, check out:

    *   [Auth0 Dashboard](https://manage.auth0.com/dashboard/us/dev-gja8kxz4ndtex3rq) - Learn how to configure and manage your Auth0 tenant and applications
    *   [Auth0 Marketplace](https://marketplace.auth0.com/) - Discover integrations you can enable to extend Auth0’s functionality
  </Content>

  <SideMenu sections={sections}>
    <SideMenuSectionItem id={sections[0].id}>
      <SignUpForm />
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[1].id}>
      <SignUpForm />
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[2].id}>
      <CodeGroup>
        <Views/>
        <Validator/>
        <Urls/>
      </CodeGroup>
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[3].id}>
      <CodeGroup>
        <Validator/>
        <Views/>
        <Urls/>
      </CodeGroup>
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[4].id}>
      <CodeGroup>
        <Urls/>
        <Validator/>
        <Views/>
      </CodeGroup>
    </SideMenuSectionItem>

  </SideMenu>
</Recipe>
