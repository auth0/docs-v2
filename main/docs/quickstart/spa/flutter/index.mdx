---
mode: wide
description: This guide demonstrates how to integrate Auth0 with a Flutter Web application using the Auth0 Flutter SDK.
sidebarTitle: Flutter (Web)
title: Add Login to Your Flutter Web Application
---

import { Recipe, Content, Section, SideMenu, SideMenuSectionItem, SignUpForm } from "/snippets/recipe.jsx";

export const sections = [
  { id: "configure-auth0", title: "Configure Auth0" },
  { id: "install-the-auth0-flutter-sdk", title: "Install the Auth0 Flutter SDK" },
  { id: "configure-the-sdk", title: "Configure the SDK" },
  { id: "add-login-to-your-application", title: "Add login to your application" },
  { id: "add-logout-to-your-application", title: "Add logout to your application" },
  { id: "show-user-profile-information", title: "Show user profile information" },
  { id: "run-your-application", title: "Run your application" }
];

Auth0 allows you to quickly add authentication and access user profile information in your application. This guide demonstrates how to integrate Auth0 with a Flutter Web application using the [Auth0 Flutter SDK](https://github.com/auth0/auth0-flutter).

<Recipe>
  <Content>
    <Note>
      **Prerequisites**
      - A [Flutter](https://flutter.dev/) application configured for web. If you don't have one, follow the [Flutter installation guide](https://docs.flutter.dev/get-started/install) and run `flutter create --platforms=web my_app`.
      - Familiarity with the [Flutter CLI](https://docs.flutter.dev/reference/flutter-cli).
    </Note>

    <Section id={sections[0].id} title={sections[0].title} stepNumber="1">
      ## Get Your Application Keys

      When you signed up for Auth0, a new application was created for you, or you can create a new one. You will need some details about that application to communicate with Auth0. You can get these details from the [Application Settings](https://manage.auth0.com/#/applications) section in the Auth0 dashboard.

      <Frame>
        <img src="/docs/images/cdy7uua7fh8z/6SC7KnyzCyO8cwXQfril1X/c0d6756c28de0ddcbe938307e529d47a/client_settings.png" />
      </Frame>

      You need the following information:

      - **Domain**
      - **Client ID**

      <Tip>
        If you download the sample from the top of this page, these details are filled out for you.
      </Tip>

      <Info>
        When using the Default App with a Single Page Application, ensure the **Application Type** is set to `SPA` and **Token Endpoint Authentication Method** is set to `None`.
      </Info>

      ### Configure Callback URLs

      A callback URL is the URL in your application where Auth0 redirects the user after they have authenticated. The callback URL for your app must be added to the **Allowed Callback URLs** field in your [Application Settings](https://manage.auth0.com/#/applications). If this field is not set, users will be unable to log in to the application and will get an error.

      For Flutter Web running locally, set the **Allowed Callback URLs** to:

      ```text
      http://localhost:3000
      ```

      ### Configure Logout URLs

      A logout URL is the URL in your application that Auth0 can return to after the user has been logged out of the authorization server. This is specified in the `returnToUrl` parameter. The logout URL for your app must be added to the **Allowed Logout URLs** field in your [Application Settings](https://manage.auth0.com/#/applications). If this field is not set, users will be unable to log out from the application and will get an error.

      For Flutter Web running locally, set the **Allowed Logout URLs** to:

      ```text
      http://localhost:3000
      ```

      ### Configure Allowed Web Origins

      To enable silent authentication and session refresh, add your application URL to the **Allowed Web Origins** field in your [Application Settings](https://manage.auth0.com/#/applications). Without this, your users will be logged out when they refresh the page or return to the application.

      For Flutter Web running locally, set the **Allowed Web Origins** to:

      ```text
      http://localhost:3000
      ```
    </Section>

    <Section id={sections[1].id} title={sections[1].title} stepNumber="2">
      Add the Auth0 Flutter SDK to your project using the Flutter CLI:

      ```bash
      flutter pub add auth0_flutter
      ```

      The SDK requires the Auth0 SPA JS library to be loaded in your web application. Add the following `<script>` tag to your `web/index.html` file, before the closing `</body>` tag:

      ```html
      <script src="https://cdn.auth0.com/js/auth0-spa-js/2.9/auth0-spa-js.production.js" defer></script>
      ```

      <Warning>
        The Auth0 SPA JS script is required for the Flutter Web SDK to function. Without it, authentication will not work.
      </Warning>
    </Section>

    <Section id={sections[2].id} title={sections[2].title} stepNumber="3">
      Create an instance of the `Auth0Web` class with your Auth0 **domain** and **client ID** values:

      ```dart
      import 'package:auth0_flutter/auth0_flutter_web.dart';

      final auth0Web = Auth0Web('{yourDomain}', '{yourClientId}');
      ```

      <Warning>
        You should have only one instance of `Auth0Web` in your application. Consider making it a global variable or using a state management solution.
      </Warning>

      <Tip>
        Replace `{yourDomain}` and `{yourClientId}` with the **Domain** and **Client ID** values from the [Auth0 Application Settings](https://manage.auth0.com/#/applications) page.
      </Tip>
    </Section>

    <Section id={sections[3].id} title={sections[3].title} stepNumber="4">
      [Universal Login](/docs/authenticate/login/auth0-universal-login) is the easiest way to set up authentication in your application. We recommend using it for the best experience, security, and the fullest array of features.

      ### Handle the Authentication Callback

      When your application loads, call `onLoad()` to handle the redirect callback from Auth0 and restore the user's session. This should be done in your widget's `initState()` method:

      ```dart
      import 'package:auth0_flutter/auth0_flutter_web.dart';
      import 'package:flutter/material.dart';

      final auth0Web = Auth0Web('{yourDomain}', '{yourClientId}');

      class MainView extends StatefulWidget {
        const MainView({super.key});

        @override
        State<MainView> createState() => _MainViewState();
      }

      class _MainViewState extends State<MainView> {
        Credentials? _credentials;

        @override
        void initState() {
          super.initState();
          auth0Web.onLoad().then((credentials) {
            setState(() {
              _credentials = credentials;
            });
          });
        }

        // ... rest of your widget
      }
      ```

      ### Trigger Login

      Redirect users to the Auth0 Universal Login page using `loginWithRedirect()`. You must specify the `redirectUrl` parameter:

      ```dart
      ElevatedButton(
        onPressed: () => auth0Web.loginWithRedirect(
          redirectUrl: 'http://localhost:3000',
        ),
        child: const Text('Log In'),
      )
      ```

      <Note>
        ##### Checkpoint

        Add a login button to your app that calls `loginWithRedirect()`. Verify that:
        - You are redirected to Auth0's Universal Login page
        - After logging in, you are redirected back to your application
        - The `onLoad()` method returns `Credentials` containing the user's tokens
      </Note>
    </Section>

    <Section id={sections[4].id} title={sections[4].title} stepNumber="5">
      To log users out, call the `logout()` method which redirects users to the Auth0 logout endpoint to clear their session:

      ```dart
      ElevatedButton(
        onPressed: () => auth0Web.logout(
          returnToUrl: 'http://localhost:3000',
        ),
        child: const Text('Log Out'),
      )
      ```

      <Tip>
        Always specify `returnToUrl` when calling `logout()`. Without it, Auth0 will redirect to the first URL in the Allowed Logout URLs list.
      </Tip>

      <Note>
        ##### Checkpoint

        Add a logout button to your app that calls `logout()`. Verify that:
        - You are redirected to the Auth0 logout endpoint
        - You are redirected back to your application
        - You are no longer logged in (credentials are cleared)
      </Note>
    </Section>

    <Section id={sections[5].id} title={sections[5].title} stepNumber="6">
      The `Credentials` object returned by `onLoad()` contains a `user` property with the user's profile information, decoded from the ID token.

      Access user information like this:

      ```dart
      if (_credentials != null) {
        final user = _credentials!.user;
        print('Name: ${user.name}');
        print('Email: ${user.email}');
        print('Picture: ${user.pictureUrl}');
      }
      ```

      Display the user profile in your UI:

      ```dart
      Column(
        mainAxisAlignment: MainAxisAlignment.center,
        children: [
          if (_credentials!.user.pictureUrl != null)
            CircleAvatar(
              radius: 40,
              backgroundImage: NetworkImage(
                _credentials!.user.pictureUrl!.toString(),
              ),
            ),
          const SizedBox(height: 16),
          Text(_credentials!.user.name ?? 'User'),
          Text(_credentials!.user.email ?? ''),
          const SizedBox(height: 24),
          ElevatedButton(
            onPressed: () => auth0Web.logout(returnToUrl: 'http://localhost:3000'),
            child: const Text('Log Out'),
          ),
        ],
      )
      ```

      <Note>
        ##### Checkpoint

        Verify that after logging in:
        - You can access the user's profile information via `credentials.user`
        - Properties like `name`, `email`, and `pictureUrl` are available
      </Note>
    </Section>

    <Section id={sections[6].id} title={sections[6].title} stepNumber="7">
      Run your Flutter Web application on port 3000 to match your Auth0 configuration:

      ```bash
      flutter run -d chrome --web-port 3000
      ```

      <Tip>
        Flutter 3.24.0 and above supports WASM compilation for improved performance:

        ```bash
        flutter run -d chrome --web-port 3000 --wasm
        ```
      </Tip>
    </Section>

    <Accordion title="Troubleshooting">
      ### "Callback URL mismatch" error

      Ensure the callback URL in your code matches exactly what's configured in the Auth0 Dashboard. For local development, use `http://localhost:3000`.

      ### Authentication not working

      Verify that the Auth0 SPA JS script is loaded in your `web/index.html`:

      ```html
      <script src="https://cdn.auth0.com/js/auth0-spa-js/2.9/auth0-spa-js.production.js" defer></script>
      ```

      ### User logged out after page refresh

      Ensure you've added `http://localhost:3000` to **Allowed Web Origins** in your Auth0 Application Settings. This enables silent authentication to restore sessions.

      ### Session not persisting

      By default, credentials are stored in memory. For persistent sessions across page reloads, consider passing `cacheLocation: CacheLocation.localStorage` when creating the `Auth0Web` instance:

      ```dart
      final auth0Web = Auth0Web(
        '{yourDomain}',
        '{yourClientId}',
        cacheLocation: CacheLocation.localStorage,
      );
      ```
    </Accordion>

    ## Next Steps

    Excellent work! If you made it this far, you should now have login, logout, and user profile information running in your application.

    This concludes our quickstart tutorial, but there is so much more to explore. To learn more about what you can do with Auth0, check out:

    - [Auth0 Dashboard](https://manage.auth0.com/) - Learn how to configure and manage your Auth0 tenant and applications
    - [Auth0 Flutter SDK](https://github.com/auth0/auth0-flutter) - Explore the SDK used in this tutorial more fully
    - [Auth0 Marketplace](https://marketplace.auth0.com/) - Discover integrations you can enable to extend Auth0's functionality
  </Content>

  <SideMenu sections={sections}>
    <SideMenuSectionItem id={sections[0].id}>
      <SignUpForm />
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[1].id}>
      <SignUpForm />
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[2].id}>
      <SignUpForm />
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[3].id}>
      <SignUpForm />
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[4].id}>
      <SignUpForm />
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[5].id}>
      <SignUpForm />
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[6].id}>
      <SignUpForm />
    </SideMenuSectionItem>
  </SideMenu>
</Recipe>
