---
mode: wide
'og:description': This guide demonstrates how to integrate Auth0 with any new or existing
  Nuxt.js application using the Auth0 Nuxt.js SDK (Beta).
'og:image': https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
'og:title': 'Auth0 Nuxt.js SDK Quickstarts: Add Login to Your Nuxt.js Application'
'og:url': https://auth0.com/docs/
sidebarTitle: Nuxt.js
title: Add Login to Your Nuxt.js Application
'twitter:description': This guide demonstrates how to integrate Auth0 with any new
  or existing Nuxt.js application using the Auth0 Nuxt.js SDK (Beta).
'twitter:title': 'Auth0 Nuxt.js SDK Quickstarts: Add Login to Your Nuxt.js Application'
---

<Accordion title="AI Prompt" defaultOpen icon="microchip-ai" iconType="sharp-solid">
  **Using AI to integrate Auth0?** Add this prompt to Cursor, Windsurf, Copilot, Claude Code or your favourite AI-powered IDE to speed up development.

  ```markdown expandable
  Integrate the Auth0 Nuxt SDK into a Nuxt.js app
  
  AI PERSONA & PRIMARY OBJECTIVE
  You are a helpful Auth0 SDK Integration Assistant. Your primary function is to execute commands to set up a development environment for Auth0. Your secondary function is to modify the files created by those shell commands.
  
  CRITICAL BEHAVIORAL INSTRUCTIONS
  1.  CHECK EXISTING PROJECT FIRST: Before creating a new project, check if the current directory already contains a Nuxt.js app (package.json with Nuxt dependencies). If it does, skip project creation and work with the existing project.
  2.  EXECUTE FIRST, EDIT SECOND: You MUST first execute the appropriate setup command. Do not show, suggest, or create any files until the setup is complete.
  3.  NO PLANNING: DO NOT propose a directory structure. DO NOT show a file tree. Your first action must be to run the appropriate command.
  4.  STRICT SEQUENCE: Follow the "Execution Flow" below in the exact order specified without deviation.
  5.  BUILD BEAUTIFUL UI: You MUST create a visually appealing, modern login interface with proper styling, animations, and Auth0 branding.
  6.  🚨 DIRECTORY NAVIGATION RULE: NEVER run `cd auth0-nuxt-app` or any `cd` command automatically. ALWAYS check current directory with `pwd` first. If user needs to navigate, ask them to do it manually or confirm before executing any directory change commands.
  
  EXECUTION FLOW
  
  ⚠️ CRITICAL: Before ANY command execution, run `pwd` to check current directory and NEVER change directories without explicit user permission.
  
  Step 1: Check for Existing Nuxt.js Project and Prerequisites
  FIRST, verify prerequisites and check for existing Nuxt.js project:
  
    # Check if Node.js and npm are available
    node --version && npm --version
  
  Then examine the current directory:
  
    # Check for existing Nuxt.js project
    if [ -f "package.json" ]; then
      echo "Found package.json, checking for Nuxt dependencies..."
      cat package.json | grep -E "nuxt"
    else
      echo "No package.json found, will create new project"
    fi
  
  Based on the results:
  - If package.json exists and contains Nuxt dependencies, proceed to install Auth0 SDK only
  - If no Nuxt project exists, create new project first
  
  Step 1a: Create New Project and Install the Nuxt SDK
  If an existing project exists, simply install the SDK:
  npm add @auth0/auth0-nuxt && npm install
  
  Otherwise, create a new project and install the SDK:
  npx nuxi@latest init auth0-nuxt-app && cd auth0-nuxt-app && npm add @auth0/auth0-nuxt && npm install
  
  Step 2: Configure Auth0
  Run the following shell command on your project's root directory to create an Auth0 app and generate a `.env` file:
  
  If MacOS:
  AUTH0_APP_NAME="My Nuxt App" && brew tap auth0/auth0-cli && brew install auth0 && auth0 login --no-input && auth0 apps create -n "${AUTH0_APP_NAME}" -t regular -c http://localhost:3000/auth/callback -l http://localhost:3000 -o http://localhost:3000 --json > auth0-app-details.json && CLIENT_ID=$(jq -r '.client_id' auth0-app-details.json) && CLIENT_SECRET=$(jq -r '.client_secret' auth0-app-details.json) && DOMAIN=$(auth0 tenants list --json | jq -r '.[] | select(.active == true) | .name') && echo "NUXT_AUTH0_DOMAIN=${DOMAIN}" > .env && echo "NUXT_AUTH0_CLIENT_ID=${CLIENT_ID}" >> .env && echo "NUXT_AUTH0_CLIENT_SECRET=${CLIENT_SECRET}" >> .env && echo "NUXT_AUTH0_SESSION_SECRET=$(openssl rand -hex 64)" >> .env && echo "NUXT_AUTH0_APP_BASE_URL=http://localhost:3000" >> .env && rm auth0-app-details.json && echo ".env file created with your Auth0 details:" && cat .env
  
  If Windows:
  $AppName = "My Nuxt App"; winget install Auth0.CLI; auth0 login --no-input; auth0 apps create -n "$AppName" -t regular -c http://localhost:3000/auth/callback -l http://localhost:3000 -o http://localhost:3000 --json | Set-Content -Path auth0-app-details.json; $ClientId = (Get-Content -Raw auth0-app-details.json | ConvertFrom-Json).client_id; $ClientSecret = (Get-Content -Raw auth0-app-details.json | ConvertFrom-Json).client_secret; $Domain = (auth0 tenants list --json | ConvertFrom-Json | Where-Object { $_.active -eq $true }).name; Set-Content -Path .env -Value "NUXT_AUTH0_DOMAIN=$Domain"; Add-Content -Path .env -Value "NUXT_AUTH0_CLIENT_ID=$ClientId"; Add-Content -Path .env -Value "NUXT_AUTH0_CLIENT_SECRET=$ClientSecret"; $SessionSecret = -join ((1..128) | ForEach {'{0:X}' -f (Get-Random -Max 16)}); Add-Content -Path .env -Value "NUXT_AUTH0_SESSION_SECRET=$SessionSecret"; Add-Content -Path .env -Value "NUXT_AUTH0_APP_BASE_URL=http://localhost:3000"; Remove-Item auth0-app-details.json; Write-Output ".env file created with your Auth0 details:"; Get-Content .env
  
  Step 3: Configure nuxt.config.ts
  Update nuxt.config.ts to add the Auth0 module:
  
  export default defineNuxtConfig({
    devtools: { enabled: true },
    modules: ['@auth0/auth0-nuxt'],
    runtimeConfig: {
      auth0: {
        domain: process.env.NUXT_AUTH0_DOMAIN,
        clientId: process.env.NUXT_AUTH0_CLIENT_ID,
        clientSecret: process.env.NUXT_AUTH0_CLIENT_SECRET,
        sessionSecret: process.env.NUXT_AUTH0_SESSION_SECRET,
        appBaseUrl: process.env.NUXT_AUTH0_APP_BASE_URL,
      },
    },
  })
  
  Step 4: Create UI Components
  Create the component files:
  touch components/LoginButton.vue components/LogoutButton.vue components/UserProfile.vue
  
  Then add the code for each component as shown in the quickstart documentation.
  
  Step 5: Update app.vue
  Replace app.vue with the provided code that includes proper styling and Auth0 integration.
  
  Step 6: Run the application
  npm run dev
  ```
</Accordion>

## Get Started

This quickstart demonstrates how to add Auth0 authentication to a Nuxt.js application. You'll build a secure server-side rendered app with login, logout, and user profile features using the Auth0 Nuxt SDK.

<Steps>
  <Step title="Create a new project" stepNumber={1}>
    Create a new Nuxt project for this Quickstart

    ```shellscript
    npx nuxi@latest init auth0-nuxt-app
    ```

    Open the project

    ```shellscript
    cd auth0-nuxt-app
    ```
  </Step>

  <Step title="Install the Auth0 Nuxt SDK" stepNumber={2}>
    ```shellscript
    npm add @auth0/auth0-nuxt && npm install
    ```
  </Step>

  <Step title="Setup your Auth0 App" stepNumber={3}>
    Next up, you need to create a new app on your Auth0 tenant and add the environment variables to your project.

    You can choose to do this automatically by running a CLI command or do it manually via the Dashboard:

    <Tabs>
      <Tab title="CLI">
        Run the following shell command on your project's root directory to create an Auth0 app and generate a `.env` file:

        <CodeGroup>
          ```shellscript Mac
          AUTH0_APP_NAME="My Nuxt App" && brew tap auth0/auth0-cli && brew install auth0 && auth0 login --no-input && auth0 apps create -n "${AUTH0_APP_NAME}" -t regular -c http://localhost:3000/auth/callback -l http://localhost:3000 -o http://localhost:3000 --json > auth0-app-details.json && CLIENT_ID=$(jq -r '.client_id' auth0-app-details.json) && CLIENT_SECRET=$(jq -r '.client_secret' auth0-app-details.json) && DOMAIN=$(auth0 tenants list --json | jq -r '.[] | select(.active == true) | .name') && echo "NUXT_AUTH0_DOMAIN=${DOMAIN}" > .env && echo "NUXT_AUTH0_CLIENT_ID=${CLIENT_ID}" >> .env && echo "NUXT_AUTH0_CLIENT_SECRET=${CLIENT_SECRET}" >> .env && echo "NUXT_AUTH0_SESSION_SECRET=$(openssl rand -hex 64)" >> .env && echo "NUXT_AUTH0_APP_BASE_URL=http://localhost:3000" >> .env && rm auth0-app-details.json && echo ".env file created with your Auth0 details:" && cat .env
          ```

          ```shellscript Windows
          $AppName = "My Nuxt App"; winget install Auth0.CLI; auth0 login --no-input; auth0 apps create -n "$AppName" -t regular -c http://localhost:3000/auth/callback -l http://localhost:3000 -o http://localhost:3000 --json | Set-Content -Path auth0-app-details.json; $ClientId = (Get-Content -Raw auth0-app-details.json | ConvertFrom-Json).client_id; $ClientSecret = (Get-Content -Raw auth0-app-details.json | ConvertFrom-Json).client_secret; $Domain = (auth0 tenants list --json | ConvertFrom-Json | Where-Object { $_.active -eq $true }).name; Set-Content -Path .env -Value "NUXT_AUTH0_DOMAIN=$Domain"; Add-Content -Path .env -Value "NUXT_AUTH0_CLIENT_ID=$ClientId"; Add-Content -Path .env -Value "NUXT_AUTH0_CLIENT_SECRET=$ClientSecret"; $SessionSecret = -join ((1..128) | ForEach {'{0:X}' -f (Get-Random -Max 16)}); Add-Content -Path .env -Value "NUXT_AUTH0_SESSION_SECRET=$SessionSecret"; Add-Content -Path .env -Value "NUXT_AUTH0_APP_BASE_URL=http://localhost:3000"; Remove-Item auth0-app-details.json; Write-Output ".env file created with your Auth0 details:"; Get-Content .env
          ```
        </CodeGroup>
      </Tab>

      <Tab title="Dashboard">
        Before you start, create a `.env` file on your project's root directory

        ```shellscript .env
        NUXT_AUTH0_DOMAIN=YOUR_AUTH0_APP_DOMAIN
        NUXT_AUTH0_CLIENT_ID=YOUR_AUTH0_APP_CLIENT_ID
        NUXT_AUTH0_CLIENT_SECRET=YOUR_AUTH0_APP_CLIENT_SECRET
        NUXT_AUTH0_SESSION_SECRET=YOUR_SESSION_SECRET
        NUXT_AUTH0_APP_BASE_URL=http://localhost:3000
        ```

        1. Head to the [Auth0 Dashboard](https://manage.auth0.com/dashboard/)
        2. Click on **Applications** > **Applications** > **Create Application**
        3. In the popup, enter a name for your app, select `Regular Web Application` as the app type and click **Create**
        4. Switch to the **Settings** tab on the Application Details page
        5. Replace the values in the `.env` file with the **Domain**, **Client ID**, and **Client Secret** values from the dashboard
        6. Generate a session secret by running: `openssl rand -hex 64` and use it for `NUXT_AUTH0_SESSION_SECRET`

        Finally, on the **Settings** tab of your Application Details page, set **Allowed Callback URLs** to `http://localhost:3000/auth/callback` and **Allowed Logout URLs** to `http://localhost:3000`

        <Info>
          **Allowed Callback URLs** are a critical security measure to ensure users are safely returned to your application after authentication. Without a matching URL, the login process will fail, and users will be blocked by an Auth0 error page instead of accessing your app.

          **Allowed Logout URLs** are essential for providing a seamless user experience upon signing out. Without a matching URL, users will not be redirected back to your application after logout and will instead be left on a generic Auth0 page.
        </Info>
      </Tab>
    </Tabs>
  </Step>

  <Step title="Configure the Auth0 Nuxt module" stepNumber={4}>
    ```typescript nuxt.config.ts {3,4,5,6,7,8,9,10,11,12,13} lines
    export default defineNuxtConfig({
      devtools: { enabled: true },
      modules: ['@auth0/auth0-nuxt'],
      runtimeConfig: {
        auth0: {
          domain: process.env.NUXT_AUTH0_DOMAIN,
          clientId: process.env.NUXT_AUTH0_CLIENT_ID,
          clientSecret: process.env.NUXT_AUTH0_CLIENT_SECRET,
          sessionSecret: process.env.NUXT_AUTH0_SESSION_SECRET,
          appBaseUrl: process.env.NUXT_AUTH0_APP_BASE_URL,
        },
      },
    })
    ```
  </Step>

  <Step title="Create Login, Logout and Profile Components" stepNumber={5}>
    Create the component files

    ```shellscript
    touch components/LoginButton.vue components/LogoutButton.vue components/UserProfile.vue
    ```

    And add the following code snippets

    <CodeGroup>
      ```vue components/LoginButton.vue expandable lines
      <template>
        <button 
          @click="login" 
          class="button login"
          :disabled="isLoading"
        >
          <span v-if="isLoading">Logging in...</span>
          <span v-else>Log In</span>
        </button>
      </template>

      <script setup lang="ts">
      const isLoading = ref(false)

      const login = async () => {
        isLoading.value = true
        try {
          await navigateTo('/auth/login')
        } catch (error) {
          console.error('Login error:', error)
        } finally {
          isLoading.value = false
        }
      }
      </script>

      <style scoped>
      .button {
        padding: 1.1rem 2.8rem;
        font-size: 1.2rem;
        font-weight: 600;
        border-radius: 10px;
        border: none;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        text-transform: uppercase;
        letter-spacing: 0.08em;
        outline: none;
      }

      .button:focus {
        box-shadow: 0 0 0 4px rgba(99, 179, 237, 0.5);
      }

      .button.login {
        background-color: #63b3ed;
        color: #1a1e27;
      }

      .button.login:hover:not(:disabled) {
        background-color: #4299e1;
        transform: translateY(-5px) scale(1.03);
        box-shadow: 0 12px 25px rgba(0, 0, 0, 0.5);
      }

      .button:disabled {
        opacity: 0.7;
        cursor: not-allowed;
        transform: none;
      }
      </style>
      ```

      ```vue components/LogoutButton.vue expandable lines
      <template>
        <button
          @click="logout"
          class="button logout"
          :disabled="isLoading"
        >
          <span v-if="isLoading">Logging out...</span>
          <span v-else>Log Out</span>
        </button>
      </template>

      <script setup lang="ts">
      const isLoading = ref(false)

      const logout = async () => {
        isLoading.value = true
        try {
          await navigateTo('/auth/logout')
        } catch (error) {
          console.error('Logout error:', error)
        } finally {
          isLoading.value = false
        }
      }
      </script>

      <style scoped>
      .button {
        padding: 1.1rem 2.8rem;
        font-size: 1.2rem;
        font-weight: 600;
        border-radius: 10px;
        border: none;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        text-transform: uppercase;
        letter-spacing: 0.08em;
        outline: none;
      }

      .button:focus {
        box-shadow: 0 0 0 4px rgba(99, 179, 237, 0.5);
      }

      .button.logout {
        background-color: #fc8181;
        color: #1a1e27;
      }

      .button.logout:hover:not(:disabled) {
        background-color: #e53e3e;
        transform: translateY(-5px) scale(1.03);
        box-shadow: 0 12px 25px rgba(0, 0, 0, 0.5);
      }

      .button:disabled {
        opacity: 0.7;
        cursor: not-allowed;
        transform: none;
      }
      </style>
      ```

      ```vue components/UserProfile.vue expandable lines
      <template>
        <div v-if="pending" class="loading-text">
          Loading profile...
        </div>
        <div v-else-if="user" class="profile-container">
          <img 
            v-if="user.picture"
            :src="user.picture" 
            :alt="user.name || 'User'" 
            class="profile-picture"
          />
          <div class="profile-info">
            <div class="profile-name">
              {{ user.name }}
            </div>
            <div class="profile-email">
              {{ user.email }}
            </div>
          </div>
        </div>
      </template>

      <script setup lang="ts">
      const user = useUser()
      const pending = ref(false)

      // Simulate loading state for better UX
      onMounted(() => {
        pending.value = true
        nextTick(() => {
          pending.value = false
        })
      })
      </script>

      <style scoped>
      .profile-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1rem;
      }

      .profile-picture {
        width: 110px;
        height: 110px;
        border-radius: 50%;
        object-fit: cover;
        border: 3px solid #63b3ed;
        transition: transform 0.3s ease-in-out;
      }

      .profile-picture:hover {
        transform: scale(1.05);
      }

      .profile-info {
        text-align: center;
      }

      .profile-name {
        font-size: 2rem;
        font-weight: 600;
        color: #f7fafc;
        margin-bottom: 0.5rem;
      }

      .profile-email {
        font-size: 1.15rem;
        color: #a0aec0;
      }

      .loading-text {
        font-size: 1.8rem;
        font-weight: 500;
        color: #a0aec0;
        animation: pulse 1.5s infinite ease-in-out;
      }

      @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.6; }
      }
      </style>
      ```

      ```vue app.vue expandable lines
      <template>
        <div class="app-container">
          <div class="main-card-wrapper">
            <img 
              src="https://cdn.auth0.com/quantum-assets/dist/latest/logos/auth0/auth0-lockup-en-ondark.png" 
              alt="Auth0 Logo" 
              class="auth0-logo"
              @error="handleImageError"
            />
            <h1 class="main-title">Welcome to Auth0 Nuxt</h1>

            <div v-if="pending" class="loading-state">
              <div class="loading-text">Loading...</div>
            </div>

            <div v-else-if="error" class="error-state">
              <div class="error-title">Oops!</div>
              <div class="error-message">Something went wrong</div>
              <div class="error-sub-message">{{ error.message }}</div>
            </div>

            <div v-else-if="user" class="logged-in-section">
              <div class="logged-in-message">✅ Successfully authenticated!</div>
              <h2 class="profile-section-title">Your Profile</h2>
              <div class="profile-card">
                <UserProfile />
              </div>
              <LogoutButton />
            </div>

            <div v-else class="action-card">
              <p class="action-text">Get started by signing in to your account</p>
              <LoginButton />
            </div>
          </div>
        </div>
      </template>

      <script setup lang="ts">
      const user = useUser()
      const pending = ref(true)
      const error = ref<Error | null>(null)

      onMounted(async () => {
        try {
          // Give time for auth state to initialize
          await new Promise(resolve => setTimeout(resolve, 100))
        } catch (err) {
          error.value = err as Error
        } finally {
          pending.value = false
        }
      })

      const handleImageError = (event: Event) => {
        const target = event.target as HTMLImageElement
        target.style.display = 'none'
      }
      </script>

      <style>
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

      body {
        margin: 0;
        font-family: 'Inter', sans-serif;
        background-color: #1a1e27;
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        color: #e2e8f0;
        overflow: hidden;
      }

      .app-container {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        width: 100%;
        padding: 1rem;
        box-sizing: border-box;
      }

      .loading-state, .error-state {
        background-color: #2d313c;
        border-radius: 15px;
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
        padding: 3rem;
        text-align: center;
      }

      .loading-text {
        font-size: 1.8rem;
        font-weight: 500;
        color: #a0aec0;
        animation: pulse 1.5s infinite ease-in-out;
      }

      .error-state {
        background-color: #c53030;
        color: #fff;
      }

      .error-title {
        font-size: 2.8rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
      }

      .error-message {
        font-size: 1.3rem;
        margin-bottom: 0.5rem;
      }

      .error-sub-message {
        font-size: 1rem;
        opacity: 0.8;
      }

      .main-card-wrapper {
        background-color: #262a33;
        border-radius: 20px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6), 0 0 0 1px rgba(255, 255, 255, 0.05);
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 2rem;
        padding: 3rem;
        max-width: 500px;
        width: 90%;
        animation: fadeInScale 0.8s ease-out forwards;
      }

      .auth0-logo {
        width: 160px;
        margin-bottom: 1.5rem;
        opacity: 0;
        animation: slideInDown 1s ease-out forwards 0.2s;
      }

      .main-title {
        font-size: 2.8rem;
        font-weight: 700;
        color: #f7fafc;
        text-align: center;
        margin-bottom: 1rem;
        text-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        opacity: 0;
        animation: fadeIn 1s ease-out forwards 0.4s;
      }

      .action-card {
        background-color: #2d313c;
        border-radius: 15px;
        box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.3), 0 5px 15px rgba(0, 0, 0, 0.3);
        padding: 2.5rem;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1.8rem;
        width: calc(100% - 2rem);
        opacity: 0;
        animation: fadeIn 1s ease-out forwards 0.6s;
      }

      .action-text {
        font-size: 1.25rem;
        color: #cbd5e0;
        text-align: center;
        line-height: 1.6;
        font-weight: 400;
      }

      .logged-in-section {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1.5rem;
        width: 100%;
      }

      .logged-in-message {
        font-size: 1.5rem;
        color: #68d391;
        font-weight: 600;
        animation: fadeIn 1s ease-out forwards 0.8s;
      }

      .profile-section-title {
        font-size: 2.2rem;
        animation: slideInUp 1s ease-out forwards 1s;
      }

      .profile-card {
        padding: 2.2rem;
        animation: scaleIn 0.8s ease-out forwards 1.2s;
      }

      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }

      @keyframes fadeInScale {
        from { opacity: 0; transform: scale(0.95); }
        to { opacity: 1; transform: scale(1); }
      }

      @keyframes slideInDown {
        from { opacity: 0; transform: translateY(-70px); }
        to { opacity: 1; transform: translateY(0); }
      }

      @keyframes slideInUp {
        from { opacity: 0; transform: translateY(50px); }
        to { opacity: 1; transform: translateY(0); }
      }

      @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.6; }
      }

      @keyframes scaleIn {
        from { opacity: 0; transform: scale(0.8); }
        to { opacity: 1; transform: scale(1); }
      }

      @media (max-width: 600px) {
        .main-card-wrapper {
          padding: 2rem;
          margin: 1rem;
        }

        .main-title {
          font-size: 2.2rem;
        }

        .auth0-logo {
          width: 120px;
        }
      }
      </style>
      ```
    </CodeGroup>
  </Step>

  <Step title="Run your app" stepNumber={6}>
    ```shellscript
    npm run dev
    ```
  </Step>
</Steps>

<Check>
  **Checkpoint**

  You should now have a fully functional Auth0 login page running on your [localhost](http://localhost:3000/)
</Check>

---

## Advanced Usage

<Accordion title="Protecting Routes with Nuxt Middleware">
  Use Auth0's authentication state to protect specific routes in your application:

  Create a middleware for protecting routes:

  ```shellscript
  mkdir middleware && touch middleware/auth.ts
  ```

  Add the authentication middleware:

  ```typescript middleware/auth.ts
  export default defineNuxtRouteMiddleware((to, from) => {
    const user = useUser()
    
    if (!user.value) {
      return navigateTo(`/auth/login?returnTo=${to.path}`)
    }
  })
  ```

  Create a protected page to test the middleware:

  ```shellscript
  mkdir pages && touch pages/dashboard.vue
  ```

  ```vue pages/dashboard.vue expandable lines
  <template>
    <div class="dashboard-container">
      <div class="dashboard-card">
        <h1>Protected Dashboard</h1>
        <p>Welcome to your protected dashboard!</p>
        <UserProfile />
        <div class="actions">
          <NuxtLink to="/" class="link-button">← Back to Home</NuxtLink>
          <LogoutButton />
        </div>
      </div>
    </div>
  </template>

  <script setup lang="ts">
  definePageMeta({
    middleware: ['auth'],
  })
  </script>

  <style scoped>
  .dashboard-container {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1rem;
    background-color: #1a1e27;
  }

  .dashboard-card {
    background-color: #262a33;
    border-radius: 20px;
    padding: 3rem;
    max-width: 600px;
    width: 100%;
    text-align: center;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
  }

  .dashboard-card h1 {
    color: #f7fafc;
    margin-bottom: 1rem;
  }

  .dashboard-card p {
    color: #cbd5e0;
    margin-bottom: 2rem;
  }

  .actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
    align-items: center;
    margin-top: 2rem;
  }

  .link-button {
    padding: 0.8rem 1.5rem;
    background-color: #4a5568;
    color: white;
    text-decoration: none;
    border-radius: 8px;
    transition: background-color 0.3s;
  }

  .link-button:hover {
    background-color: #2d3748;
  }
  </style>
  ```
</Accordion>

<Accordion title="Calling Protected APIs">
  Configure your Auth0 module to include an API audience and use access tokens:

  Update your `nuxt.config.ts`:

  ```typescript nuxt.config.ts
  export default defineNuxtConfig({
    devtools: { enabled: true },
    modules: ['@auth0/auth0-nuxt'],
    runtimeConfig: {
      auth0: {
        domain: process.env.NUXT_AUTH0_DOMAIN,
        clientId: process.env.NUXT_AUTH0_CLIENT_ID,
        clientSecret: process.env.NUXT_AUTH0_CLIENT_SECRET,
        sessionSecret: process.env.NUXT_AUTH0_SESSION_SECRET,
        appBaseUrl: process.env.NUXT_AUTH0_APP_BASE_URL,
        audience: "YOUR_API_IDENTIFIER"
      },
    },
  })
  ```

  Then make authenticated API calls in your components:

  ```vue components/ApiCall.vue expandable lines
  <template>
    <div>
      <button @click="callProtectedApi" class="button">Call API</button>
      <pre v-if="apiResponse">{{ JSON.stringify(apiResponse, null, 2) }}</pre>
    </div>
  </template>

  <script setup lang="ts">
  const apiResponse = ref(null)

  const callProtectedApi = async () => {
    try {
      const { data } = await useFetch('/api/protected', {
        headers: useRequestHeaders(['cookie'])
      })
      
      apiResponse.value = data.value
    } catch (error) {
      console.error('API call failed:', error)
    }
  }
  </script>
  ```
</Accordion>

<Accordion title="Custom Session Configuration">
  Configure stateful sessions with custom storage solutions:

  ```typescript nuxt.config.ts
  export default defineNuxtConfig({
    devtools: { enabled: true },
    modules: ['@auth0/auth0-nuxt'],
    runtimeConfig: {
      auth0: {
        domain: process.env.NUXT_AUTH0_DOMAIN,
        clientId: process.env.NUXT_AUTH0_CLIENT_ID,
        clientSecret: process.env.NUXT_AUTH0_CLIENT_SECRET,
        sessionSecret: process.env.NUXT_AUTH0_SESSION_SECRET,
        appBaseUrl: process.env.NUXT_AUTH0_APP_BASE_URL,
        session: {
          rolling: true,
          rollingDuration: 86400, // 24 hours in seconds
          absoluteDuration: 604800, // 7 days in seconds
        }
      },
    },
  })
  ```

  For Redis-based sessions or other storage providers, refer to the [Auth0 Nuxt SDK documentation](https://github.com/auth0/auth0-nuxt).
</Accordion>

