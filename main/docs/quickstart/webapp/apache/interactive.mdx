---

mode: wide
description: This tutorial demonstrates how to configure Apache to add authentication
  and authorization to your web app.
'og:image': https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
'og:title': 'Auth0 Apache SDK Quickstarts: Apache'
'og:url': https://auth0.com/docs/
title: Apache
'twitter:description': This tutorial demonstrates how to configure Apache to add authentication
  and authorization to your web app.
'twitter:title': 'Auth0 Apache SDK Quickstarts: Apache'
---
import { Recipe, Content, Section, SideMenu, SideMenuSectionItem, SignUpForm } from "/snippets/recipe.jsx"
import Code1 from "/snippets/quickstart/webapp/apache/code1.mdx"
import Code2 from "/snippets/quickstart/webapp/apache/code2.mdx"

export const sections = [
  { id: "system-requirements", title: "System Requirements" },
  { id: "install-and-enable-mod-auth-openidc-module", title: "Install and Enable mod_auth_openidc Module" },
  { id: "configure-the-module-with-your-auth0-account-information", title: "Configure the Module with Your Auth0 Account Information" },
  { id: "configure-auth0", title: "Configure Auth0" },
  { id: "authorization", title: "Authorization" }
]

<Recipe>
  <Content>
    This tutorial demonstrates how to configure Apache to add authentication and authorization to your web app. We recommend that you log in to follow this quickstart with examples configured for your account.

    <Section id={sections[0].id} title={sections[0].title} stepNumber="1">
      This tutorial and sample project have been tested with the following:

      - Apache 2.4
    </Section>

    <Section id={sections[1].id} title={sections[1].title} stepNumber="2">
      First, install the `mod_auth_openidc` module for Apache.

      You can get the binaries from [GitHub](https://github.com/zmartzone/mod_auth_openidc/releases) and install them for your OS. If your OS isn't compatible with any of the binaries, you can still [build it from source](https://github.com/zmartzone/mod_auth_openidc/blob/master/INSTALL).

      Once you've installed the module, enable it for Apache with the `a2enmod` command. To learn more, read [a2enmod on Ubuntu Manpage](https://manpages.ubuntu.com/manpages/focal/man8/a2enmod.8.html):

      ```text lines
      a2enmod auth_openidc
      ```

      <Callout icon="file-lines" iconType="regular">
      For Windows, you can use [this Powershell script](https://github.com/enderandpeter/win-a2enmod#installation) to get `a2enmod` working on your system.
      </Callout>
    </Section>

    <Section id={sections[2].id} title={sections[2].title} stepNumber="3">
      Update your new configuration file (`auth_openidc.conf`), located in the `/etc/apache2/mods-available` folder.

      <Callout icon="file-lines" iconType="regular">
      For Windows, you must use the `/apache/conf/httpd.conf` file.
      </Callout>
    </Section>

    <Section id={sections[3].id} title={sections[3].title} stepNumber="4">
      In the Auth0 Dashboard:

      1. Go to **Applications** > **Applications**, and then select your application from the list.
      2. Switch to the **Settings** view, and then locate the **Application URIs** section.
      3. Add the value of `OIDCRedirectURI` to **Allowed Callback URLs**.
      4. Locate **Advanced Settings** at the bottom of the page.
      5. Switch to the **OAuth** view.
      6. Set **JSON Web Token (JWT) Signature Algorithm** to `RS256`.
    </Section>

    <Section id={sections[4].id} title={sections[4].title} stepNumber="5">
      You can configure Apache to protect a specific location based on the value of a claim in the user’s ID token by adding a `Location` block to your `auth_openidc.conf` file.

      For example, you could create an Action that reads the user’s roles, and then adds a claim that grants access to a protected location:

      ```js lines
      exports.onExecutePostLogin = async (event, api) => {
        const roles = event.authorization.roles; // ['user', 'admin']
          if (roles.includes('admin')) {
          api.idToken.setCustomClaim('folder', 'admin');
        }
      };
      ```
    </Section>

    ## Next Steps
    Excellent work! If you made it this far, you should now have login, logout, and user profile information running in your application.

    This concludes our quickstart tutorial, but there is so much more to explore. To learn more about what you can do with Auth0, check out:

    - [Auth0 Dashboard](https://manage.auth0.com/) - Learn how to configure and manage your Auth0 tenant and applications

    - [Auth0 Marketplace](https://marketplace.auth0.com/) - Discover integrations you can enable to extend Auth0’s functionality
  </Content>

  <SideMenu sections={sections}>
    <SideMenuSectionItem id={sections[0].id}>
      <SignUpForm />
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[1].id}>
      <SignUpForm />
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[2].id}>
      <CodeGroup>
        <Code1/>
      </CodeGroup>
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[3].id}>
      <SignUpForm />
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[4].id}>
      <CodeGroup>
        <Code2/>
      </CodeGroup>
    </SideMenuSectionItem>

  </SideMenu>
</Recipe>
