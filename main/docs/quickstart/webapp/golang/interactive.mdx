---

mode: wide
description: This guide demonstrates how to integrate Auth0 with any new or existing
  Go web application.
'og:image': https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
'og:title': 'Auth0 Go SDK Quickstarts: Add Login to your Go Application'
'og:url': https://auth0.com/docs/
sidebarTitle: Go
title: Add Login to your Go Application
'twitter:description': This guide demonstrates how to integrate Auth0 with any new
  or existing Go web application.
'twitter:title': 'Auth0 Go SDK Quickstarts: Add Login to your Go Application'
---
import { Recipe, Content, Section, SideMenu, SideMenuSectionItem, SignUpForm } from "/snippets/recipe.jsx";
import { LoggedInForm } from "/snippets/Login.jsx";

import Auth from "/snippets/quickstart/webapp/golang/auth.go.mdx";
import Callback from "/snippets/quickstart/webapp/golang/callback.go.mdx";
import Env from "/snippets/quickstart/webapp/golang/.env.mdx";
import Go from "/snippets/quickstart/webapp/golang/go.mod.mdx";
import Isauthenticated from "/snippets/quickstart/webapp/golang/isAuthenticated.go.mdx";
import Login from "/snippets/quickstart/webapp/golang/login.go.mdx";
import Logout from "/snippets/quickstart/webapp/golang/logout.go.mdx";
import Main from "/snippets/quickstart/webapp/golang/main.go.mdx";
import Router from "/snippets/quickstart/webapp/golang/router.go.mdx";
import User from "/snippets/quickstart/webapp/golang/user.go.mdx";

export const sections = [
  { id: "configure-auth0", title: "Configure Auth0" },
  { id: "install-dependencies", title: "Install dependencies" },
  { id: "configure-the-environment-variables", title: "Configure the environment variables" },
  { id: "configure-oauth2-and-openid-connect-packages", title: "Configure OAuth2 and OpenID Connect packages" },
  { id: "set-up-your-application-routes", title: "Set up your application routes" },
  { id: "add-login-to-your-application", title: "Add login to your application" },
  { id: "handle-authentication-callback", title: "Handle authentication callback" },
  { id: "display-user-profile-information", title: "Display user profile information" },
  { id: "add-logout-to-your-application", title: "Add logout to your application" },
  { id: "protect-routes", title: "Protect routes" },
  { id: "serve-your-application", title: "Serve your application" }
]

<Recipe>
  <Content>
    Auth0 allows you to add authentication and gain access to user profile information in your application. This guide
        demonstrates how to integrate Auth0 with any new or existing Go web application.

    <Section id={sections[0].id} title={sections[0].title} stepNumber="1">
      To use Auth0 services, youâ€™ll need to have an application set up in the Auth0 Dashboard. The Auth0 application is
            where you will configure how you want authentication to work for the project you are developing.

      ### Configure an application

      Use the interactive selector to create a new Auth0 application or select an existing application that represents
            the project you want to integrate with. Every application in Auth0 is assigned an alphanumeric, unique client ID
            that your application code will use to call Auth0 APIs through the SDK.

      Any settings you configure using this quickstart will automatically update for your Application in the [Dashboard](https://manage.auth0.com/dashboard/us/auth0-dsepaid/), which is where you can manage your Applications in the future.

      If you would rather explore a complete configuration, you can view a sample application instead.

      ### Configure Callback URLs

      A callback URL is a URL in your application that you would like Auth0 to redirect users to after they have
            authenticated. If not set, users will not be returned to your application after they log in.

      <Callout icon="file-lines" iconType="regular">
      If you are following along with our sample project, set this to
                      `http://localhost:3000/callback`.
      </Callout>

      ### Configure Logout URLs

      A logout URL is a URL in your application that you would like Auth0 to redirect users to after they have logged
            out. If not set, users will not be able to log out from your application and will receive an error.

      <Callout icon="file-lines" iconType="regular">
      If you are following along with our sample project, set this to `http://localhost:3000`.
      </Callout>
    </Section>

    <Section id={sections[1].id} title={sections[1].title} stepNumber="2">
      Create a `go.mod` file to list all the dependencies in your application.

      To integrate Auth0 in a Go application, add the `coreos/go-oidc/v3` and `x/oauth2`
            packages.

      In addition to the OIDC and OAuth2 packages, add `joho/godotenv`, `gin-gonic/gin`, and
            `gin-contrib/sessions`.

      <Callout icon="file-lines" iconType="regular">
      This example uses `gin` for routing, but you can use whichever router you want.
      </Callout>

      Save the `go.mod` file with the necessary dependencies and install them using the following command in
            your terminal:

      ```text lines
      go mod download
      ```

      
    </Section>

    <Section id={sections[2].id} title={sections[2].title} stepNumber="3">
      You must set the following environment variables in `.env` within the root of your project directory:

      - **AUTH0_DOMAIN**: The domain of your Auth0 tenant. Find your Auth0 Domain in the Auth0 Dashboard under
                your Application's Settings in the Domain field. For custom domains, set this to the value of your custom domain instead.
      - **AUTH0_CLIENT_ID**: The ID of the Auth0 Application you set up earlier in this quickstart. Find this in
                the Auth0 Dashboard under your Application's Settings in the Client ID field.
      - **AUTH0_CLIENT_SECRET**: The Secret of the Auth0 Application you set up earlier in this quickstart. Find
                this in the Auth0 Dashboard under your Application's Settings in the Client Secret field.
      - **AUTH0_CALLBACK_URL**: The URL used by Auth0 to redirect the user after successful authentication.
    </Section>

    <Section id={sections[3].id} title={sections[3].title} stepNumber="4">
      Next, configure the OAuth2 and OpenID Connect packages.

      Create a file called `auth.go` in the `platform/authenticator` folder. In this package,
            create a method to configure and return [OAuth2](https://godoc.org/golang.org/x/oauth2) and [OIDC](https://godoc.org/github.com/coreos/go-oidc) clients, and another one to verify an ID Token.
    </Section>

    <Section id={sections[4].id} title={sections[4].title} stepNumber="5">
      Create a file called `router.go` in the `platform/router` folder. In this package, create a
            method to configure and return our routes using [github.com/gin-gonic/gin](https://github.com/gin-gonic/gin). You will be passing an instance of
            `Authenticator` to the method, for use with the `login` and `callback` handlers.
    </Section>

    <Section id={sections[5].id} title={sections[5].title} stepNumber="6">
      For the user to authenticate themselves, we need to create a handler function to handle the `/login`
            route.

      Create a file called `login.go` in the `web/app/login` folder, and add a
            `Handler` function. Upon executing the handler, the user will be redirected to Auth0 where they can
            enter their credentials.

      To call the `/login` route, add a link to `/login` in the `home.html` template
            located in the `web/template` directory.
    </Section>

    <Section id={sections[6].id} title={sections[6].title} stepNumber="7">
      Once users have authenticated using Auth0's Universal Login Page, they will return to the app at the
            `/callback` route.

      Create a file called `callback.go` in the `web/app/callback` folder, and add a
            `Handler` function.

      This handler will take the `code` query string, provided by Auth0, and exchange it for an ID token and
            an access token.

      If the ID token is valid, it will store the profile information and access token in the session. The profile
            information is based on the claims contained in the ID token. Session storage allows the application to access
            that information as needed.
    </Section>

    <Section id={sections[7].id} title={sections[7].title} stepNumber="8">
      Now that your users can log in, you will likely want to be able to retrieve and use the profile information associated with authenticated users.

      You can access that profile information, such as their nickname or profile picture, through the
            `profile` that was stored in the session previously.

      Create a handler for the `/user` endpoint in `web/app/user/user.go` and return the
            corresponding HTML file. As the `profile` is being passed to `ctx.HTML()`, you can access
            the profile information such as `picture` and `nickname` inside that same HTML file.

      An example of such an HTML file could look like the example below, but you can retrieve any profile information,
            including custom claims.
    </Section>

    <Section id={sections[8].id} title={sections[8].title} stepNumber="9">
      To log the user out, clear the data from the session and redirect the user to the Auth0 logout endpoint. You can
            find more information about this in the [logout
              documentation](https://auth0.com/docs/logout).

      Create a file called `logout.go` in the folder `web/app/logout`, and add the function
            `Handler` to redirect the user to Auth0's logout endpoint.

      The `returnTo` URL needs to be in the list of Allowed Logout URLs in the settings section of the
            application, For more information, see [Redirect Users After Logout](https://auth0.com/docs/logout/guides/redirect-users-after-logout).

      Create a file called `user.js` in the folder `web/static/js`, and add the code to remove
            the cookie from a logged-in user.
    </Section>

    <Section id={sections[9].id} title={sections[9].title} stepNumber="10">
      Recommended practice dictates certain routes are accessible only to authenticated users. When unauthenticated
            users try accessing protected routes, your application should redirect them.

      In this case, you will implement middleware to hook into the HTTP request. The middleware function determines if
            the request should route to the endpoint handler or block the request.

      Create a file called `isAuthenticated.go` in `platform/middleware` and add a function that
            checks if the user is authenticated or not based on the `profile` session key. If the user is not
            authenticated, the middleware will redirect the user to the root of the application.

      With the middleware created, we can set it up for any route that needs authentication by adding it to the router.
    </Section>

    <Section id={sections[10].id} title={sections[10].title} stepNumber="11">
      With both the authenticator and router configured, we can wire things up using our application's entry point.
            Inside `main.go`, create an instance of the authenticator and the router, which gets passed the
            authenticator instance.

      If you are using a `.env` file, you must call `godotenv.Load()` at the very beginning of
            the `main()` function.

      Serve your application by using the following command in your terminal:

      ```text lines
      go run main.go
      ```
    </Section>

    ## Next Steps

      Excellent work! If you made it this far, you should now have login, logout, and user profile information running in your application.

      This concludes our quickstart tutorial, but there is so much more to explore. To learn more about what you can do with Auth0, check out:

      *   [Auth0 Dashboard](https://manage.auth0.com/dashboard/us/dev-gja8kxz4ndtex3rq) - Learn how to configure and manage your Auth0 tenant and applications
      *   [Auth0 Marketplace](https://marketplace.auth0.com/) - Discover integrations you can enable to extend Auth0â€™s functionality
  </Content>

  <SideMenu sections={sections}>
    <SideMenuSectionItem id={sections[0].id}>
      <SignUpForm />
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[1].id}>
      <CodeGroup>
        <User/>
        <Auth/>
        <Callback/>
        <Env/>
        <Go/>
        <Isauthenticated/>
        <Login/>
        <Logout/>
        <Main/>
        <Router/>
      </CodeGroup>
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[2].id}>
      <CodeGroup>
        <Env/>
        <Auth/>
        <Callback/>
        <Go/>
        <Isauthenticated/>
        <Login/>
        <Logout/>
        <Main/>
        <Router/>
        <User/>
      </CodeGroup>
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[3].id}>
      <CodeGroup>
        <Auth/>
        <Callback/>
        <Env/>
        <Go/>
        <Isauthenticated/>
        <Login/>
        <Logout/>
        <Main/>
        <Router/>
        <User/>
      </CodeGroup>
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[4].id}>
      <CodeGroup>
        <Router/>
        <Auth/>
        <Callback/>
        <Env/>
        <Go/>
        <Isauthenticated/>
        <Login/>
        <Logout/>
        <Main/>
        <User/>
      </CodeGroup>
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[5].id}>
      <CodeGroup>
        <Login/>
        <Auth/>
        <Callback/>
        <Env/>
        <Go/>
        <Isauthenticated/>
        <Logout/>
        <Main/>
        <Router/>
        <User/>
      </CodeGroup>
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[6].id}>
      <CodeGroup>
        <Callback/>
        <Auth/>
        <Env/>
        <Go/>
        <Isauthenticated/>
        <Login/>
        <Logout/>
        <Main/>
        <Router/>
        <User/>
      </CodeGroup>
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[7].id}>
      <CodeGroup>
        <User/>
        <Auth/>
        <Callback/>
        <Env/>
        <Go/>
        <Isauthenticated/>
        <Login/>
        <Logout/>
        <Main/>
        <Router/>
      </CodeGroup>
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[8].id}>
      <CodeGroup>
        <Logout/>
        <Auth/>
        <Callback/>
        <Env/>
        <Go/>
        <Isauthenticated/>
        <Login/>
        <Main/>
        <Router/>
        <User/>
      </CodeGroup>
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[9].id}>
      <CodeGroup>
        <Isauthenticated/>
        <Auth/>
        <Callback/>
        <Env/>
        <Go/>
        <Login/>
        <Logout/>
        <Main/>
        <Router/>
        <User/>
      </CodeGroup>
    </SideMenuSectionItem>

    <SideMenuSectionItem id={sections[10].id}>
      <CodeGroup>
        <Main/>
        <Auth/>
        <Callback/>
        <Env/>
        <Go/>
        <Isauthenticated/>
        <Login/>
        <Logout/>
        <Router/>
        <User/>
      </CodeGroup>
    </SideMenuSectionItem>

  </SideMenu>
</Recipe>
