---
title: "Auth0 Android Quickstart"
description: "Setup Auth0 on your Android app in under 10 minutes"
mode: "wide"
---

<Tip>
  [**Sign up**](https://auth0.com/signup?utm_source=android_quickstart) **for an Auth0 account if you don't have one**
</Tip>

## Get Started

<Steps>
  <Step title="Create a new Android project" stepNumber={1}>
    Create a new Android project for this quickstart.

    **In Android Studio:**

    1. **File** → **New** → **New Project** (or **Ctrl\+Shift\+N**)
    2. Select **Phone and Tablet** → **Empty Activity** template
    3. Configure your project:
       - **Name**: `Auth0-Android-Sample`
       - **Package name**: `com.auth0.samples.android`
       - **Language**: **Kotlin**
       - **Minimum SDK**: **API 24 (Android 7.0)**
       - **Build configuration language**: **Kotlin DSL**
    4. Click **Finish**

    <Tip>
      This creates a modern Android app with Kotlin and Gradle Kotlin DSL, following current Android development best practices.
    </Tip>
  </Step>
  <Step title="Add Auth0 SDK via Gradle" stepNumber={2}>
    Add the Auth0 Android SDK to your project using Gradle.

    **`Update your app-level build.gradle.kts file:`**

    ```kotlin app/build.gradle.kts expandable lines
    plugins {
        id("com.android.application")
        id("org.jetbrains.kotlin.android")
    }
    
    android {
        namespace = "com.auth0.samples.android"
        compileSdk = 34
    
        defaultConfig {
            applicationId = "com.auth0.samples.android"
            minSdk = 24
            targetSdk = 34
            versionCode = 1
            versionName = "1.0"
    
            testInstrumentationRunner = "androidx.test.runner.AndroidJUnitRunner"
    
            // Auth0 configuration
            manifestPlaceholders["auth0Domain"] = "@string/com_auth0_domain"
            manifestPlaceholders["auth0Scheme"] = "https"
        }
    
        buildTypes {
            release {
                isMinifyEnabled = false
                proguardFiles(
                    getDefaultProguardFile("proguard-android-optimize.txt"),
                    "proguard-rules.pro"
                )
            }
        }
    
        compileOptions {
            sourceCompatibility = JavaVersion.VERSION_1_8
            targetCompatibility = JavaVersion.VERSION_1_8
        }
    
        kotlinOptions {
            jvmTarget = "1.8"
        }
    
        buildFeatures {
            viewBinding = true
        }
    }
    
    dependencies {
        implementation("androidx.core:core-ktx:1.12.0")
        implementation("androidx.appcompat:appcompat:1.6.1")
        implementation("com.google.android.material:material:1.11.0")
        implementation("androidx.activity:activity-ktx:1.8.2")
        implementation("androidx.constraintlayout:constraintlayout:2.1.4")
        
        // Auth0 SDK
        implementation("com.auth0.android:auth0:3.9.1")
        
        // Testing dependencies
        testImplementation("junit:junit:4.13.2")
        androidTestImplementation("androidx.test.ext:junit:1.1.5")
        androidTestImplementation("androidx.test.espresso:espresso-core:3.5.1")
    }
    ```

    **`Add Internet permission to AndroidManifest.xml:`**

    ```xml app/src/main/AndroidManifest.xml expandable lines
    <?xml version="1.0" encoding="utf-8"?>
    <manifest xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:tools="http://schemas.android.com/tools">
    
        <uses-permission android:name="android.permission.INTERNET" />
    
        <application
            android:allowBackup="true"
            android:dataExtractionRules="@xml/data_extraction_rules"
            android:fullBackupContent="@xml/backup_rules"
            android:icon="@mipmap/ic_launcher"
            android:label="@string/app_name"
            android:roundIcon="@mipmap/ic_launcher_round"
            android:supportsRtl="true"
            android:theme="@style/Theme.Auth0AndroidSample"
            tools:targetApi="31">
    
            <activity
                android:name=".MainActivity"
                android:exported="true"
                android:theme="@style/Theme.Auth0AndroidSample">
                <intent-filter>
                    <action android:name="android.intent.action.MAIN" />
                    <category android:name="android.intent.category.LAUNCHER" />
                </intent-filter>
            </activity>
    
        </application>
    
    </manifest>
    ```

    <Tip>
      The Auth0 SDK automatically handles dependency resolution and includes secure token storage capabilities. Manifest placeholders will be configured with your Auth0 credentials in the next step.
    </Tip>
  </Step>
  <Step title="Setup your Auth0 App" stepNumber={3}>
    Next up, you need to:

    1. Create a new Native Application on your Auth0 tenant
    2. Configure your Android app with Auth0 credentials
    3. Add the Auth0 configuration to your Android resources

    ### Create Auth0 Application

    1. Go to the [Auth0 Dashboard](https://manage.auth0.com/dashboard/)
    2. Click **Applications** → **Create Application**
    3. Name your application (e.g., "My Android App")
    4. Choose **Native** as the application type
    5. Click **Create**

    ### Configure Application Settings

    In your Auth0 application settings:

    1. Go to the **Settings** tab
    2. Scroll down to **Application URIs**
    3. In **Allowed Callback URLs**, add both URLs below (replace placeholders):

       ```
       https://YOUR_AUTH0_DOMAIN/android/com.auth0.samples.android/callback,
       com.auth0.samples.android://YOUR_AUTH0_DOMAIN/android/com.auth0.samples.android/callback
       ```
    4. In **Allowed Logout URLs**, add the same URLs as above
    5. Click **Save Changes**

    **Example URLs:**

    ```
    https://dev-abc123.us.auth0.com/android/com.auth0.samples.android/callback,
    com.auth0.samples.android://dev-abc123.us.auth0.com/android/com.auth0.samples.android/callback
    ```

    ### Create Auth0 Configuration

    Create `app/src/main/res/values/auth0.xml` with your Auth0 credentials:

    ```xml app/src/main/res/values/auth0.xml expandable lines
    <?xml version="1.0" encoding="utf-8"?>
    <resources>
        <string name="com_auth0_domain">YOUR_AUTH0_DOMAIN</string>
        <string name="com_auth0_client_id">YOUR_AUTH0_CLIENT_ID</string>
    </resources>
    ```

    Replace `YOUR_AUTH0_CLIENT_ID` and `YOUR_AUTH0_DOMAIN` with the actual values from your Auth0 application's **Settings** tab.

    <Warning>
      **Important**: Ensure the package name in your callback URLs matches your `applicationId` in `build.gradle.kts`. If authentication fails, verify these values are identical.
    </Warning>
  </Step>
  <Step title="Create the Authentication Service" stepNumber={4}>
    Create a centralized service to handle all authentication logic.

    **Add a new Kotlin file:**

    1. Right-click your package → **New** → **Kotlin Class/File** → **File**
    2. Name it `AuthenticationManager`
    3. Replace its contents with:

    ```kotlin AuthenticationManager.kt expandable lines
    package com.auth0.samples.android
    
    import android.content.Context
    import androidx.lifecycle.LiveData
    import androidx.lifecycle.MutableLiveData
    import com.auth0.android.Auth0
    import com.auth0.android.authentication.AuthenticationAPIClient
    import com.auth0.android.authentication.AuthenticationException
    import com.auth0.android.authentication.storage.CredentialsManagerException
    import com.auth0.android.authentication.storage.SecureCredentialsManager
    import com.auth0.android.authentication.storage.SharedPreferencesStorage
    import com.auth0.android.callback.Callback
    import com.auth0.android.provider.WebAuthProvider
    import com.auth0.android.result.Credentials
    import com.auth0.android.result.UserProfile
    
    class AuthenticationManager(private val context: Context) {
        
        private val auth0 = Auth0.getInstance(context)
        private val credentialsManager: SecureCredentialsManager
        
        private val _isAuthenticated = MutableLiveData<Boolean>()
        val isAuthenticated: LiveData<Boolean> = _isAuthenticated
        
        private val _userProfile = MutableLiveData<UserProfile?>()
        val userProfile: LiveData<UserProfile?> = _userProfile
        
        private val _isLoading = MutableLiveData<Boolean>()
        val isLoading: LiveData<Boolean> = _isLoading
        
        private val _errorMessage = MutableLiveData<String?>()
        val errorMessage: LiveData<String?> = _errorMessage
    
        init {
            val authentication = AuthenticationAPIClient(auth0)
            val storage = SharedPreferencesStorage(context)
            credentialsManager = SecureCredentialsManager(context, authentication, storage)
            
            checkAuthenticationStatus()
        }
    
        private fun checkAuthenticationStatus() {
            _isLoading.value = true
            
            if (credentialsManager.hasValidCredentials()) {
                credentialsManager.getCredentials(object : Callback<Credentials, CredentialsManagerException> {
                    override fun onSuccess(credentials: Credentials) {
                        _isAuthenticated.value = true
                        _isLoading.value = false
                        fetchUserProfile(credentials.accessToken)
                    }
                    
                    override fun onFailure(exception: CredentialsManagerException) {
                        _isAuthenticated.value = false
                        _isLoading.value = false
                    }
                })
            } else {
                _isAuthenticated.value = false
                _isLoading.value = false
            }
        }
    
        fun login() {
            _isLoading.value = true
            _errorMessage.value = null
            
            WebAuthProvider.login(auth0)
                .withScheme("https")
                .withScope("openid profile email offline_access")
                .start(context as MainActivity, object : Callback<Credentials, AuthenticationException> {
                    override fun onSuccess(credentials: Credentials) {
                        credentialsManager.saveCredentials(credentials)
                        _isAuthenticated.value = true
                        _isLoading.value = false
                        fetchUserProfile(credentials.accessToken)
                    }
    
                    override fun onFailure(exception: AuthenticationException) {
                        _isLoading.value = false
                        when {
                            exception.isAuthenticationCanceled -> {
                                _errorMessage.value = "Login was cancelled"
                            }
                            exception.isBrowserAppNotAvailable -> {
                                _errorMessage.value = "No browser available"
                            }
                            else -> {
                                _errorMessage.value = "Login failed: ${exception.getDescription()}"
                            }
                        }
                    }
                })
        }
    
        fun logout() {
            _isLoading.value = true
            
            WebAuthProvider.logout(auth0)
                .withScheme("https")
                .start(context as MainActivity, object : Callback<Void?, AuthenticationException> {
                    override fun onSuccess(result: Void?) {
                        credentialsManager.clearCredentials()
                        _isAuthenticated.value = false
                        _userProfile.value = null
                        _isLoading.value = false
                    }
    
                    override fun onFailure(exception: AuthenticationException) {
                        _isLoading.value = false
                        _errorMessage.value = "Logout failed: ${exception.getDescription()}"
                    }
                })
        }
    
        private fun fetchUserProfile(accessToken: String) {
            auth0.users()
                .getProfile(accessToken)
                .start(object : Callback<UserProfile, AuthenticationException> {
                    override fun onSuccess(userProfile: UserProfile) {
                        _userProfile.value = userProfile
                    }
    
                    override fun onFailure(exception: AuthenticationException) {
                        _errorMessage.value = "Failed to get user profile: ${exception.getDescription()}"
                    }
                })
        }
    
        fun clearError() {
            _errorMessage.value = null
        }
    }
    ```
  </Step>
  <Step title="Create Login, Logout and Profile Components" stepNumber={5}>
    Create the UI components that respond to authentication state.

    **`Update your MainActivity.kt:`**

    ```kotlin MainActivity.kt expandable lines
    package com.auth0.samples.android
    
    import android.os.Bundle
    import android.view.View
    import android.widget.Toast
    import androidx.appcompat.app.AppCompatActivity
    import androidx.lifecycle.Observer
    import com.auth0.samples.android.databinding.ActivityMainBinding
    import com.squareup.picasso.Picasso
    
    class MainActivity : AppCompatActivity() {
        
        private lateinit var binding: ActivityMainBinding
        private lateinit var authManager: AuthenticationManager
    
        override fun onCreate(savedInstanceState: Bundle?) {
            super.onCreate(savedInstanceState)
            binding = ActivityMainBinding.inflate(layoutInflater)
            setContentView(binding.root)
    
            authManager = AuthenticationManager(this)
            setupUI()
            observeAuthState()
        }
    
        private fun setupUI() {
            binding.loginButton.setOnClickListener {
                authManager.login()
            }
            
            binding.logoutButton.setOnClickListener {
                authManager.logout()
            }
        }
    
        private fun observeAuthState() {
            authManager.isAuthenticated.observe(this, Observer { isAuthenticated ->
                updateUI(isAuthenticated)
            })
    
            authManager.userProfile.observe(this, Observer { userProfile ->
                userProfile?.let { profile ->
                    binding.userNameText.text = profile.name ?: "Unknown User"
                    binding.userEmailText.text = profile.email ?: "No email"
                    
                    // Load user profile picture
                    profile.pictureURL?.let { pictureUrl ->
                        Picasso.get()
                            .load(pictureUrl)
                            .placeholder(R.drawable.ic_person_placeholder)
                            .into(binding.userProfileImage)
                    }
                }
            })
    
            authManager.isLoading.observe(this, Observer { isLoading ->
                binding.progressBar.visibility = if (isLoading) View.VISIBLE else View.GONE
                binding.loginButton.isEnabled = !isLoading
                binding.logoutButton.isEnabled = !isLoading
            })
    
            authManager.errorMessage.observe(this, Observer { errorMessage ->
                errorMessage?.let {
                    Toast.makeText(this, it, Toast.LENGTH_LONG).show()
                    authManager.clearError()
                }
            })
        }
    
        private fun updateUI(isAuthenticated: Boolean) {
            if (isAuthenticated) {
                binding.loginButton.visibility = View.GONE
                binding.logoutButton.visibility = View.VISIBLE
                binding.profileCard.visibility = View.VISIBLE
                binding.welcomeText.text = getString(R.string.welcome_authenticated)
                binding.authStatusIcon.setImageResource(R.drawable.ic_check_circle)
            } else {
                binding.loginButton.visibility = View.VISIBLE
                binding.logoutButton.visibility = View.GONE
                binding.profileCard.visibility = View.GONE
                binding.welcomeText.text = getString(R.string.welcome_unauthenticated)
                binding.authStatusIcon.setImageResource(R.drawable.ic_shield)
                
                // Clear user data
                binding.userNameText.text = ""
                binding.userEmailText.text = ""
                binding.userProfileImage.setImageResource(R.drawable.ic_person_placeholder)
            }
        }
    }
    ```

    **`Add Picasso for image loading in build.gradle.kts:`**

    ```kotlin app/build.gradle.kts expandable {8} lines
    dependencies {
        implementation("androidx.core:core-ktx:1.12.0")
        implementation("androidx.appcompat:appcompat:1.6.1")
        implementation("com.google.android.material:material:1.11.0")
        implementation("androidx.activity:activity-ktx:1.8.2")
        implementation("androidx.constraintlayout:constraintlayout:2.1.4")
        
        // Auth0 SDK
        implementation("com.auth0.android:auth0:3.9.1")
        
        // Image loading
        implementation("com.squareup.picasso:picasso:2.8")
        
        // Testing dependencies
        testImplementation("junit:junit:4.13.2")
        androidTestImplementation("androidx.test.ext:junit:1.1.5")
        androidTestImplementation("androidx.test.espresso:espresso-core:3.5.1")
    }
    ```
  </Step>
  <Step title="Create the layout and styling" stepNumber={6}>
    Create a modern Android layout with Material Design components.

    **`Update your activity_main.xml layout file:`**

    ```xml app/src/main/res/layout/activity_main.xml expandable lines
    <?xml version="1.0" encoding="utf-8"?>
    <androidx.constraintlayout.widget.ConstraintLayout 
        xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:app="http://schemas.android.com/apk/res-auto"
        xmlns:tools="http://schemas.android.com/tools"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@color/background_color"
        tools:context=".MainActivity">
    
        <ScrollView
            android:layout_width="0dp"
            android:layout_height="0dp"
            android:fillViewport="true"
            app:layout_constraintBottom_toBottomOf="parent"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent">
    
            <androidx.constraintlayout.widget.ConstraintLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:padding="24dp">
    
                <ImageView
                    android:id="@+id/authStatusIcon"
                    android:layout_width="80dp"
                    android:layout_height="80dp"
                    android:layout_marginTop="32dp"
                    android:src="@drawable/ic_shield"
                    android:tint="@color/auth0_blue"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toTopOf="parent" />
    
                <TextView
                    android:id="@+id/appTitle"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="24dp"
                    android:text="@string/app_title"
                    android:textColor="@color/text_primary"
                    android:textSize="28sp"
                    android:textStyle="bold"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/authStatusIcon" />
    
                <TextView
                    android:id="@+id/welcomeText"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="16dp"
                    android:gravity="center"
                    android:text="@string/welcome_unauthenticated"
                    android:textColor="@color/text_secondary"
                    android:textSize="16sp"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/appTitle" />
    
                <com.google.android.material.card.MaterialCardView
                    android:id="@+id/profileCard"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="24dp"
                    android:visibility="gone"
                    app:cardCornerRadius="16dp"
                    app:cardElevation="4dp"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/welcomeText">
    
                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:gravity="center"
                        android:orientation="vertical"
                        android:padding="24dp">
    
                        <de.hdodenhof.circleimageview.CircleImageView
                            android:id="@+id/userProfileImage"
                            android:layout_width="100dp"
                            android:layout_height="100dp"
                            android:layout_marginBottom="16dp"
                            android:src="@drawable/ic_person_placeholder"
                            app:civ_border_color="@color/auth0_blue"
                            app:civ_border_width="2dp" />
    
                        <TextView
                            android:id="@+id/userNameText"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:layout_marginBottom="8dp"
                            android:textColor="@color/text_primary"
                            android:textSize="20sp"
                            android:textStyle="bold"
                            tools:text="John Doe" />
    
                        <TextView
                            android:id="@+id/userEmailText"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:textColor="@color/text_secondary"
                            android:textSize="16sp"
                            tools:text="john.doe@example.com" />
    
                    </LinearLayout>
    
                </com.google.android.material.card.MaterialCardView>
    
                <ProgressBar
                    android:id="@+id/progressBar"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="24dp"
                    android:visibility="gone"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/profileCard" />
    
                <com.google.android.material.button.MaterialButton
                    android:id="@+id/loginButton"
                    android:layout_width="0dp"
                    android:layout_height="56dp"
                    android:layout_marginTop="32dp"
                    android:text="@string/log_in"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    app:cornerRadius="8dp"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/progressBar" />
    
                <com.google.android.material.button.MaterialButton
                    android:id="@+id/logoutButton"
                    android:layout_width="0dp"
                    android:layout_height="56dp"
                    android:layout_marginTop="32dp"
                    android:backgroundTint="@color/logout_red"
                    android:text="@string/log_out"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:visibility="gone"
                    app:cornerRadius="8dp"
                    app:layout_constraintEnd_toEndOf="parent"
                    app:layout_constraintStart_toStartOf="parent"
                    app:layout_constraintTop_toBottomOf="@id/progressBar" />
    
            </androidx.constraintlayout.widget.ConstraintLayout>
    
        </ScrollView>
    
    </androidx.constraintlayout.widget.ConstraintLayout>
    ```

    **`Add CircleImageView dependency in build.gradle.kts:`**

    ```kotlin app/build.gradle.kts expandable {10} lines
    dependencies {
        implementation("androidx.core:core-ktx:1.12.0")
        implementation("androidx.appcompat:appcompat:1.6.1")
        implementation("com.google.android.material:material:1.11.0")
        implementation("androidx.activity:activity-ktx:1.8.2")
        implementation("androidx.constraintlayout:constraintlayout:2.1.4")
        
        // Auth0 SDK
        implementation("com.auth0.android:auth0:3.9.1")
        
        // Image loading and circular image view
        implementation("com.squareup.picasso:picasso:2.8")
        implementation("de.hdodenhof:circleimageview:3.1.0")
        
        // Testing dependencies
        testImplementation("junit:junit:4.13.2")
        androidTestImplementation("androidx.test.ext:junit:1.1.5")
        androidTestImplementation("androidx.test.espresso:espresso-core:3.5.1")
    }
    ```

    **`Add strings to app/src/main/res/values/strings.xml:`**

    ```xml app/src/main/res/values/strings.xml expandable lines
    <resources>
        <string name="app_name">Auth0 Android Sample</string>
        <string name="app_title">Auth0 Android Sample</string>
        <string name="welcome_unauthenticated">Get started by signing in to your account</string>
        <string name="welcome_authenticated">Welcome to Auth0 Android!</string>
        <string name="log_in">Log In</string>
        <string name="log_out">Log Out</string>
    </resources>
    ```

    **`Add colors to app/src/main/res/values/colors.xml:`**

    ```xml app/src/main/res/values/colors.xml expandable lines
    <?xml version="1.0" encoding="utf-8"?>
    <resources>
        <color name="black">#FF000000</color>
        <color name="white">#FFFFFFFF</color>
        <color name="background_color">#FFF8FAFC</color>
        <color name="text_primary">#FF1A202C</color>
        <color name="text_secondary">#FF718096</color>
        <color name="auth0_blue">#FF4299E1</color>
        <color name="logout_red">#FFE53E3E</color>
    </resources>
    ```

    **Add drawable resources:**
    Create `app/src/main/res/drawable/ic_shield.xml`:

    ```xml app/src/main/res/drawable/ic_shield.xml expandable lines
    <vector xmlns:android="http://schemas.android.com/apk/res/android"
        android:width="24dp"
        android:height="24dp"
        android:viewportWidth="24"
        android:viewportHeight="24">
        <path
            android:fillColor="@android:color/black"
            android:pathData="M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M10,17L6,13L7.41,11.59L10,14.17L16.59,7.58L18,9L10,17Z" />
    </vector>
    ```

    Create `app/src/main/res/drawable/ic_check_circle.xml`:

    ```xml app/src/main/res/drawable/ic_check_circle.xml expandable lines
    <vector xmlns:android="http://schemas.android.com/apk/res/android"
        android:width="24dp"
        android:height="24dp"
        android:viewportWidth="24"
        android:viewportHeight="24">
        <path
            android:fillColor="@android:color/black"
            android:pathData="M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2ZM10,17L5,12L6.41,10.59L10,14.17L17.59,6.58L19,8L10,17Z" />
    </vector>
    ```

    Create `app/src/main/res/drawable/ic_person_placeholder.xml`:

    ```xml app/src/main/res/drawable/ic_person_placeholder.xml expandable lines
    <vector xmlns:android="http://schemas.android.com/apk/res/android"
        android:width="24dp"
        android:height="24dp"
        android:viewportWidth="24"
        android:viewportHeight="24">
        <path
            android:fillColor="@android:color/darker_gray"
            android:pathData="M12,12c2.21,0 4,-1.79 4,-4s-1.79,-4 -4,-4 -4,1.79 -4,4 1.79,4 4,4zM12,14c-2.67,0 -8,1.34 -8,4v2h16v-2c0,-2.66 -5.33,-4 -8,-4z" />
    </vector>
    ```
  </Step>
  <Step title="Run your app" stepNumber={7}>
    Build and run your Android application.

    **In Android Studio:**

    ```shellscript
    # Sync project with Gradle files (or use Android Studio's "Sync Now")
    ./gradlew clean build
    
    # Build and install on connected device or emulator
    ./gradlew installDebug
    
    # Or run directly from Android Studio
    # Click the "Run" button or press Shift+F10
    ```

    **Expected flow:**

    1. App launches with "Log In" button and shield icon
    2. Tap "Log In" → Chrome Custom Tab opens → Complete login
    3. Returns to app automatically
    4. Success\! See your profile information with photo

    <Warning>
      Android will show a browser selection dialog if multiple browsers are installed. Chrome Custom Tabs provide the best user experience for Auth0 authentication.
    </Warning>
  </Step>
</Steps>

<Check>
  **Checkpoint**

  You should now have a fully functional Auth0 login experience running on your Android device or emulator. The app uses Chrome Custom Tabs for secure authentication and automatically stores credentials.
</Check>

---

## Next up:

<Columns cols={2}>
  <Card title="Secure your API" icon="server" iconType="solid">
    Integrate Auth0 token validation on your backend API to authenticate requests
  </Card>
  <Card title="Build MFA" icon="user-check" iconType="solid">
    Go beyond basic authentication and learn how to enable MFA
  </Card>
</Columns>

---

## Troubleshooting & Advanced

<Accordion title="Common Issues & Solutions">
  ### Chrome Custom Tab doesn't redirect back to app

  **Solutions:**

  1. Check **Allowed Callback URLs** in Auth0 Dashboard match your `applicationId` exactly
  2. Verify manifest placeholders in `build.gradle.kts` are correct
  3. Ensure both HTTPS and custom scheme URLs are configured
  4. Clean and rebuild: **Build** → **Clean Project** → **Rebuild Project**

  ### App crashes: 'Auth0 domain not found'

  **Fix:**

  1. Verify `auth0.xml` exists in `app/src/main/res/values/`
  2. Check `com_auth0_domain` and `com_auth0_client_id` values are correct
  3. Ensure no typos in domain format (should not include `https://`)

  ### Build errors with dependencies

  **Fix:**

  1. Update to latest Android Gradle Plugin in `build.gradle` (project level)
  2. Sync project: **File** → **Sync Project with Gradle Files**
  3. Clean build: `./gradlew clean build`

  ### Authentication cancelled by user

  Handle gracefully in your error callback:

  ```kotlin expandable {3,4,5,6}
  override fun onFailure(exception: AuthenticationException) {
      when {
          exception.isAuthenticationCanceled -> 
              showMessage("Login was cancelled")
          exception.isBrowserAppNotAvailable -> 
              showMessage("No browser available")
          else -> 
              showMessage("Login failed: ${exception.getDescription()}")
      }
  }
  ```

  ### No compatible browser error

  - Install Chrome or another modern browser on your device/emulator
  - Enable Chrome Custom Tabs for better user experience
  - Test on real device with Chrome installed
</Accordion>

<Accordion title="Production Deployment">
  ### App Store Preparation

  - Configure Android App Links for seamless authentication
  - Test on multiple Android versions and screen sizes
  - Implement proper error handling for network failures
  - Add ProGuard rules for Auth0 SDK if using code obfuscation
  - Follow Google Play Store policies for authentication flows

  ### Security Considerations

  - Use `SecureCredentialsManager` for production credential storage
  - Implement certificate pinning for additional API security
  - Consider Android Keystore for enhanced credential protection
  - Enable biometric authentication for sensitive operations

  ### Performance Optimization

  - All Auth0 callbacks properly handle main thread dispatch
  - `LiveData` observers automatically manage lifecycle
  - App handles authentication state during configuration changes
  - Proper memory management with ViewBinding
</Accordion>

<Accordion title="Advanced Android Integration">
  ### Enhanced Credential Security

  Implement biometric authentication for credential access:

  ```kotlin AuthenticationManager.kt expandable lines
  class AuthenticationManager(private val context: Context) {
      
      private val credentialsManager: SecureCredentialsManager
      
      init {
          val authentication = AuthenticationAPIClient(auth0)
          val storage = SharedPreferencesStorage(context)
          credentialsManager = SecureCredentialsManager(context, authentication, storage)
          
          // Enable biometric authentication
          credentialsManager.requireAuthentication(
              context as AppCompatActivity,
              REQUEST_CODE_BIOMETRIC,
              "Biometric Authentication",
              "Please authenticate to access your account"
          )
      }
      
      companion object {
          private const val REQUEST_CODE_BIOMETRIC = 321
      }
  }
  ```

  ### ViewModel Integration

  Integrate with Android Architecture Components:

  ```kotlin UserViewModel.kt expandable lines
  class UserViewModel(application: Application) : AndroidViewModel(application) {
      
      private val authManager = AuthenticationManager(application)
      
      val isAuthenticated: LiveData<Boolean> = authManager.isAuthenticated
      val userProfile: LiveData<UserProfile?> = authManager.userProfile
      val isLoading: LiveData<Boolean> = authManager.isLoading
      val errorMessage: LiveData<String?> = authManager.errorMessage
      
      fun login() = authManager.login()
      fun logout() = authManager.logout()
      fun clearError() = authManager.clearError()
  }
  ```

  ### Custom Scopes and Audience

  Request specific scopes and audience for your API:

  ```kotlin AuthenticationManager.kt expandable lines
  fun login() {
      WebAuthProvider.login(auth0)
          .withScheme("https")
          .withScope("openid profile email offline_access read:posts")
          .withAudience("https://myapi.example.com")
          .withParameter("prompt", "login")
          .start(context as MainActivity, loginCallback)
  }
  ```

  ### Network Configuration

  Handle network security and certificate pinning:

  ```xml app/src/main/res/xml/network_security_config.xml expandable lines
  <?xml version="1.0" encoding="utf-8"?>
  <network-security-config>
      <domain-config>
          <domain includeSubdomains="true">your-auth0-domain.auth0.com</domain>
          <pin-set>
              <pin digest="SHA-256">AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=</pin>
          </pin-set>
      </domain-config>
  </network-security-config>
  ```

  Add to `AndroidManifest.xml`:

  ```xml
  <application
      android:networkSecurityConfig="@xml/network_security_config"
      ... />
  ```
</Accordion>