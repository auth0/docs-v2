---
description: Learn how to use the custom-phone-provider API object.
'og:image': https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
'og:title': 'Action Triggers: custom-phone-provider API Object'
'og:url': https://auth0.com/docs/
permalink: action-triggers-custom-phone-provider-api-object
title: 'Action Triggers: custom-phone-provider API Object'
'twitter:description': Learn how to use the custom-phone-provider API object.
'twitter:title': 'Action Triggers: custom-phone-provider API Object'
---
<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Phone messaging providers are currently in Early Access. To learn more about Auth0 releases, review [Product Release Stages](/docs/troubleshoot/product-lifecycle/product-release-stages).

</Callout>

The API object for the `custom-phone-provider` Actions trigger includes the following:

## `api.cache`

Store and retrieve data that persists across executions.

### `api.cache.delete(key)`

Delete a record describing a cached value at the supplied key if it exists.

Returns a `CacheWriteResult` object with type: `"success"` if a value was removed from the cache. A failed operation returns type: `"error"`. For errors, the returned object will have a code property that indicates the nature of the failure.

<table class="table">
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>key</code></td>
<td>
<p>
<em>String</em>. The key of the record stored in the cache.
            </p>
</td>
</tr>
</tbody>
</table>

### `api.cache.get(key)`

Retrieve a record describing a cached value at the supplied key, if it exists. If a record is found, the cached value can be found at the value property of the returned object.

Returns a cache record if an item is found in the cache for the supplied `key`. Cache records are objects with a `value` property holding the cached value as well as an `expires_at` property indicating the maximum expiry of the record in milliseconds since the Unix epoch.

**Important**: This cache is designed for short-lived, ephemeral data. Items may not be available in later transactions even if they are within their supplied their lifetime.

<table class="table">
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>key</code></td>
<td>
<p>
<em>String</em>. The key of the record stored in the cache.
            </p>
</td>
</tr>
</tbody>
</table>

### `api.cache.set(key, value, [options])`

Store or update a string value in the cache at the specified key.

Values stored in this cache are scoped to the Trigger in which they are set. They are subject to the [Actions Cache Limits](/docs/customize/actions/limitations).

Values stored in this way will have lifetimes of up to the specified `ttl` or `expires_at` values. If no lifetime is specified, a default of lifetime of 15 minutes will be used. Lifetimes may not exceed the maximum duration listed at [Actions Cache Limits](/docs/customize/actions/limitations).

`options.ttl`

Optional number. The time-to-live value of this cache entry in milliseconds. While cached values may be evicted earlier, they will never remain beyond the the supplied `ttl`.

Note: This value should not be supplied if a value was also provided for `expires_at`. If both options are supplied, the earlier expiry of the two will be used.

<table class="table">
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>key</code></td>
<td>
<p>
<em>String</em>. The key of the record stored in the cache.
            </p>
</td>
</tr>
<tr>
<td><code>value</code></td>
<td>
<p>
<em>String</em>. The value of the record to be stored.
            </p>
</td>
</tr>
<tr>
<td><code>options</code></td>
<td>
<p>
<em>Optional object</em>. Options for adjusting cache behavior.
            </p>
</td>
</tr>
<tr>
<td><code>options.expires_at</code></td>
<td>
<p>
              Optional number. The absolute expiry time in milliseconds since the unix epoch. While cached records may be evicted earlier, they will never remain beyond the the supplied <code>expires_at</code>.
            </p>
<p>
<b>Note:</b> This value should not be supplied if a value was also provided for <code>ttl</code>. If both options are supplied, the earlier expiry of the two will be used.
            </p>
</td>
</tr>
<tr></tr>
</tbody>
</table>

### `api.notification`

Informs if we should consider the notification event as to be retried or to be dropped.
See each of these methods for further details on the actual behaviour.
If several calls are made, only the last one is considered.

### `api.notification.drop(reason)`

When called, the notification event is considered failed without recovery.

We will log an error for this event [`(fn)`](/docs/deploy-monitor/logs/log-event-type-codes), but won't be sending it again to the action in the future.

If you need this notification event to be retried, consider calling `api.notification.retry` instead.

<table class="table">
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>reason</code></td>
<td>
<p>
<em>Optional String</em>. This will be part of the log entry, this will help you analyze the error further. Please note that this field is limited to 1024 characters and will be truncated if longer.
            </p>
</td>
</tr>
</tbody>
</table>

### `api.notification.retry(reason)`

When called, the notification event is considered failed, but recoverable.

We will log an error for this event [`(fn)`](/docs/deploy-monitor/logs/log-event-type-codes), but we will retry it up to 5 times in the next few minutes.

If you consider that this notification event should not be retried, consider calling `api.notification.drop` instead.

<table class="table">
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>reason</code></td>
<td>
<p>
<em>Optional String</em>. This will be part of the log entry, this will help you analyze the error further. Please note that this field is limited to 1024 characters and will be truncated if longer.
            </p>
</td>
</tr>
</tbody>
</table>