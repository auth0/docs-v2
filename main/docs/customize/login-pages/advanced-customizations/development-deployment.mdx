---
description: Learn about ACUL development and deployment
'og:image': https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
'og:title': ACUL Development and Deployment
'og:url': https://auth0.com/docs/
permalink: development-deployment
title: ACUL Development and Deployment
'twitter:description': Learn about ACUL development and deployment
'twitter:title': ACUL Development and Deployment
---

## ACUL development workflow

There are two primary modes for the development workflow of your ACUL screens, local and live tenant integration testing. 

### Local development
Local development with the **Universal Login Context Inspector** allows you to quickly iterate your screen without any delays and or backend dependencies. 

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">
The Universal Login Context Inspector is a utility that allows you to view and edit Universal Login context data as JSON. You can use it to see your customized Universal Login screens in real-time. 
</Callout>

To learn more, read ACUL Quickstart 

### Live tenant integration testing
Live tenant integration with the **Auth0 CLI** `acul` command allows for End-to-End testing and verifies integration with your live Auth0 tenant. 

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">
The Auth0 CLI `acul` command watches for file changes, rebuilds assets, and automatically updates the tenant. Use this for integration testing after the UI is largely complete, as each reload restarts the authentication flow.
</Callout>

To learn more, read ACUL Quickstart

## ACUL production deployment workflow 

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">
To follow this workflow, make sure you have: 
	* An Auth0 tenant configured with a custom domain
	* An AWS account with permissions to create IAM roles, S3 buckets, and configure CloudFront
	* A GitHub repository containing your custom login screens
</Callout>

The ACUL production deployment workflow is an automated workflow that deploys your ACUL screens. 

It utilizes GitHub Actions to automatically:


	* Builds your custom login screen application
		* The workflow reads the [config/deploy_config.yml](YOUR-LINK-HERE) file. If no screens are marked for deployment (all are false), the workflow stops.
		* If deployment targets are found, the workflow builds your ACUL application, for example using Vite, and compiles code into the dist/ directory.
	* Uploads your assets to AWS S3 
		* The workflow securely authenticates with AWS using OpenID Connect (OIDC). 
		* It uploads the contents of the dist/ directory to your S3 bucket.
	* Configures your Auth0 tenant 
		* The workflow uses the Auth0 CLI with your M2M application.
		* It maps each screen to the correct Auth0 prompt using the [config/screen-to-prompt-mapping.js](YOUR-LINK-HERE) file.
		* It updates the Auth0 screen customization settings to point to your assets at CloudFront CDN.

Once configured, a `git push` to the `main` branch or your project starts the GitHub workflow.

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">
To read a complete example of the ACUL production deployment workflow, read YOUR GITHUB REPOSITORY LINK HERE on Github.
</Callout>

### 1. Auth0 configuration

Create a [Machine-to-Machine](/docs/get-started/auth0-overview/create-applications/machine-to-machine-apps) application to grant permissions to the GitHub workflow to update tenant settings.

1. Navigate to [Auth0 Dashboard > Applications](https://manage.auth0.com/#/applications)
2. Select **Create Application**
3. Select **Machine to Machine Applications**
4. Under **Name**, add a descriptive name, for example: "GitHub ACUL Deployment"
5. Select **Create**
6. Under **Authorize Machine to Machine Application**, select **Auth0 Management API**
7. Select these specific permissions:
	* `read:branding`
	* `update:branding`
	* `read:prompts`
	* `update:prompts`
	* `read:custom_domains`
8. Select **Authorize**
9. Navigate to the **Settings** tab and note down:
	* `Domain`
	* `Client ID`
	* `Client Secret`

### 2. Upload and serve your assets with Amazon web services

To upload and serve your assets, you need an AWS S3 bucket and to set CloudFront as the CDN 

 * **Create an AWS S3 Bucket** This private bucket (Block all public access) will store your assets.
 * **Set Up a CloudFront Distribution** This CDN will securely serve your assets. It should be configured to use your S3 bucket as its Origin via Origin Access Control (OAC).

 <Callout icon="file-lines" color="#0EA5E9" iconType="regular">
* This IAM role must use Web Identity (OIDC), trusting `token.actions.githubusercontent.com`.
* The role needs a policy granting s3:PutObject, s3:DeleteObject, and `s3:ListBucket` permissions on your S3 bucket.
</Callout>

### 4. Configure your GitHub repository

To configure your GitHub repository:

1. Navigate to **GitHub > Settings** 
2. Select **Secrets and Variables** and then **Actions**
3. Select **New repository secret**

Add the following repository secrets:

	* `AWS_S3_ARN`: The ARN of the IAM role you created.
	* `S3_BUCKET_NAME`: The name of your S3 bucket.
	* `AWS_REGION`: The region where your S3 bucket is located. For example, us-east-1).
	* `S3_CDN_URL`: Your CloudFront distribution's domain name. For example, https://d1234abcdef.cloudfront.net). Do not add a trailing slash.
	* `AUTH0_DOMAIN`: Your Auth0 tenant domain.
	* `AUTH0_CLIENT_ID`: The Client ID from your M2M application.
	* `AUTH0_CLIENT_SECRET`: The Client Secret from your M2M application.

### 5. Configure your deployment
You can control which screens are deployed by editing the configuration files located in the .github/config/ directory:

* [config/deploy_config.yml](YOUR-LINK-HERE): Your main control panel. Set a screen to `true` to deploy it or `false` to skip it.
* [config/screen-to-prompt-mapping.js](YOUR-LINK-HERE): Maps your internal screen directory names. For example, `mfa-sms-challenge` to the official Auth0 prompt names, for example: `mfa-sms`.
* [config/context-configuration.js](YOUR-LINK-HERE): Defines which Auth0 context data (like branding settings) should be made available to your custom screens.
