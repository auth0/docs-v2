---
description: Learn about the credentials-exchange Action trigger's API object.
title: 'Actions Triggers: credentials-exchange - API Object'
---

The API object for the credentials-exchange Actions trigger includes:

## `api.access`

Control availability to the access token.

### `api.access.deny(code, reason)`

Mark the current token exchange as denied.

<ParamField body="code" type="string" required>
  The protocol-specific error code justifying the rejection of the login.


  Allowed values: `invalid_scope`, `invalid_request`, `server_error`
</ParamField>
<ParamField body="reason" type="string">
  A human-readable explanation for rejecting the access token grant.
</ParamField>

## `api.accessToken`

Request changes to the access token being issued.

### `api.accessToken.setCustomClaim(key, value)`

Set a custom claim on the Access Token that will be issed.

<ParamField body="key" type="string" required>
  Name of the claim (note that this may need to be a fully-qualified url).
</ParamField>
<ParamField body="value" type="unknown" required>
  The value of the claim.
</ParamField>

## `api.cache`

Make changes to the cache.

### `api.cache.delete(key)`

Delete a record describing a cached value at the supplied
key if it exists.

<ParamField body="key" type="string" required>
  The key of the cache record to delete.
</ParamField>

### `api.cache.get(key)`

Retrieve a record describing a cached value at the supplied key,
if it exists. If a record is found, the cached value can be found
at the `value` property of the returned object.

<ParamField body="key" type="string" required>
  The key of the record stored in the cache.
</ParamField>

### `api.cache.set(key, value, options)`

Store or update a string value in the cache at the specified key.

Values stored in this cache are scoped to the Trigger in which they
are set. They are subject to the [Actions Cache Limits](https://auth0.com/docs/customize/actions/limitations).

Values stored in this way will have lifetimes of _up to_ the specified
`ttl` or `expires_at` values. If no lifetime is specified, a default of
lifetime of 24 hours will be used. Lifetimes may not exceed the maximum
duration listed at [Actions Cache Limits](https://auth0.com/docs/customize/actions/limitations).

**Important**: This cache is designed for short-lived, ephemeral data. Items may not be
available in later transactions even if they are within their supplied their lifetime.

<ParamField body="key" type="string" required>
  The key of the record to be stored.
</ParamField>
<ParamField body="value" type="string" required>
  The value of the record to be stored.
</ParamField>
<ParamField body="options" type="cachesetoptions">
  Options for adjusting cache behavior.
  <Expandable title="options properties" defaultOpen>
    <ResponseField name="expires_at" type="number">
      The absolute expiry time in milliseconds since the unix epoch.
      While cached records may be evicted earlier, they will
      never remain beyond the the supplied `expires_at`.
      
      *Note*: This value should not be supplied if a value was also
      provided for `ttl`. If both options are supplied, the
      earlier expiry of the two will be used.
    </ResponseField>
    <ResponseField name="ttl" type="number">
      The time-to-live value of this cache entry in milliseconds.
      While cached values may be evicted earlier, they will
      never remain beyond the the supplied `ttl`.
      
      *Note*: This value should not be supplied if a value was also
      provided for `expires_at`. If both options are supplied, the
      earlier expiry of the two will be used.
    </ResponseField>
  </Expandable>
</ParamField>
