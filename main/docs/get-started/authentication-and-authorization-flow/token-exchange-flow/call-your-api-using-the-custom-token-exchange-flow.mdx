---
description: Learn how to call your API using the Custom Token Exchange Flow.
'og:image': https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
'og:title': Call Your API Using the Custom Token Exchange Flow
'og:url': https://auth0.com/docs/
permalink: call-your-api-using-the-custom-token-exchange-flow
sidebarTitle: Call Your API Using the Custom Token Exchange Flow
title: Call Your API Using the Custom Token Exchange Flow
'twitter:description': Learn how to call your API using the Custom Token Exchange Flow.
'twitter:title': Call Your API Using the Custom Token Exchange Flow
---

To use Custom Token Exchange, make a `POST` request to the `/oauth/token` endpoint with the following parameters:

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">
Remember that `subject_tokens` used with Custom Token Exchange can be any token format or type, as long as your Action code can interpret them.
Each `subject_token_type` maps to a Custom Token Exchange Profile and is associated with an Action that will be executed to control that transaction.
</Callout>

<table class="table"><thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>grant_type</code></td>
<td>For Custom Token Exchange, use <code>urn:ietf:params:oauth:grant-type:token-exchange</code>.</td>
</tr>
<tr>
<td><code>subject_token_type</code></td>
<td>The type of the subject token. For Custom Token Exchange, this can be any URI scoped under your own ownership, such as `http://acme.com/legacy-token` or <code>urn:acme:legacy-token</code>.<br/><br/>The following namespaces are reserved and cannot be used:<ul><li>`http://auth0.com`</li><li>`https://auth0.com`</li><li>`http://okta.com`</li><li>`https://okta.com`</li><li><code>urn:ietf</code></li><li><code>urn:auth0</code></li><li><code>urn:okta</code></li></ul></td>
</tr>
<tr>
<td><code>subject_token</code></td>
<td>The subject token, which your action should validate and use to identify the user.</td>
</tr>
<tr>
<td><code>client_id</code></td>
<td>The client ID of the application you are using for the Token Exchange. As for other grant types, you can also pass the client ID in the Authorization header using HTTP Basic Auth.</td>
</tr>
<tr>
<td><code>client_secret</code></td>
<td>The client secret of the application you are using for the Token Exchange. As for other grant types, you can also pass the client secret in the Authorization header using HTTP Basic Auth.<br/><br/>Other alternatives are also available as explained in <a href="https://auth0.com/docs/api/authentication#authentication-methods">Auth0 Authentication API reference docs</a>.<br/><br/>Note Custom Token Exchange can be used by public Applications. Make sure to read <a href="#attack-protection">Attack Protection</a> in that case.</td>
</tr>
<tr>
<td><code>audience</code></td>
<td>The API identifier defined in Auth0.</td>
</tr>
<tr>
<td><code>scope</code></td>
<td>The OAuth2 scope parameter.</td>
</tr>
</tbody>
</table>

Other extension parameters are ignored, although they are included in the `event.request.body` in the corresponding Action.

## Sample request

```bash lines
curl --location 'https://{yourDomain}/oauth/token' \
--header 'Content-Type: application/x-www-form-urlencoded' \
--data-urlencode 'grant_type=urn:ietf:params:oauth:grant-type:token-exchange' \
--data-urlencode 'audience=https://api.acme.com' \
--data-urlencode 'scopes=openid offline_access acme-scope1 acme-scope2' \
--data-urlencode 'subject_token_type=urn:acme:external-idp-migration' \
--data-urlencode 'subject_token=t8e7S2D9trQm73e .... iqBR3GjxDtbDVjpfQU' \
--data-urlencode 'client_id=<YOUR_CLIENT_ID>' \
--data-urlencode 'client_secret=<YOUR_CLIENT_SECRET>'
--data-urlencode 'organization=periscope-acme'
```