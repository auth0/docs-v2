---
description: Learn about best practices for custom database connections and database
  action scripts.
'og:image': https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
'og:title': Custom Database Connection and Action Script Best Practices
'og:url': https://auth0.com/docs/
permalink: custom-database-connections-scripts
title: Custom Database Connection and Action Script Best Practices
'twitter:description': Learn about best practices for custom database connections
  and database action scripts.
'twitter:title': Custom Database Connection and Action Script Best Practices
---
<Card title="Availability varies by Auth0 plan">

Both your specific login implementation and your Auth0 plan or custom agreement affect whether this feature is available. To learn more, read [Pricing](https://auth0.com/pricing).

</Card>

Extensibility allows admins to add custom login in Auth0 as a mechanism for building out last-mile solutions for Identity and Access Management (IdAM). Each extensibility type uses Node.js and runs on the Auth0 platform in an Auth0 tenant.

Auth0 Extensibility comes in several forms:

* [Actions](/docs/customize/actions): Actions are secure, tenant-specific, versioned functions written in Node.js that execute at certain points within the Auth0 platform. Use actions to customize and extend Auth0's capabilities with custom login.
* [Rules](/docs/customize/rules): Run when artifacts for user authenticity are generated. For example:

  + ID Token in OpenID Connect (OIDC)
  + Access Token in OAuth 2.0
  + An assertion in SAML
* [Hooks](/docs/customize/hooks): Provide additional extensibility when there is an exchange of non-user-related artifacts and when user identities are created such as pre-user registration and post-user registration.

Below are some best practices for using Auth0 Extensibility products:

* Scripts for both custom database connections and migrations are used to integrate with an existing user identity store or where automatic user migration from an independent or legacy identity store are required. For more more configuration information, review [Create Custom Database Connections.](/docs/authenticate/database-connections/custom-db/create-db-connection)
* To avoid user duplications, set a consistent `user_id` on each returned user profile. Additionally, ensure that you don't return the same email address for two different users in the `get_user` or `login` script and make sure both scripts return the same user.
* To support backwards compatibility, `app_metadata` is called `metadata` in custom DB scripts. Since data transfer can be interrupted, use an Action to fetch the metadata that should be in `app_metadata` or `user_metadata` if it's missing.
* Ensure you restrict access to the <Tooltip tip="Audience: Unique identifier of the audience for an issued token. Named aud in a token, its value contains the ID of either an application (Client ID) for an ID Token or an API (API Identifier) for an Access Token." cta="View Glossary" href="/docs/glossary?term=audience">audience</Tooltip> with an [Action](/docs/customize/actions).

Auth0 Extensibility is a comprehensive and sophisticated capability to tailor IdAM operations, but can also expose your database to improper or unintended use. The documents in this section highlight best practices to both designers and implementers; we recommend reading them in their entirety at least once, even if you've already started your journey with Auth0.

## Learn more

* [Custom Database Connection Anatomy Best Practices](/docs/authenticate/database-connections/custom-db/custom-database-connections-scripts/anatomy)
* [Custom Database Action Script Environment Best Practices](/docs/authenticate/database-connections/custom-db/custom-database-connections-scripts/environment)
* [Custom Database Action Script Execution Best Practices](/docs/authenticate/database-connections/custom-db/custom-database-connections-scripts/execution)
* [Custom Database Connection Security Best Practices](/docs/authenticate/database-connections/custom-db/custom-database-connections-scripts/connection-security)
* [Error Handling Best Practices](/docs/troubleshoot/error-handling-best-practices)
* [Rules Testing Best Practices](/docs/rules-best-practices/rules-testing-best-practices)