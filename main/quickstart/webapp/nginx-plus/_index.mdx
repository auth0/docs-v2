---
title: NGINX Plus

---
import {AuthCodeBlock} from "/snippets/AuthCodeBlock.jsx";
import { Recipe, Content, Section, SideMenu, SideMenuSectionItem, SignUpForm } from "/snippets/recipe.jsx";
import { LoggedInForm } from "/snippets/Login.jsx";
import Nginx from "/snippets/quickstart/webapp/nginx-plus/nginx.conf.mdx";
import OpenidConnectionConfiguration from "/snippets/quickstart/webapp/nginx-plus/openid_connection_configuration.conf.mdx";
import OpenidConnect from "/snippets/quickstart/webapp/nginx-plus/openid_connect.server_conf.mdx";
import Frontend from "/snippets/quickstart/webapp/nginx-plus/frontend.conf.mdx";

export const sections = [
  { id: "system-requirements", title: "System requirements" },
  { id: "install-and-enable-nginx-plus-module-njs-module", title: "Install and enable nginx-plus-module-njs module" },
  { id: "checkout-nginx-openid-connect-template-repository", title: "Checkout nginx-openid-connect template repository" },
  { id: "configure-nginx-with-your-auth0-application-details", title: "Configure NGINX with your Auth0 application details" },
  { id: "configure-accept-encoding-header-for-token-and-jwks-endpoints", title: "Configure Accept-Encoding header for token and JWKS endpoints" },
  { id: "copy-openid-connect-configuration-files", title: "Copy OpenID Connect configuration files" },
  { id: "configure-auth0-application-settings", title: "Configure Auth0 application settings" },
  { id: "pass-headers-to-upstream-application", title: "Pass headers to upstream application" }
]

<Recipe isSingleColumn>
  <Content>
    This tutorial demonstrates how to use the nginx-openid-connect module to add authentication and authorization to
        your NGINX server. We recommend that you log in to follow this quickstart with examples configured for your account.

    <Section id={sections[0].id} title={sections[0].title} stepNumber="1" isSingleColumn>
      This tutorial and seed project have been tested with the following:

      - NGINX Plus R24
    
    <LoggedInForm />
</Section>

    <Section id={sections[1].id} title={sections[1].title} stepNumber="2" isSingleColumn>
      First, you need to install the `nginx-plus-module-njs` module for NGINX Plus.

      Follow the dynamic module installation guide to install packages in your host OS.

      For Linux distributions that use `yum` package manager, you can install the module like so:

      <AuthCodeBlock icon="file-code" language="sh" lines="true">
      AUTH0_SECRET='use [openssl rand -hex 32] to generate a 32 bytes value'
      APP_BASE_URL='http://localhost:3000'
      AUTH0_DOMAIN='https://{USER_DOMAIN}'
      AUTH0_CLIENT_ID='{USER_CLIENT_ID}'
      AUTH0_CLIENT_SECRET='{USER_CLIENT_SECRET}'
      </AuthCodeBlock>

      Once you've installed it, you need to enable it for NGINX by adding the following line near the top of your
            `/etc/nginx/nginx.conf` file:

      <AuthCodeBlock icon="file-code" language="sh" lines="true">
      AUTH0_SECRET='use [openssl rand -hex 32] to generate a 32 bytes value'
      APP_BASE_URL='http://localhost:3000'
      AUTH0_DOMAIN='https://{USER_DOMAIN}'
      AUTH0_CLIENT_ID='{USER_CLIENT_ID}'
      AUTH0_CLIENT_SECRET='{USER_CLIENT_SECRET}'
      </AuthCodeBlock>
    
    <CodeGroup>
            <Nginx/>
            <OpenidConnectionConfiguration/>
            <OpenidConnect/>
            <Frontend/>
          </CodeGroup>
</Section>

    <Section id={sections[2].id} title={sections[2].title} stepNumber="3" isSingleColumn>
      Clone the `nginx-openid-connect` repository. This repository comes with a template configuration.

      <AuthCodeBlock icon="file-code" language="sh" lines="true">
      AUTH0_SECRET='use [openssl rand -hex 32] to generate a 32 bytes value'
      APP_BASE_URL='http://localhost:3000'
      AUTH0_DOMAIN='https://{USER_DOMAIN}'
      AUTH0_CLIENT_ID='{USER_CLIENT_ID}'
      AUTH0_CLIENT_SECRET='{USER_CLIENT_SECRET}'
      </AuthCodeBlock>
    
    <LoggedInForm />
</Section>

    <Section id={sections[3].id} title={sections[3].title} stepNumber="4" isSingleColumn>
      Run the configure.sh script inside the nginx-openid-connect folder to populate the template configuration for
            your Auth0 application:

      <AuthCodeBlock icon="file-code" language="sh" lines="true">
      AUTH0_SECRET='use [openssl rand -hex 32] to generate a 32 bytes value'
      APP_BASE_URL='http://localhost:3000'
      AUTH0_DOMAIN='https://{USER_DOMAIN}'
      AUTH0_CLIENT_ID='{USER_CLIENT_ID}'
      AUTH0_CLIENT_SECRET='{USER_CLIENT_SECRET}'
      </AuthCodeBlock>


      Next, add your [tenant’s logout URL](https://auth0.com/docs/api/authentication#auth0-logout) to your
            `openid_connect_configuration.conf` file.
    
    <CodeGroup>
            <OpenidConnectionConfiguration/>
            <Nginx/>
            <OpenidConnect/>
            <Frontend/>
          </CodeGroup>
</Section>

    <Section id={sections[4].id} title={sections[4].title} stepNumber="5" isSingleColumn>
      Add the `Accept-Encoding` header and set the value to `gzip` in your
            `openid_connect.server_conf` file.
    
    <CodeGroup>
            <OpenidConnect/>
            <Nginx/>
            <OpenidConnectionConfiguration/>
            <Frontend/>
          </CodeGroup>
</Section>

    <Section id={sections[5].id} title={sections[5].title} stepNumber="6" isSingleColumn>
      Copy your four configuration files to the `conf.d` folder.

      <AuthCodeBlock icon="file-code" language="sh" lines="true">
      AUTH0_SECRET='use [openssl rand -hex 32] to generate a 32 bytes value'
      APP_BASE_URL='http://localhost:3000'
      AUTH0_DOMAIN='https://{USER_DOMAIN}'
      AUTH0_CLIENT_ID='{USER_CLIENT_ID}'
      AUTH0_CLIENT_SECRET='{USER_CLIENT_SECRET}'
      </AuthCodeBlock>

    
    <LoggedInForm />
</Section>

    <Section id={sections[6].id} title={sections[6].title} stepNumber="7" isSingleColumn>
      In the Auth0 Dashboard:

      1. Go to **Applications** > **Applications**, and then select your application from the list.
      2. Switch to the **Settings** view.
      3. In the **Application URIs** section, add `https://dev-gja8kxz4ndtex3rq.us.auth0.com/_codexch`
                to **Allowed Callback URLs**.
      4. Switch to the **Credentials** view.

      In the **Application Authentication** section, set **Authentication Method** to None.
    
    <LoggedInForm />
</Section>

    <Section id={sections[7].id} title={sections[7].title} stepNumber="8" isSingleColumn>
      Add additional headers from the ID token (JWT) to the upstream target in your
            `/etc/nginx/conf.d/frontend.conf` file.
    
    <CodeGroup>
            <Frontend/>
            <Nginx/>
            <OpenidConnectionConfiguration/>
            <OpenidConnect/>
          </CodeGroup>
</Section>

    ## Next Steps

    Excellent work! If you made it this far, you should now have login, logout, and user profile information running in your application.

    This concludes our quickstart tutorial, but there is so much more to explore. To learn more about what you can do with Auth0, check out:

    *   [Auth0 Dashboard](https://manage.auth0.com/dashboard/us/dev-gja8kxz4ndtex3rq) - Learn how to configure and manage your Auth0 tenant and applications
    *   [Auth0 Marketplace](https://marketplace.auth0.com/) - Discover integrations you can enable to extend Auth0’s functionality
  </Content>

  
</Recipe>
