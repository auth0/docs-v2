---
title: Add Authorization to Your Go Application
sidebarTitle: Go API

---
import {AuthCodeBlock} from "/snippets/AuthCodeBlock.jsx";
import { Recipe, Content, Section, SideMenu, SideMenuSectionItem, SignUpForm } from "/snippets/recipe.jsx";
import { LoggedInForm } from "/snippets/Login.jsx";
import Jwt from "/snippets/quickstart/backend/golang/jwt.go.mdx";
import Main from "/snippets/quickstart/backend/golang/main.go.mdx";

export const sections = [
  { id: "define-permissions", title: "Define permissions" },
  { id: "install-dependencies", title: "Install dependencies" },
  { id: "configure-your-application", title: "Configure your application" },
  { id: "create-a-middleware-to-validate-access-tokens", title: "Create a middleware to validate access tokens" },
  { id: "protect-api-endpoints", title: "Protect API endpoints" }
]

<Recipe isSingleColumn>
  <Content>
    This guide demonstrates how to integrate Auth0 with any new or existing Go API application using the [go-jwt-middleware](https://github.com/auth0/go-jwt-middleware)
        package.

    If you have not created an API in your Auth0 dashboard yet, use the interactive selector to create a new Auth0 API
        or select an existing API for your project.

    To set up your first API through the Auth0 dashboard, review our getting started guide.

    Each Auth0 API uses the API Identifier, which your application needs to validate the access token.

    <Info>
    **New to Auth0?** Learn how Auth0 works and
                  read about implementing API authentication and
                    authorization using the OAuth 2.0 framework.
    </Info>

    <Section id={sections[0].id} title={sections[0].title} stepNumber="1" isSingleColumn>
      Permissions let you define how resources can be accessed on behalf of the user with a given access token. For
            example, you might choose to grant read access to the `messages` resource if users have the manager
            access level, and a write access to that resource if they have the administrator access level.

      You can define allowed permissions in the **Permissions** view of the Auth0 Dashboard's [APIs](https://manage.auth0.com/#/apis) section. The following
            example uses the `read:messages` scope.

      <Frame>
        <img src="/images/cdy7uua7fh8z/1s3Yp5zqJiKiSWqbPSezNO/e61793a2822d095666002c3f65c71ac2/configure-permissions.png" />
      </Frame>
    
    <LoggedInForm />
</Section>

    <Section id={sections[1].id} title={sections[1].title} stepNumber="2" isSingleColumn>
      Add a `go.mod` file to list all the necessary dependencies.

      <AuthCodeBlock filename="Go" icon="file-code" language="go" lines="true">
      AUTH0_SECRET='use [openssl rand -hex 32] to generate a 32 bytes value'
      APP_BASE_URL='http://localhost:3000'
      AUTH0_DOMAIN='https://{USER_DOMAIN}'
      AUTH0_CLIENT_ID='{USER_CLIENT_ID}'
      AUTH0_CLIENT_SECRET='{USER_CLIENT_SECRET}'
      </AuthCodeBlock>


      Download dependencies by running the following shell command:

      <AuthCodeBlock icon="file-code" language="bash" lines="true">
      AUTH0_SECRET='use [openssl rand -hex 32] to generate a 32 bytes value'
      APP_BASE_URL='http://localhost:3000'
      AUTH0_DOMAIN='https://{USER_DOMAIN}'
      AUTH0_CLIENT_ID='{USER_CLIENT_ID}'
      AUTH0_CLIENT_SECRET='{USER_CLIENT_SECRET}'
      </AuthCodeBlock>

    
    <LoggedInForm />
</Section>

    <Section id={sections[2].id} title={sections[2].title} stepNumber="3" isSingleColumn>
      Create a `.env` file within the root of your project directory to store the app configuration. Then,
            fill in the environment variables:

      To configure this snippet

      <AuthCodeBlock icon="file-code" language="env" lines="true">
      AUTH0_SECRET='use [openssl rand -hex 32] to generate a 32 bytes value'
      APP_BASE_URL='http://localhost:3000'
      AUTH0_DOMAIN='https://{USER_DOMAIN}'
      AUTH0_CLIENT_ID='{USER_CLIENT_ID}'
      AUTH0_CLIENT_SECRET='{USER_CLIENT_SECRET}'
      </AuthCodeBlock>

    
    <LoggedInForm />
</Section>

    <Section id={sections[3].id} title={sections[3].title} stepNumber="4" isSingleColumn>
      The `EnsureValidToken` middleware function validates the access token. You can apply this function to
            any endpoints you wish to protect. If the token is valid, the endpoint releases the resources. If the token is not
            valid, the API returns a `401 Authorization` error.

      Set up the **go-jwt-middleware** middleware to verify access tokens from incoming requests.

      By default, your API will be set up to use RS256 as the algorithm for signing tokens. Since RS256 works by using
            a private/public keypair, tokens can be verified against the public key for your Auth0 account. This public key is
            accessible at `https://dev-gja8kxz4ndtex3rq.us.auth0.com/.well-known/jwks.json`.

      Include a mechanism to check that the token has sufficient **scope** to access the requested resources.

      Create a function `HasScope` to check and ensure the access token has the correct scope before
            returning a successful response.
    
    <CodeGroup>
          <Jwt />
          <Main />
        </CodeGroup>
</Section>

    <Section id={sections[4].id} title={sections[4].title} stepNumber="5" isSingleColumn>
      In this example, create an `/api/public` endpoint that does not use the `EnsureToken`
            middleware as it is accessible to non-authenticated requests.

      Create an `/api/private` endpoint that requires the `EnsureToken` middleware as it is only
            available to authenticated requests containing an access token with no additional scope.

      Create an `/api/private-scoped` endpoint that requires the `EnsureToken` middleware and
            `HasScope` as it is only available for authenticated requests containing an access token with the
            `read:messages` scope granted.

      <Info>
      Only the `read:messages` scope is checked by the `HasScope` function. You may
                      want to extend it or make it a standalone middleware that accepts multiple scopes to fit your use case.
      </Info>

      ### Make a Call to Your API

      To make calls to your API, you need an Access Token. You can get an Access Token for testing purposes from the
            **Test** view in your [API
              settings](https://manage.auth0.com/#/apis).

      <Frame>
        <img src="/images/cdy7uua7fh8z/6jeVBuypOGX5qMRXeJn5ow/5e79037f6c852d2043789d622bdb9562/Quickstart_Example_App_-_English.png" />
      </Frame>

      Provide the Access Token as an `Authorization` header in your requests.

      <CodeGroup>
      <AuthCodeBlock filename="cURL" icon="file-code" language="bash" lines="true">
      AUTH0_SECRET='use [openssl rand -hex 32] to generate a 32 bytes value'
      APP_BASE_URL='http://localhost:3000'
      AUTH0_DOMAIN='https://{USER_DOMAIN}'
      AUTH0_CLIENT_ID='{USER_CLIENT_ID}'
      AUTH0_CLIENT_SECRET='{USER_CLIENT_SECRET}'
      </AuthCodeBlock>

      <AuthCodeBlock filename="C#" icon="file-code" language="csharp" lines="true">
      AUTH0_SECRET='use [openssl rand -hex 32] to generate a 32 bytes value'
      APP_BASE_URL='http://localhost:3000'
      AUTH0_DOMAIN='https://{USER_DOMAIN}'
      AUTH0_CLIENT_ID='{USER_CLIENT_ID}'
      AUTH0_CLIENT_SECRET='{USER_CLIENT_SECRET}'
      </AuthCodeBlock>

      <AuthCodeBlock filename="Go" icon="file-code" language="go" lines="true">
      AUTH0_SECRET='use [openssl rand -hex 32] to generate a 32 bytes value'
      APP_BASE_URL='http://localhost:3000'
      AUTH0_DOMAIN='https://{USER_DOMAIN}'
      AUTH0_CLIENT_ID='{USER_CLIENT_ID}'
      AUTH0_CLIENT_SECRET='{USER_CLIENT_SECRET}'
      </AuthCodeBlock>

      <AuthCodeBlock filename="Java" icon="file-code" language="java" lines="true">
      AUTH0_SECRET='use [openssl rand -hex 32] to generate a 32 bytes value'
      APP_BASE_URL='http://localhost:3000'
      AUTH0_DOMAIN='https://{USER_DOMAIN}'
      AUTH0_CLIENT_ID='{USER_CLIENT_ID}'
      AUTH0_CLIENT_SECRET='{USER_CLIENT_SECRET}'
      </AuthCodeBlock>

      <AuthCodeBlock filename="Node.JS" icon="file-code" language="javascript" lines="true">
      AUTH0_SECRET='use [openssl rand -hex 32] to generate a 32 bytes value'
      APP_BASE_URL='http://localhost:3000'
      AUTH0_DOMAIN='https://{USER_DOMAIN}'
      AUTH0_CLIENT_ID='{USER_CLIENT_ID}'
      AUTH0_CLIENT_SECRET='{USER_CLIENT_SECRET}'
      </AuthCodeBlock>

      <AuthCodeBlock filename="Obj-C" icon="file-code" language="obj-c" lines="true">
      AUTH0_SECRET='use [openssl rand -hex 32] to generate a 32 bytes value'
      APP_BASE_URL='http://localhost:3000'
      AUTH0_DOMAIN='https://{USER_DOMAIN}'
      AUTH0_CLIENT_ID='{USER_CLIENT_ID}'
      AUTH0_CLIENT_SECRET='{USER_CLIENT_SECRET}'
      </AuthCodeBlock>

      <AuthCodeBlock filename="PHP" icon="file-code" language="php" lines="true">
      AUTH0_SECRET='use [openssl rand -hex 32] to generate a 32 bytes value'
      APP_BASE_URL='http://localhost:3000'
      AUTH0_DOMAIN='https://{USER_DOMAIN}'
      AUTH0_CLIENT_ID='{USER_CLIENT_ID}'
      AUTH0_CLIENT_SECRET='{USER_CLIENT_SECRET}'
      </AuthCodeBlock>

      <AuthCodeBlock filename="Python" icon="file-code" language="python" lines="true">
      AUTH0_SECRET='use [openssl rand -hex 32] to generate a 32 bytes value'
      APP_BASE_URL='http://localhost:3000'
      AUTH0_DOMAIN='https://{USER_DOMAIN}'
      AUTH0_CLIENT_ID='{USER_CLIENT_ID}'
      AUTH0_CLIENT_SECRET='{USER_CLIENT_SECRET}'
      </AuthCodeBlock>

      <AuthCodeBlock filename="Ruby" icon="file-code" language="ruby" lines="true">
      AUTH0_SECRET='use [openssl rand -hex 32] to generate a 32 bytes value'
      APP_BASE_URL='http://localhost:3000'
      AUTH0_DOMAIN='https://{USER_DOMAIN}'
      AUTH0_CLIENT_ID='{USER_CLIENT_ID}'
      AUTH0_CLIENT_SECRET='{USER_CLIENT_SECRET}'
      </AuthCodeBlock>

      <AuthCodeBlock filename="Swift" icon="file-code" language="swift" lines="true">
      AUTH0_SECRET='use [openssl rand -hex 32] to generate a 32 bytes value'
      APP_BASE_URL='http://localhost:3000'
      AUTH0_DOMAIN='https://{USER_DOMAIN}'
      AUTH0_CLIENT_ID='{USER_CLIENT_ID}'
      AUTH0_CLIENT_SECRET='{USER_CLIENT_SECRET}'
      </AuthCodeBlock>
      </CodeGroup>

      <Note>
      ##### Checkpoint

      Now that you have configured your application, run your application and verify that:

      - `GET /api/public`is available for non-authenticated requests.
      - `GET /api/private`is available for authenticated requests.
      - `GET /api/private-scoped`is available for authenticated requests containing an access
                        token with the `read:messages`scope.
      </Note>
    
    <CodeGroup>
          <Main />
          <Jwt />
        </CodeGroup>
</Section>

    ## Next Steps

    Excellent work! If you made it this far, you should now have login, logout, and user profile information running in your application.

    This concludes our quickstart tutorial, but there is so much more to explore. To learn more about what you can do with Auth0, check out:

    *   [Auth0 Dashboard](https://manage.auth0.com/dashboard/us/dev-gja8kxz4ndtex3rq) - Learn how to configure and manage your Auth0 tenant and applications
    *   [go-jwt-middleware SDK](https://github.com/auth0/go-jwt-middleware) - Explore the SDK used in this tutorial more fully
    *   [Auth0 Marketplace](https://marketplace.auth0.com/) - Discover integrations you can enable to extend Auth0’s functionality
  </Content>

  
</Recipe>
