---
title: "Plugiciel WordPress Extend Login by Auth0"
permalink: "extend-login-by-auth0"
'description': "Comment étendre les fonctionnalités du plugiciel Login by Auth0 WordPress avec des appels, des filtres et des fonctions."
'og:title': "Plugiciel WordPress Extend Login by Auth0"
'og:description': "Comment étendre les fonctionnalités du plugiciel Login by Auth0 WordPress avec des appels, des filtres et des fonctions."
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Plugiciel WordPress Extend Login by Auth0"
'twitter:description': "Comment étendre les fonctionnalités du plugiciel Login by Auth0 WordPress avec des appels, des filtres et des fonctions."
---

WordPress plugins can be extended to fit your specific requirements by using actions and filters to run custom code at specific points during runtime. This document outlines the existing hooks in the Login by Auth0 plugin. We’re happy to review and approve new filters and actions that help you integrate even further in this plugin. To learn more, read the Contributing section in the [ReadMe in the plugin’s GitHub repository](https://github.com/auth0/wp-auth0/blob/master/README.md).

## WordPress Actions

[WordPress Plugin Handbook: Actions sur wordpress.org](https://developer.wordpress.org/plugins/hooks/actions/) Vous pouvez aussi [voir des exemples dans le référentiel GitHub](https://github.com/auth0/wp-auth0/tree/master/examples).

### auth0_before_login

Cette action s’exécute dans `WP_Auth0_LoginManager` après l’authentification réussie d’un utilisateur, mais avant qu’il ne soit connecté à WordPress. Elle peut être utilisée pour arrêter le processus de connexion si nécessaire, en utilisant `wp_die()`Vous pouvez [en voir un exemple dans le référentiel GitHub](https://github.com/auth0/wp-auth0/blob/master/examples/auth0_before_login.php).

### auth0_user_login

Cette action s’exécute dans `WP_Auth0_LoginManager`Vous pouvez en [voir un exemple dans le référentiel GitHub](https://github.com/auth0/wp-auth0/blob/master/examples/auth0_user_login.php).

### wpa0_user_created

Cette action s’exécute dans `WP_Auth0_Users`Vous pouvez [en voir un exemple dans le référentiel GitHub](https://github.com/auth0/wp-auth0/blob/master/examples/wpa0_user_created.php).

## Filtres

Les filtres de WordPress exécutent également du code personnalisé à des moments précis pendant le traitement, mais renvoient toujours une valeur modifiée du même type que celle passée. Pour en savoir plus sur les filtres, voir [WordPress Plugin Handbook: Filters on wordpress.org](https://developer.wordpress.org/plugins/hooks/filters/)Vous pouvez aussi [voir des exemples dans le référentiel GitHub](https://github.com/auth0/wp-auth0/tree/master/examples).

### auth0_create_user_data

Ce filtre permet de modifier les données utilisateur lors de la création d’un utilisateur dans WordPress à partir d’un utilisateur Auth0 entrant. Il reçoit deux paramètres :

* `$user_data` : les données utilisateur analysées depuis le profil Auth0.
* `$userinfo` : le profil utilisateur Auth0.

Ce filtre doit toujours renvoyer les données qui seront passées à la fonction `wp_insert_user()` principale. Vous pouvez [en voir un exemple dans le référentiel GitHub](https://github.com/auth0/wp-auth0/blob/master/examples/auth0_create_user_data.php).

### auth0_get_wp_user

Ce filtre est appelé une fois que le plugiciel a trouvé l’utilisateur concerné par la connexion (en se basant sur l’`user_id` Auth0) Vous pouvez [en voir un exemple dans le référentiel GitHub](https://github.com/auth0/wp-auth0/blob/master/examples/auth0_get_wp_user.php).

Si le filtre renvoie une valeur nulle, il recherchera par adresse courriel. Pour en savoir plus, voir [Intégrer avec WordPress](/docs/fr-ca/customize/integrations/cms/wordpress-plugin/integrate-with-wordpress).

### auth0_verify_email_page

Ce filtre s’exécute dans `WP_Auth0_Email_Verification` pour modifier le code HTML présenté lorsqu’un utilisateur qui se connecte a besoin de vérifier son adresse courriel avant de pouvoir accéder au site. Notez que ce code HTML est passé à `wp_die()`, où il est modifié avant d’être affiché (voir la définition `_default_wp_die_handler()` Vous pouvez [en voir un exemple dans le référentiel GitHub](https://github.com/auth0/wp-auth0/blob/master/examples/auth0_verify_email_page.php).

### auth0_get_auto_login_connection

Ce filtre est utilisé dans `WP_Auth0_LoginManager`Vous pouvez [en voir un exemple dans le référentiel GitHub](https://github.com/auth0/wp-auth0/blob/master/examples/auth0_get_auto_login_connection.php).

### wp_auth0_get_option

Vous pouvez [en voir un exemple dans le référentiel GitHub](https://github.com/auth0/wp-auth0/blob/master/examples/wp_auth0_get_option.php).

### auth0_migration_ws_authenticated

Ce filtre est utilisé dans `WP_Auth0_Routes` Vous pouvez [en voir un exemple dans le référentiel GitHub](https://github.com/auth0/wp-auth0/blob/master/examples/auth0_migration_ws_authenticated.php).

### wpa0_should_create_user

Ce filtre est utilisé dans `WP_Auth0_Users` lorsqu’il faut décider s’il faut créer un utilisateur. La valeur initiale passée est `TRUE`. Si, pour une raison quelconque, `FALSE` est renvoyé, l’inscription sera rejetée et l’utilisateur concerné verra un message d’erreur (`WP_Auth0_UsersRepo::create()`). Vous pouvez [en voir un exemple dans le référentiel GitHub](https://github.com/auth0/wp-auth0/blob/master/examples/wpa0_should_create_user.php).

### auth0_login_css

Ce filtre permet de modifier le code CSS de la page de connexion, dont le gadget logiciel de connexion lui-même. Ce filtre s’exécute avant récupération du code CSS depuis la page des paramètres wp-admin. Vous pouvez [en voir un exemple dans le référentiel GitHub](https://github.com/auth0/wp-auth0/blob/master/examples/auth0_login_css.php).

### auth0_login_form_tpl

Filtre le modèle utilisé pour le formulaire de connexion Auth0. Un chemin vers un fichier contenant du code HTML qui remplace le contenu de `wp-content/plugins/auth0/templates/auth0​-login-form.php` est renvoyé. Le JavaScript d’initiation Lock standard recherche un attribut ID de `auth0-login-form` pour instancier le formulaire de connexion afin de s’assurer qu’il est présent ou remplacer le fichier `wp-content/plugins/auth0/assets/js/lock​-init.js` par le vôtre. Vous pouvez [en voir un exemple dans le référentiel GitHub](https://github.com/auth0/wp-auth0/blob/master/examples/auth0_login_form_tpl.php).

### auth0_settings_fields

Ce filtre sert à modifier un champ de formulaire existant ou en ajouter un nouveau. Un tableau `$options` modifié doit être renvoyé, avec vos modifications ou ajouts. Les nouveaux champs doivent inclure un rappel des champs, comme indiqué ci-après. Vous pouvez [en voir un exemple dans le référentiel GitHub](https://github.com/auth0/wp-auth0/blob/master/examples/auth0_settings_fields.php).

### auth0_auth_scope

Ce filtre permet aux développeurs d’ajouter ou de modifier la permission demandée pendant la connexion. Il peut servir pour ajouter [des demandes personnalisées](/docs/fr-ca/secure/tokens/json-web-tokens/create-custom-claims) ou demander un jeton d’actualisation. Vous pouvez [en voir un exemple dans le référentiel GitHub](https://github.com/auth0/wp-auth0/blob/master/examples/auth0_auth_scope.php).

### auth0_nonce_cookie_name

Utilisez ce filtre pour modifier le nom du témoin utilisé pour la validation du nombre aléatoire. Voir le filtre `auth0_state_cookie_name` ci-après comme exemple. Vous pouvez [en voir un exemple dans le référentiel GitHub](https://github.com/auth0/wp-auth0/blob/master/examples/auth0_nonce_cookie_name.php).

### auth0_state_cookie_name

Utilisez ce filtre pour modifier le nom du témoin utilisé pour la valeur du paramètre state. Cela ajoutera un préfixe ou suffixe, ou remplacera toute la chaîne. Vous pouvez [en voir un exemple dans le référentiel GitHub](https://github.com/auth0/wp-auth0/blob/master/examples/auth0_state_cookie_name.php).  Pour en savoir plus sur le paramètre state, voir [Prévenir les attaques et rediriger les utilisateurs avec les paramètres state d’OAuth 2.0](/docs/fr-ca/secure/attack-protection/state-parameters).
Veillez à utiliser des caractères valides dans les modifications :

`Un <cookie-name< peut inclure des caractères US-ASCII à l’exception des caractères de contrôle (CTL), des espaces et des tabulations. D’autre part, il ne doit pas contenir les caractères de séparation suivants : ( ) < > @ , ; : \ " / ? = { }.`

Pour en savoir plus sur l’en-tête de réponse HTTP `Set-Cookie`, voir [Set-Cookie dans les MDN Web Docs](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie).

### auth0_settings_constant_prefix

Utilisez ce filtre pour modifier le préfixe de la constante utilisée pour remplacer les paramètres du plugiciel. Veuillez noter que ce filtre **doit** s’exécuter avant le chargement du plugiciel Auth0; il doit donc se trouver dans un plugiciel MU. Vous pouvez [en voir un exemple dans le référentiel GitHub](https://github.com/auth0/wp-auth0/blob/master/examples/auth0_settings_constant_prefix.php). Pour en savoir plus sur les plugiciels MU, voir [Plugiciels à utiliser absolument sur wordpress.org](https://wordpress.org/support/article/must-use-plugins/).

### auth0_authorize_url_params

Ce filtre permet aux développeurs d’ajuster les paramètres du point de terminaison `/authorize` selon les besoins. La fonction doit renvoyer un tableau dictionary-type des paramètres d’URL. Pour en savoir plus sur la manière dont sont utilisés ces paramètres, voir [Explorateur Authentication API : Connexion](/docs/fr-ca/api/authentication#login). Vous pouvez [en voir un exemple dans le référentiel GitHub](https://github.com/auth0/wp-auth0/blob/master/examples/auth0_authorize_url_params.php).

### auth0_authorize_url

Ce filtre permet aux développeurs d’ajuster l’URL `/authorize` complète avant utilisation. La fonction doit renvoyer une URL valide sous forme de chaîne. Pour en savoir plus sur la manière dont cette URL est utilisée, voir [Explorateur Authentication API : Connexion](/docs/fr-ca/api/authentication#login). Vous pouvez [en voir un exemple dans le référentiel GitHub](https://github.com/auth0/wp-auth0/blob/master/examples/auth0_authorize_url.php).

### auth0_die_on_login_output

Ce filtre vous permet de modifier ou remplacer le contenu HTML passé à `wp_die()` lorsqu’une erreur survient pendant la connexion. Ce filtre n’a pas d’influence sur le contenu du courriel de vérification (voir auth0_verify_email_page). Vous pouvez [en voir un exemple dans le référentiel GitHub](https://github.com/auth0/wp-auth0/blob/master/examples/auth0_die_on_login_output.php).

### auth0_coo_auth0js_url

Ce filtre vous permet de remplacer l’URL CDN par défaut pour Auth0.js lors du chargement de la page de secours COO.

### auth0_slo_return_to

Ce filtre vous permet de remplacer l’URL `returnTo` par défaut lors de la déconnexion d’Auth0. Vous pouvez [en voir un exemple dans le référentiel GitHub](https://github.com/auth0/wp-auth0/blob/master/examples/auth0_slo_return_to.php).

### auth0_logout_url

Ce filtre vous permet de remplacer l’URL de déconnexion Auth0. Pour en savoir plus sur la manière dont il est utilisé, voir [Déconnexion](/docs/fr-ca/authenticate/login/logout). Vous pouvez [en voir un exemple dans le référentiel GitHub](https://github.com/auth0/wp-auth0/blob/master/examples/auth0_logout_url.php).

### auth0_use_management_api_for_userinfo

Ce filtre détermine si les données de profil utilisateur doivent être récupérées depuis <Tooltip href="/docs/fr-ca/glossary?term=management-api" tip="Management API
Un produit permettant aux clients d’effectuer des tâches administratives." cta="Voir le glossaire">Management API</Tooltip> lorsque vous n’utilisez pas le flux de connexion implicite. `true` (par défaut) pour utiliser l’API, `false` pour utiliser le jeton d’ID. Vous pouvez [en voir un exemple dans le référentiel GitHub](https://github.com/auth0/wp-auth0/blob/master/examples/auth0_use_management_api_for_userinfo.php).

### auth0_lock_options

Ce filtre permet de modifier les options du formulaire de connexion Lock intégré, utilisé dans les shortcodes, les gadgets logiciels et sur la page wp-login.php lorsque **Fonctionnalités > Universal Page Connexion universelle** est désactivé. Vous pouvez [en voir un exemple dans le référentiel GitHub](https://github.com/auth0/wp-auth0/blob/master/examples/auth0_lock_options.php).

### auth0_jwt_leeway

Ce filtre permet d’ajuster le délai utilisé pour valider les jetons d’ID et doit renvoyer un nombre de secondes comme entier. Vous pouvez [en voir un exemple dans le référentiel GitHub](https://github.com/auth0/wp-auth0/blob/master/examples/auth0_jwt_leeway.php).

### auth0_jwt_max_age

Ce filtre vous permet d’ajuster le paramètre de l’URL `max_age` envoyée sur l’URL d’autorisation. Vous pouvez [en voir un exemple dans le référentiel GitHub](https://github.com/auth0/wp-auth0/blob/master/examples/auth0_jwt_max_age.php).

### auth0_authorize_state

Ce filtre permet de filtre les données state avant codage et utilisation pour connexion. Ces données seront vérifiées après une connexion réussie et fournies en l’état pour utilisation. Vous pouvez [en voir un exemple dans le référentiel GitHub](https://github.com/auth0/wp-auth0/blob/master/examples/auth0_authorize_state.php).

## Cas d’utilisation

Vous pouvez [voir un exemple d’utilisation des actions avec les filtres dans le référentiel GitHub](https://gist.github.com/evansims/c7116f83040af3e899213422489debc2).

## En savoir plus

* [Intégration à WordPress](/docs/fr-ca/customize/integrations/cms/wordpress-plugin/integrate-with-wordpress)
* [Installer Connexion par Auth0](/docs/fr-ca/customize/integrations/cms/wordpress-plugin/install-login-by-auth0)
* [Connexion par Auth0](/docs/fr-ca/customize/integrations/cms/wordpress-plugin/configure-login-by-auth0)
* [Dépannage des erreurs d’état non valide des plugins WordPress](/docs/fr-ca/customize/integrations/cms/wordpress-plugin/troubleshoot-wordpress-plugin-invalid-state-errors)