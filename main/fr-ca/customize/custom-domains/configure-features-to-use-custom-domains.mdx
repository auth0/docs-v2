---
title: "Configurer des fonctionnalités pour utiliser des Domaines personnalisés"
permalink: "configure-features-to-use-custom-domains"
'description': "Découvrez comment configurer un domaine personnalisé pour les fonctions d’authentification Auth0."
'og:title': "Configurer des fonctionnalités pour utiliser des Domaines personnalisés"
'og:description': "Découvrez comment configurer un domaine personnalisé pour les fonctions d’authentification Auth0."
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Configurer des fonctionnalités pour utiliser des Domaines personnalisés"
'twitter:description': "Découvrez comment configurer un domaine personnalisé pour les fonctions d’authentification Auth0."
---

Pour configurer les fonctionnalités Auth0 afin qu’elles utilisent votre domaine personnalisé, vous devrez peut-être suivre des étapes supplémentaires en fonction des fonctions que vous utilisez. Par exemple, vous devrez peut-être apporter des modifications avant de pouvoir utiliser votre domaine personnalisé sur votre page de connexion ou pour appeler vos API.

Si vous utilisez Auth0 depuis un certain temps et que vous décidez d’activer un domaine personnalisé, vous devrez migrer vos applications existantes et mettre à jour les paramètres comme décrit ci-dessous, y compris pour tout VPN ou pare-feu que vous utilisez. Notez que les sessions existantes créées à `{yourDomain}` ne seront plus valides une fois que vous commencerez à utiliser votre domaine personnalisé, de sorte que les utilisateurs devront se connecter à nouveau.

## Prérequis

Vous devriez avoir déjà configuré et vérifié votre domaine personnalisé.

## Caractéristiques

<table class="table"><thead>
<tr>
<th><strong>Fonctionnalité</strong></th>
<th><strong>Section à lire</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><Tooltip tip="Connexion universelle
Votre application redirige l’utilisateur vers la connexion universelle, hébergée sur le serveur d’autorisation d’Auth0, pour vérifier son identité." cta="Voir le glossaire" href="/docs/glossary?term=universal-login">Connexion universelle</Tooltip> avec une page de connexion personnalisée</td>
<td><a href="#universal-login">Connexion universelle</a></td>
</tr>
<tr>
<td>Lock intégré dans votre application.</td>
<td><a href="#embedded-lock">Lock intégré</a></td>
</tr>
<tr>
<td>Trousse SDK Auth0 pour les applications à page unique (SPA), Auth0.js, ou autres trousses SDK d’Auth0</td>
<td><a href="#auth0-spa-sdk-auth0-js-and-other-sdks">Trousse SDK Auth0 pour les applications à page unique (SPA), Auth0.js, et autres trousses SDK</a></td>
</tr>
<tr>
<td>Domaine personnalisé avec courriels Auth0</td>
<td><a href="#use-custom-domains-in-emails">Utiliser des domaines personnalisés dans les courriels</a></td>
</tr>
<tr>
<td>Fournisseurs d’identité sociale</td>
<td><a href="#configure-social-identity-providers">Configurer les fournisseurs d’identité sociale</a></td>
</tr>
<tr>
<td>Connexions Google Workspace avec votre domaine personnalisé</td>
<td><a href="#configure-g-suite-connections">Configurer les connexions Google Workspace</a></td>
</tr>
<tr>
<td>Émettre des jetons d’accès pour vos API ou accéder des API Auth0 depuis votre application</td>
<td><a href="#apis">APIs</a></td>
</tr>
<tr>
<td>Fournisseurs d’identité <Tooltip tip="Security Assertion Markup Language (SAML)
Protocole normalisé permettant à deux parties d’échanger des informations d’authentification sans mot de passe." cta="Voir le glossaire" href="/docs/glossary?term=security-assertion-markup-language">SAML</Tooltip></td>
<td><a href="#configure-saml-identity-providers">Configurer des fournisseurs d’identité SAML</a></td>
</tr>
<tr>
<td>Applications SAML</td>
<td><a href="#configure-saml-applications">Configurer des applications SAML </a></td>
</tr>
<tr>
<td>Applications Web Service Federation (WS-Fed)</td>
<td><a href="#configure-ws-fed-applications">Configurer des applications WS-Fed </a></td>
</tr>
<tr>
<td>Connexions Entra ID</td>
<td><a href="#configure-azure-ad-connections">Configurer des connexions Entra ID</a></td>
</tr>
<tr>
<td>Connexions ADFS</td>
<td><a href="#configure-adfs-connections">Configurer des connexions ADFS </a></td>
</tr>
<tr>
<td>Connexions Entra ID/LAP avec prise en charge Kerberos</td>
<td><a href="#configure-ad-ldap-connections">Configurer des connexions Entra ID/LAP </a></td>
</tr>
</tbody>
</table>

## Connexion universelle d’Auth0

Si vous utilisez [Connexion universelle Auth0.](/docs/fr-ca/authenticate/login/auth0-universal-login) et que vous avez personnalisé la page de connexion, vous devez mettre à jour le code pour utiliser votre domaine personnalisé. Si vous utilisez la page de connexion **par défaut** sans personnalisation, vous n’avez aucune modification à effectuer. Pour en savoir plus, consultez Connexion universelle Auth0.

Si vous utilisez[Lock pour le Web](/docs/fr-ca/libraries/lock) vous devez définir les options `configurationBaseUrl` et `overrides` comme indiqué dans l’exemple de script suivant :

```javascript lines
var lock = new Auth0Lock(config.clientID, config.auth0Domain, {
  //code omitted for brevity
  configurationBaseUrl: config.clientConfigurationBaseUrl,
  overrides: {
  	__tenant: config.auth0Tenant,
  	__token_issuer: config.authorizationServer.issuer
  },
  //code omitted for brevity
});
```

Si vous utilisez [Auth0.js](/docs/fr-ca/libraries/auth0js) sur la page de Connexion universelle, vous devez définir l’option `overrides`.

```javascript lines
var webAuth = new auth0.WebAuth({
  clientID: config.clientID,
  domain: config.auth0Domain,
  //code omitted for brevity
  overrides: {
  	__tenant: config.auth0Tenant,
  	__token_issuer: config.authorizationServer.issuer
  },
  //code omitted for brevity
});
```

Dans la plupart des cas, les bibliothèques Auth0.js et Lock récupèrent le nom du locataire (nécessaire pour `/usernamepassword/login`) et l’émetteur (nécessaire pour la validation `id_token`) à partir du domaine. Cependant, si vous êtes un client Private Cloud qui utilise un proxy ou un nom de domaine personnalisé où le nom de domaine est différent du locataire/émetteur, vous pouvez utiliser `__tenant` et `__token_issuer` pour fournir vos valeurs uniques.

## Lock intégré

Si vous utilisez [Lock pour le Web](/docs/fr-ca/libraries/lock) intégré dans votre application, vous devez mettre à jour le code pour utiliser votre domaine personnalisé lors de l’initialisation de Lock. Vous devrez également définir la valeur `configurationBaseUrl` sur le CDN approprié URL.



```javascript lines
var lock = new Auth0Lock('{yourClientId}', '{yourCustomDomain}', {
  //code omitted for brevity
  configurationBaseUrl: 'https://cdn.us.auth0.com'
  //code omitted for brevity
});
```

L’URL CDN varie selon la région. Utilisez `https://cdn.[us|eu|au|jp].auth0.com` (`au` pour l’Australie, `ca` pour Canada, `eu` l’Europe, `jp` pour le Japon, `uk` pour Royaume-Uni, `us` pour les États-Unis).

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

L’URL CDN varie selon la région. Les locataires créés avant le 11 juin 2020 doivent utiliser `https://cdn.auth0.com` si la région est aux États-Unis, ou ajouter `au, ca, eu, jp, uk` pour l’Australie, le Canada, l’Europe, le Japon et le Royaume-Uni. Si votre locataire a été créé après le 11 juin 2020, utilisez `https://cdn.us.auth0.com` si la région est aux États-Unis.

</Callout>

## Trousse SDK Auth0 pour les applications à page unique (SPA), Auth0.js et autres trousses SDK

Si vous utilisez la [Trousse SDK Auth0 pour les applications à page unique (SPA)](/docs/fr-ca/libraries/auth0-spa-js), [Auth0.js](/docs/fr-ca/libraries/auth0js) ou [d’autres trousses SDK](/docs/fr-ca/support/matrix#auth0-sdks), vous devrez initialiser la trousse SDK en utilisant votre domaine personnalisé. Par exemple, si vous utilisez la trousse SDK Auth0.js, vous devez définir ce qui suit :



```javascript lines
webAuth = new auth0.WebAuth({
  domain: '{yourCustomDomain}',
  clientID: '{yourClientId}'
});
```

Et pour la trousse SDK Auth0 pour les applications à page unique (SPA) :



```javascript lines
const auth0 = await createAuth0Client({
  domain: '{yourCustomDomain}',
  client_id: '{yourClientId}'
});
```

Consultez la section API ci-dessous si vous utilisez un domaine personnalisé et avez également l’intention d’effectuer [des actions avec Management API via Auth0.js](/docs/fr-ca/libraries/auth0js/v9#user-management).

## Utiliser des domaines personnalisés dans les courriels

Si vous souhaitez utiliser votre domaine personnalisé dans vos courriels Auth0, vous devez activer cette fonctionnalité.

1. Affichez [Auth0 Dashboard > Image de marque > Domaines personnalisés](https://manage.auth0.com/#/branding/custom_domains).
2. Activez l’option **Use Custom Domain in Emails (Utiliser le domaine personnalisé dans les courriels)**.

## Configurer les fournisseurs d’identité sociale

Si vous souhaitez utiliser votre domaine personnalisé avec des fournisseurs d’identité sociale (<Tooltip href="/docs/fr-ca/glossary?term=idp" tip="Fournisseur d’identité (IdP)
Service de stockage et de gestion des identités numériques." cta="Voir le glossaire">IdP</Tooltip>), vous devez mettre à jour la liste des URI de redirection autorisés de votre IdP pour y inclure votre domaine personnalisé (tel que `https://login.northwind.com/login/callback`).

Vous ne pouvez pas utiliser [Clés de développeur Auth0](/docs/fr-ca/authenticate/identity-providers/social-identity-providers/devkeys) avec des domaines personnalisés.

## Configurer les connexions Google Workspace

Si vous souhaitez utiliser votre domaine personnalisé avec les connexions Google Workspace, vous devez mettre à jour l’URI de redirection autorisée dans les Client Settings (Paramètres du client) <Tooltip href="/docs/fr-ca/glossary?term=oath2" tip="OAuth 2.0
Cadre d’applications d’autorisation qui définit les protocoles d’autorisation et les flux de production." cta="Voir le glossaire">OAuth</Tooltip>. Dans la console de développement Google, accédez à **Credentials (Identifiants)**, choisissez votre client OAuth dans la liste et une page de paramètres s’affichera avec l’ID client de l’application, le secret et d’autres champs. Dans le champ **Authorized redirect URIs (URI de redirection autorisées)**, ajoutez une URL au format `https://<YOUR-CUSTOM-DOMAIN>/login/callback` qui inclut votre domaine personnalisé (tel que `https://login.northwind.com/login/callback`).

## API

Les identifiants d’API (c’est-à-dire `audience`) ne changeront pas. Il s’agit d’une valeur constante pour chaque API et, bien qu’il soit conventionnel d’utiliser une URI, elle est totalement indépendante du domaine utilisé pour obtenir le jeton.

Auth0 émet des jetons avec la revendication `iss` du domaine que vous avez utilisé pour obtenir le jeton.

##### API Auth0

Continuez à utiliser votre nom de domaine de locataire par défaut (tel que `https://{yourDomain}/userinfo` et `https://{yourDomain}/api/v2/`) au lieu de votre domaine personnalisé lorsque vous spécifiez une `audience`. C’est le seul endroit où vous pouvez utiliser votre domaine de locataire par défaut.

Toutes les demandes (c’est-à-dire l’obtention du jeton et l’appel effectif de l’API) doivent utiliser le même domaine. Les jetons obtenus via un domaine personnalisé doivent être utilisés sur une API Auth0 utilisant le même domaine personnalisé.

Si vous utilisez un flux d’authentification avec votre domaine personnalisé pour demander des jetons d’accès afin d’accéder à <Tooltip href="/docs/fr-ca/glossary?term=management-api" tip="Management API
Un produit permettant aux clients d’effectuer des tâches administratives." cta="Voir le glossaire">Management API</Tooltip>, vous devez également appeler le point de terminaison de Management API avec votre domaine personnalisé.

``` lines
POST https://mycustomdomain.com/oauth/token
... // other parameters 
...
audience:https://defaulttenant.eu.auth0.com/api/v2/
```

Votre demande de jeton d’accès devrait ressembler à ce qui suit

``` lines
GET https://mycustomdomain.com/api/v2/clients

Headers:
Authorization: Bearer <access_token>
```

##### API personnalisées

Si vous utilisez Auth0 avec un domaine personnalisé pour émettre des jetons d’accès pour vos API, vous devez valider le ou les émetteurs de <Tooltip href="/docs/fr-ca/glossary?term=json-web-token" tip="Jeton Web JSON (JWT)
Format standard de jeton d’ID (et souvent de jeton d’accès) utilisé pour représenter en toute sécurité des demandes entre deux parties." cta="Voir le glossaire">JWT</Tooltip> par rapport à votre domaine personnalisé. Par exemple, si vous utilisez le logiciel médiateur/intergiciel [express-jwt](https://github.com/auth0/express-jwt), vous devez effectuer le changement suivant :

```javascript lines
app.use(jwt({
  issuer: 'https://<YOUR-CUSTOM-DOMAIN>/',
  //code omitted for brevity
}));
```

## Configurer les fournisseurs d’identité SAML

Pour utiliser votre domaine personnalisé avec des <Tooltip href="/docs/fr-ca/glossary?term=security-assertion-markup-language" tip="Security Assertion Markup Language (SAML)
Protocole normalisé permettant à deux parties d’échanger des informations d’authentification sans mot de passe." cta="Voir le glossaire">SAML</Tooltip> Identity Providers (Fournisseurs d’identité SAML) (IdP), vous devez mettre à jour votre **Assertion Consumer Service (ACS) (Services de consommation d’assertions) URL(s)** avec le ou les Identity Providers (Fournisseurs d’identité). En fonction de ce qui est pris en charge par l’IdP, vous pouvez procéder de l’une des deux manières suivantes :

1. Vous pouvez obtenir les métadonnées du fournisseur de services auprès d’Auth0 à `https://<YOUR-CUSTOM-DOMAIN>/samlp/metadata?connection=<YOUR-CONNECTION-NAME>`. Ceci inclura l’ACS mis à jour URL. Ensuite, vous devez mettre à jour manuellement cette valeur dans les paramètres de votre ou vos IdP. Cette modification de votre ou vos IdP doit être effectuée en même temps que vous commencez à utiliser votre domaine personnalisé dans vos applications. Cela peut poser un problème s’il y a plusieurs IdP à configurer.
2. Si pris en charge par l’IdP, vous pouvez utiliser des requêtes signées pour satisfaire cette exigence :

* Téléchargez le certificat de signature à partir de `https://<TENANT>.auth0.com/pem`. Notez que `https://<YOUR-CUSTOM-DOMAIN>.com/pem` renverra le même certificat.
* Remettez le certificat à l’IdP ou aux IdP pour qu’ils le téléchargent. Cela permet à l’IdP de valider la signature sur le message `AuthnRequest` qu’Auth0 envoie à l’IdP
* L’IdP importera le certificat et, si nécessaire, la vérification de la signature devra être activée (les étapes exactes varient selon l’IdP)
* Activez **Sign Request (Requête de signature)** dans le Tableau de bord sous **Connections > Enterprise > SAML > CONNECTION**. Cela déclenchera la signature par Auth0 des messages SAML `AuthnRequest` qu’il envoie à l’IdP.

Une fois cette étape terminée et que vous commencez à utiliser votre domaine personnalisé lorsque vous lancez une demande d’authentification dans votre application, l’IdP recevra ce domaine personnalisé dans votre demande signée. Étant donné que la requête signée de votre application est fiable, l’IdP devrait automatiquement remplacer la valeur configurée dans votre ACS URL par la valeur envoyée dans la requête signée. Cependant, certains IdP n’acceptent **pas** l’ACS URL dans la requête signée. Vous devez donc d’abord vérifier auprès du vôtre si cela est pris en charge ou pas.

Si c’est le cas, cela vous évitera d’avoir à modifier un ou plusieurs paramètres de l’IdP en même temps et vous permettra de les préparer à accepter vos requêtes signées à l’avance. Vous pouvez alors modifier l’ACS URL configuré de manière statique dans les paramètres de votre IdP à une date ultérieure.

Notez que si votre fournisseur d’identité SAML est configuré pour utiliser votre domaine personnalisé, tester la connexion via le bouton **Try (Tester)** dans le Tableau de bord ne fonctionnera **pas** et les liens par défaut pour télécharger les métadonnées depuis Auth0 afficheront toujours le domaine par défaut, et non le domaine personnalisé.

Si vous avez un flux d’authentification initié par l’IdP, vous devrez mettre à jour l’IdP ou les IdP et votre application (ou vos applications) en même temps pour utiliser le domaine personnalisé.

## Configurer les applications SAML

Si vous souhaitez utiliser votre domaine personnalisé avec des applications SAML (lorsque Auth0 est l’IdP), vous devez mettre à jour votre fournisseur de services avec les nouvelles métadonnées du fournisseur d’identité provenant d’Auth0. Vous pouvez obtenir les métadonnées mises à jour reflétant le domaine personnalisé à partir de `https://<YOUR-CUSTOM-DOMAIN>/samlp/metadata/<YOUR-CLIENT-ID>`. Notez que l’ID de l’entité émettrice pour l’assertion renvoyée par Auth0 changera lors de l’utilisation d’un domaine personnalisé (passant de quelque chose comme `urn:northwind.auth0.com` à un format avec le domaine personnalisé, tel que `urn:login.northwind.com`).

Si vous avez un flux d’authentification initié par l’IdP, vous devrez mettre à jour l’URL utilisée pour invoquer le flux d’authentification initié par l’IdP afin de refléter le domaine personnalisé. Au lieu de `https://<TENANT>.auth0.com/samlp/<YOUR-CLIENT-ID>`, vous devrez utiliser `https://<YOUR-CUSTOM-DOMAIN>/samlp/<YOUR-CLIENT-ID>`.

## Configurer les applications WS-Fed

Si vous souhaitez utiliser votre domaine personnalisé avec des applications <Tooltip href="/docs/fr-ca/glossary?term=ws-fed" tip="Web Service Federation (WS-Fed)
Protocole de gestion des identités des utilisateurs à travers les domaines." cta="Voir le glossaire">WS-Fed</Tooltip> avec Auth0 comme IdP, vous devez mettre à jour votre Service Provider (Fournisseur de services) avec les nouvelles métadonnées du fournisseur d’identité provenant d’Auth0. Vous pouvez obtenir les métadonnées reflétant le domaine personnalisé à partir de `https://<YOUR-CUSTOM-DOMAIN>/wsfed/FederationMetadata/2007-06/FederationMetadata.xml`.

## Configurer les connexions Azure AD

Si vous souhaitez utiliser votre domaine personnalisé avec les connexions Azure AD, vous devez mettre à jour l’URL Allowed Reply (Réponse autorisée) dans vos paramètres Azure AD. Dans votre Azure Active Directory, accédez à **Apps registrations (Enregistrements d’applications)** et sélectionnez votre application. Cliquez ensuite sur **Paramètres -> URL de redirection** et ajoutez une URL avec votre domaine personnalisé au format `https://<YOUR-CUSTOM-DOMAIN>/login/callback` (tel que `https://login.northwind.com/login/callback`).

## Configurer les connexions ADFS

Si vous souhaitez utiliser votre domaine personnalisé avec les connexions ADFS, vous devez mettre à jour le point de terminaison dans vos paramètres ADFS. Celui-ci devra être mis à jour pour utiliser votre domaine personnalisé dans l’URL de rappel au format `https://<YOUR-CUSTOM-DOMAIN>/login/callback` (tel que `https://login.northwind.com/login/callback`).

## Configurer les connexions AD/LDAP

Si vous n’avez pas besoin de la prise en charge de Kerberos, les connexions AD/LDAP ne nécessitent pas de configuration supplémentaire.

Pour utiliser les connexions AD/LDAP avec la prise en charge de Kerberos, vous devrez mettre à jour le point de terminaison Ticket pour qu’il fonctionne avec le domaine personnalisé. Comme indiqué dans la documentation du [connecteur AD/LDAP d’Auth0](/docs/fr-ca/connector/modify#point-an-ad-ldap-connector-to-a-new-connection), le fichier `config.json` doit être modifié, avec la valeur `PROVISIONING_TICKET` changée pour utiliser votre domaine personnalisé au format `https://<YOUR-CUSTOM-DOMAIN>/p/ad/jUG0dN0R`.

Une fois cette modification enregistrée, vous devez redémarrer le service AD/LDAP Connector pour qu’elle prenne effet.

## En savoir plus

* [Configurer des domaines personnalisés avec des certificats gérés par Auth0](/docs/fr-ca/customize/custom-domains/auth0-managed-certificates)
* [Configurer des domaines personnalisés avec des certificats autogérés](/docs/fr-ca/customize/custom-domains/self-managed-certificates)
* [Dépanner les domaines personnalisés](/docs/fr-ca/troubleshoot/integration-extensibility-issues/troubleshoot-custom-domains)
* [Vérifier les appels d’API](/docs/fr-ca/troubleshoot/authentication-issues/check-api-calls)
* [Dépanner des configurations SAML](/docs/fr-ca/troubleshoot/authentication-issues/troubleshoot-saml-configurations)