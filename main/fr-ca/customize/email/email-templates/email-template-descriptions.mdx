---
title: "Description des modèles de courriel"
permalink: "email-template-descriptions"
'description': "Décrit les modèles de courriel utilisés dans Auth0."
'og:title': "Description des modèles de courriel"
'og:description': "Décrit les modèles de courriel utilisés dans Auth0."
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Description des modèles de courriel"
'twitter:description': "Décrit les modèles de courriel utilisés dans Auth0."
---

## Courriels de vérification

Si vous activez **Courriel de vérification**, les utilisateurs qui s’inscrivent sur une connexion à une base de données recevront un message leur demandant de confirmer leur adresse courriel en cliquant sur une URL incluse dans le message.

En plus des variables communes disponibles pour tous les modèles de courriel, le **Courriel de vérification** fournit la variable `URL` qui fait référence au lien URL sur lequel l’utilisateur devra cliquer. Vous l’utiliserez dans le champ **Message** pour créer un lien que l’utilisateur peut suivre.

### Les résultats de Rediriger vers pour le modèle de courriel de vérification

Vous pouvez configurer une URL de **redirection** vers laquelle envoyer les utilisateurs après la tentative de vérification de courriel. Par défaut, Auth0 inclut les paramètres suivants :

* `success` avec valeur `true` ou `false` indiquant si la vérification de courriel a bien été effectuée
* `message` avec une description supplémentaire du résultat. Certaines valeurs possibles sont :

  + `Your email was verified. You can continue using the application.` (avec `success=true`)
  + `This URL can be used only once` (avec `success=false`)
  + `Access expired.` (avec `success=false`)
  + `User account does not exist or verification code is invalid.` (avec `success=false`)
  + `This account is already verified.` ou `vour email address could not be verified.2`(avec `success=false`)

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Pour certaines erreurs, l’utilisateur peut être envoyé vers la page [Erreur générique](/docs/fr-ca/authenticate/login/auth0-universal-login/error-pages) au lieu de l’URL de redirection.

</Callout>

Vous pouvez éviter l’inclusion des adresses courriel dans les liens de redirection en mettant à jour les modèles de courriel via <Tooltip href="/docs/fr-ca/glossary?term=management-api" tip="Management API
Un produit permettant aux clients d’effectuer des tâches administratives." cta="Voir le glossaire">Management API</Tooltip>. Par exemple :

`PATCH /api/v2/email-templates/reset_email { "includeEmailInRedirect": false } `
ou,

`PATCH /api/v2/email-templates/verify_email { "includeEmailInRedirect": false }`

Le gestionnaire de cible URL doit également être prêt à traiter avec élégance d’autres messages éventuels.

## Courriels de bienvenue

Une fois qu’un utilisateur aura vérifié son adresse courriel, il recevra un **courriel de bienvenue**. Si vous désactivez la fonctionnalité **Verification Email (Courriel de vérification)**, le **Courriel de bienvenue** sera envoyé à l’utilisateur lors de son inscription (ou de sa première connexion).

Outre les variables communes disponibles pour tous les modèles de courriel, les éléments suivants sont disponibles pour le modèle **Bienvenue** :

* Si l’utilisateur s’est connecté via une [Organization](/docs/fr-ca/manage-users/organizations/organizations-overview) :

  + `organization.id`
  + `organization.display_name`
  + `organization.name`
  + `organization.metadata`
  + `organization.branding.logo_url`
  + `organization.branding.colors.primary`
  + `organization.branding.colors.page_background`

## Changer le mot de passe des courriels

Lorsqu’un utilisateur envoie une demande de changement de mot de passe, il recevra un courriel de réinitialisation **Changer le mot de passe** contenant un lien URL. Lorsque l’utilisateur clique sur le lien, une [Page de réinitialisation du mot de passe](/docs/fr-ca/customize/login-pages/classic-login/customize-password-reset-page) s’affiche pour lui permettre de saisir le nouveau mot de passe.

Outre les variables communes disponibles pour tous les modèles de courriel, les variables suivantes sont disponibles pour le modèle **Invitation de l’utilisateur** :

* `url` : URL que l’utilisateur choisira pour modifier son mot de passe. Vous l’utiliserez dans le champ **Message** pour créer un lien que l’utilisateur peut suivre, comme dans cet exemple :
  `<a href="/docs/fr-ca/{{ url }}">Click here to change your password</a>`
* Si l’utilisateur s’est connecté via une [Organization](/docs/fr-ca/manage-users/organizations/organizations-overview) :

  + `organization.id`
  + `organization.display_name`
  + `organization.name`
  + `organization.metadata`
  + `organization.branding.logo_url`
  + `organization.branding.colors.primary`
  + `organization.branding.colors.page_background`

### Les résultats de Rediriger vers pour le modèle de courriel de vérification

Vous pouvez configurer une URL de **redirection** vers laquelle envoyer les utilisateurs après la tentative de changement de mot de passe. Par défaut, Auth0 inclut les paramètres suivants :

* `success` avec valeur `true` ou `false` indiquant si le changement de mot de passe a bien été effectué
* `message` avec une description supplémentaire du résultat. Certaines valeurs possibles sont :

  + `You can now login to the application with the new password.` (avec `success=true`)
  + `This URL can be used only once` (avec `success=false`)
  + `Access expired.` (avec `success=false`)
  + `The operation cannot be completed. Please try again.` (avec `success=false`)

Le gestionnaire de cible URL doit également être prêt à traiter avec élégance d’autres messages éventuels.

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Pour certaines erreurs, l’utilisateur peut être envoyé vers la page [Erreur générique](/docs/fr-ca/authenticate/login/auth0-universal-login/error-pages) au lieu de l’URL de redirection.

</Callout>

## Courriels de comptes bloqués

Après dix tentatives de connexion infructueuses ou plus depuis la même adresse IP, le compte de l’utilisateur sera verrouillé, et un courriel de notification intitulé **Compte bloqué** lui sera envoyé. Après avoir reçu ce courriel, l’utilisateur ne pourra plus se connecter depuis cette adresse IP tant qu’il n’aura pas cliqué sur le lien inclus dans le courriel.

Si l’utilisateur se connecte avant d’avoir épuisé ses dix tentatives autorisées, le compteur est réinitialisé.

Outre les variables communes disponibles pour tous les modèles de courriel, les variables suivantes sont disponibles pour le modèle **Courriel de comptes bloqués** :

* `user.source_ip`
* `user.city`
* `user.country`
* Si l’utilisateur s’est connecté via une [Organization](/docs/fr-ca/manage-users/organizations/organizations-overview) :

  + `organization.id`
  + `organization.display_name`
  + `organization.name`
  + `organization.metadata`
  + `organization.branding.logo_url`
  + `organization.branding.colors.primary`
  + `organization.branding.colors.page_background`

Ce modèle fournit également la variable `url` qui doit être utilisée pour créer le lien que l’utilisateur doit suivre. Par exemple :

`<a href="/docs/fr-ca/{{ url }}">Click here to unblock your account</a>`

### Les résultats Rediriger vers pour les modèles de courriel de comptes verrouillés

Vous pouvez configurer une URL de **redirection** vers laquelle envoyer les utilisateurs après la tentative de déblocage du compte. Lors de la redirection, Auth0 inclura les paramètres suivants :

* `email` indiquant le courriel de l’utilisateur
* `success` avec valeur `true` ou `false` indiquant si le déblocage compte a été couronné de succès
* `message` avec une description supplémentaire du résultat. Certaines valeurs possibles sont :

  + `Your account has been unblocked.` (avec `success=true`)
  + `This URL can be used only once` (avec `success=false`)
  + `Access expired.` (avec `success=false`)

Le gestionnaire de cible URL doit également être prêt à traiter avec élégance d’autres messages éventuels.

## Courriels d’alerte en cas de mot de passe compromis

Ce type de courriel est déclenché chaque fois qu’Auth0 détecte une tentative de connexion à l’application avec un mot de passe compromis provenant d’une tierce partie. Ces courriels ne sont envoyés qu’après l’activation de la fonctionnalité **Détection de mot de passe compromis**, dans la section [Protection contre les attaques](https://manage.auth0.com/#/security/attack-protection) du tableau de bord. Pour en savoir plus, consultez [Détection de mot de passe compromis](/docs/fr-ca/secure/attack-protection/breached-password-detection).

Outre les variables communes disponibles pour tous les modèles de courriel, les variables suivantes sont disponibles pour les courriels **Alerte de mot de passe compromis** :

* Si l’utilisateur s’est connecté via une [Organization](/docs/fr-ca/manage-users/organizations/organizations-overview) :

  + `organization.id`
  + `organization.display_name`
  + `organization.name`
  + `organization.metadata`
  + `organization.branding.logo_url`
  + `organization.branding.colors.primary`
  + `organization.branding.colors.page_background`

## Courriels d’inscription pour MFA

Ce courriel sera généré lors de l’envoi d’une invitation d’inscription à <Tooltip href="/docs/fr-ca/glossary?term=multifactor-authentication" tip="Authentification multifacteur (MFA)
Processus d’authentification de l’utilisateur qui utilise un facteur en plus du nom d’utilisateur et du mot de passe, tel qu’un code par SMS." cta="Voir le glossaire">MFA</Tooltip>. Le message contiendra un lien qui, lorsqu’il sera consulté, affichera l’expérience d’inscription MFA.

Outre les variables communes disponibles pour tous les modèles de courriel, la variable `link` est disponible dans ce type de courriel. Elle contient l’URL que vous utiliserez pour créer le lien destiné à cette action, comme illustré dans l’exemple suivant :

`<a href="/docs/fr-ca/{{ link }}">Enroll your MFA device</a>`

Contrairement à d’autres modèles de courriel, le nom de la variable correct est `link` et non `url`. De plus, la variable `connection.name` n’est pas disponible sur ce type de modèle de courriel.

## Courriels contenant des codes de vérification pour MFA

Ce courriel sera généré lorsque vous utiliserez le courriel comme méthode MFA et demanderez l’envoi d’un code de vérification. En plus des variables communes disponibles, le modèle fournit une variable `code` pour restituer le code utilisé pour la vérification MFA. Par exemple :

`<div>Your code is: {{ code }}</div>`

## Courriels d’invitation d’utilisateur

Si un utilisateur est invité à devenir membre d’une [Organization](/docs/fr-ca/manage-users/organizations/organizations-overview), il recevra un courriel **User Invitation (Invitation de l’utilisateur)** contenant un lien URL. Lorsque l’utilisateur clique sur le lien, il sera redirigé vers votre route de connexion par défaut. Pour en savoir plus, consultez [Configurer les routes de connexion par défaut](/docs/fr-ca/authenticate/login/auth0-universal-login/configure-default-login-routes).

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Lorsqu’un utilisateur accepte une invitation, son adresse courriel est marquée comme vérifiée.

Si l’utilisateur accepte une invitation par le biais d’une connexion fédérée, le fournisseur d’identités doit renvoyer l’adresse courriel qui correspond à celle à laquelle l’invitation a été envoyée. La vérification de l’adresse électronique ne sera pas remplacée par la valeur renvoyée par le fournisseur d’identités lors des connexions ultérieures.

Si l’utilisateur n’accepte pas une invitation avant qu’elle n’expire, l’invitation sera marquée comme expirée et éventuellement supprimée d’[Auth0 Dashboard](/docs/fr-ca/get-started/auth0-overview/dashboard).

</Callout>

Outre les variables communes disponibles pour tous les modèles de courriel, les variables suivantes sont disponibles pour le modèle **Invitation de l’utilisateur** :

* Informations sur l’invitation de l’utilisateur (toutes les informations dérivées du ticket d’invitation de l’utilisateur) :

  + `inviter.name`
  + `app_metadata`
  + `user_metadata`
  + `roles.id`
  + `roles.name`
  + `roles.description`
* Informations sur l’organization :

  + `organization.id`
  + `organization.display_name`
  + `organization.name`
  + `organization.metadata`
  + `organization.branding.logo_url`
  + `organization.branding.colors.primary`
  + `organization.branding.colors.page_background`

Pour localiser les courriels, vous pouvez définir la variable `locale` à envoyer dans `user_metadata` lors de la création d’une invitation. Pour en savoir plus, consultez [Personnaliser les modèles de courriel : Modèles de courriels multilingues](/docs/fr-ca/customize/email/email-templates).

### Redirige les résultats pour les modèles de courriel d’invitation des utilisateurs

Vous devez [configurer une route de connexion par défaut](/docs/fr-ca/authenticate/login/auth0-universal-login/configure-default-login-routes) vers laquelle les utilisateurs seront envoyés après avoir sélectionné le lien pour accepter l’invitation. Lors de la redirection, Auth0 inclura les paramètres suivants :

* `invitation` : ID du ticket d’invitation
* `organization` : ID de l’organization à laquelle l’utilisateur est invité
* `organization_name` : Nom de l’organization à laquelle l’utilisateur est invité

Par exemple, si vous avez une application activée par l’organization avec une **Application Login URI (URL de connexion à l’application)** réglée sur `https://myapp.com/login`, le lien envoyé dans l’invitation par courriel qu’un utilisateur final reçoit sera : `https://myapp.com/login?invitation={invitation_ticket_id}&organization={organization_id}&organization_name={organization_name}`.

La route de connexion cible doit initier une transaction vers `/authorize` contenant les paires clé-valeur `invitation` et `organization` fournies. Elle doit également être prête à gérer de manière appropriée d’autres messages éventuels.

## Courriels sans mot de passe

Contrairement aux types de modèles de courriel précédents, ce modèle de courriel n’est pas configuré à partir de la section Modèles de courriel. Au lieu de cela, cela fait partie de la section [Paramètres pour la connexion sans mot de passe par courriel](https://manage.auth0.com/#/connections/passwordless).

Le courriel sans mot de passe est envoyé lorsqu’une demande d’accès sans mot de passe est effectuée, que ce soit par l’envoi d’un code (que l’utilisateur saisit dans l’application) ou par un lien (sur lequel l’utilisateur clique pour être redirigé directement vers l’application).

Vous pouvez utiliser toutes les variables communes disponibles dans tous les modèles, ainsi que les variables suivantes définies spécifiquement pour le modèle **Courriel sans mot de passe** :

* `send`, qui contiendra une valeur de `link`, `lien_ios`, `link_android` ou `code` en fonction du type de courriel sans mot de passe demandé.
* `code` avec le code à usage unique pour accéder à l’application
* `link` avec le lien sur lequel l’utilisateur peut cliquer pour accéder à l’application (uniquement pour les courriels sans mot de passe de type lien)
* `operation`, qui sera `change_email` s’il s’agit d’une opération de changement de courriel sans mot de passe.

Le modèle par défaut utilise les variables ci-dessus pour réaliser quelque chose de ce genre :

```html lines
<!-- Email change content -->
{% if operation == 'change_email' %}
  <p>Your email address has been updated.</p>
{% else %}
  <!-- Signup email content -->
  {% if send == 'link' or send == 'link_ios' or send == 'link_android' %}
    <p>Click and confirm that you want to sign in to {{ application.name }}. This link will expire in five minutes.</p>
    <a href="/docs/fr-ca/{{ link }}">Sign in to {{ application.name }}</a>
    {% elsif send == 'code' %}
    <p>Your verification code is: <b>{{ code }}</b></p>
  {% endif %}
{% endif %}
```

Dans le modèle de courriel sans mot de passe, seule la propriété `email` de l’objet `user` est disponible.

## En savoir plus

* [Personnaliser les modèles de courriels](/docs/fr-ca/customize/email/email-templates)
* [Personnaliser le traitement des courriels](/docs/fr-ca/customize/email/manage-email-flow)
* [Personnaliser les courriels des comptes bloqués](/docs/fr-ca/customize/email/customize-blocked-account-emails)