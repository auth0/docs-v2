---
title: "Créer des exportations de journaux personnalisés à l’aide de liens de rappel HTTP"
permalink: "custom-log-streams"
'description': "Apprenez à configurer une exportation de journaux en utilisant un lien de rappel HTTP personnalisé pour exporter les événements de journal vers l’URL de votre choix."
'og:title': "Créer des exportations de journaux personnalisés à l’aide de liens de rappel HTTP"
'og:description': "Apprenez à configurer une exportation de journaux en utilisant un lien de rappel HTTP personnalisé pour exporter les événements de journal vers l’URL de votre choix."
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Créer des exportations de journaux personnalisés à l’aide de liens de rappel HTTP"
'twitter:description': "Apprenez à configurer une exportation de journaux en utilisant un lien de rappel HTTP personnalisé pour exporter les événements de journal vers l’URL de votre choix."
---

Les crochets permettent de livrer les événements à un serveur web externe. Auth0 offre plusieurs intégrations qui envoient automatiquement les événements vers des systèmes tiers de gestion et d’analyse de journaux. Si votre système tiers n’est pas pris en charge, vous pouvez configurer une intégration de lien de rappel HTTP personnalisée.

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Vous ne pouvez souscrire qu’à une seule URL de charge utile par configuration de lien de rappel HTTP, mais vous pouvez utiliser la même URL pour plusieurs flux. La charge utile sera livrée au format JSON. Gardez cela à l’esprit lorsque vous consommez les journaux dans votre configuration de lien de rappel HTTP.

</Callout>

## Configurer le point de terminaison de l’API

Vous allez créer une API qui sert un seul itinéraire (comme `/api/logs`) et qui accepte les demandes `HTTP POST`.

<Warning>

Les certificats HTTP auto-signés ne sont pas pris en charge.

</Warning>

## Configurer l’exportation de journaux

1. Accédez à [Dashboard > Surveillance > Flux](https://manage.auth0.com/#/log-streams)  et cliquez sur **Créer le flux.**.

   <Frame>![Dashboard Monitoring Streams](/images/fr-ca/cdy7uua7fh8z/5ZY6sT68DabXNL9Dr4bhss/ff0f7306fcf9d64247a61a48b12a39a9/log_stream.png)</Frame>

2. Sélectionnez **Lien de rappel HTTP personnalisé** et entrez un nom unique pour votre nouveau flux.
3. Configurer les paramètres suivants :

   <Frame>![Dashboard Monitoring Streams Custom Webhook Settings Tab](/images/fr-ca/cdy7uua7fh8z/5vJVD09aqSF0xEZZFk6wh2/e6469041b2dd1e4f1b142961ca0a12ab/custom-webhook-settings.png)</Frame>

   <table class="table"><thead>
   <tr>
   <th><strong>Setting (Paramètre)</strong></th>
   <th><strong>Description</strong></th>
   </tr>
   </thead>
   <tbody>
   <tr>
   <td><strong>Name</strong></td>
   <td>Un nom d’affichage unique pour distinguer cette intégration des autres intégrations.</td>
   </tr>
   <tr>
   <td><strong>Payload URL</strong></td>
   <td>L’URL où les charges utiles des événements sont envoyées sous forme de requêtes HTTP POST.</td>
   </tr>
   <tr>
   <td><strong>Authorization Token</strong></td>
   <td>(Facultatif) La valeur dans l’en-tête d’autorisation de la demande.</td>
   </tr>
   <tr>
   <td><strong>Content Type</strong></td>
   <td>Le type de média de la charge utile qui sera livrée au lien de rappel HTTP.</td>
   </tr>
   <tr>
   <td><strong>Content Format</strong></td>
   <td>Recevez des données sous forme de lignes JSON, de tableaux ou d’objets.</td>
   </tr>
   <tr>
   <td><strong>Filter by Event Category</strong></td>
   <td>Liste des filtres de flux de journaux.</td>
   </tr>
   <tr>
   <td><strong>Starting Curso</strong></td>
   <td>(Facultatif) Jour et heure spécifiques à partir desquels il faut démarrer le flux.</td>
   </tr>
   </tbody>
   </table>
4. Cliquez sur **Enregistrer**.

## Tester la configuration

1. Passer à l’affichage **Santé** et confirmer que le **Statut du flux** est **Actif.**
2. Effectuez une action qui crée un événement de journal des locataires, comme une connexion, un échange de jetons ou un appel Auth0 Management API.
3. Confirmer que l’événement a été créé dans vos journaux des locataires.
4. Confirmez que votre API a reçu une requête `HTTP POST` avec les données de l’événement.
5. Accédez à l’affichage **Santé** et confirmez qu’aucune erreur n’est survenue.

## Dépannage de lien de rappel HTTP

Si votre lien de rappel HTTP ne fonctionne pas, il peut être difficile de diagnostiquer le problème et de déterminer ce qui en est la cause. Les lien de rappel HTTP sont asynchrones : les tester peut donc impliquer de déclencher le lien de rappel HTTP, d’attendre, puis de vérifier la réponse (en supposant que vous avez reçu une réponse).

Cependant, il existe certainement des alternatives à la méthode inefficace que nous avons détaillée ci-dessus. Bien que les détails complets sur la manière de dépanner un lien de rappel HTTP particulier dépassent le cadre de cet article, voici quelques étapes que vous pouvez suivre pour le débogage :

1. Vérifiez [Auth0 Dashboard > Surveillance > Journaux](/docs/fr-ca/deploy-monitor/logs) pour accéder à des messages utiles.
2. Analysez les requêtes effectuées par votre lien de rappel HTTP à l’aide d’un outil tel que [Mockbin](http://mockbin.io/), [Beeceptor](https://beeceptor.com/) ou (auto-hébergé) [RequestBin](https://github.com/Runscope/requestbin).
3. Simulez des requêtes en utilisant cURL ou [Postman](https://www.getpostman.com/).
4. Testez votre code de lien de rappel HTTP localement en utilisant quelque chose comme [localtunnel](https://github.com/localtunnel/localtunnel) ou [ngrok](https://ngrok.com/).
5. Utilisez un outil comme [Runscope](https://www.runscope.com/) ou [Assertible](https://assertible.com/) pour surveiller l’ensemble du flux d’exécution.

## En savoir plus

* [Vérifier l’état de l’exportation de journaux](/docs/fr-ca/customize/log-streams/check-log-stream-health)
* [Filtrer les événements du journal](/docs/fr-ca/deploy-monitor/logs/log-event-filters)
* [Codes de type d’événements de journal](/docs/fr-ca/deploy-monitor/logs/log-event-type-codes)