---
title: "Déclencheur après l’enregistrement de l'utilisateur"
permalink: "post-user-registration-trigger"
'description': "Découvrez le Flux postérieur à l’enregistrement d’utilisateurs et le déclencheur de l’Action post-user-registration, qui s’exécute après la création d’un utilisateur pour une base de données ou une connexion sans mot de passe."
'og:title': "Déclencheur après l’enregistrement de l'utilisateur"
'og:description': "Découvrez le Flux postérieur à l’enregistrement d’utilisateurs et le déclencheur de l’Action post-user-registration, qui s’exécute après la création d’un utilisateur pour une base de données ou une connexion sans mot de passe."
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Déclencheur après l’enregistrement de l'utilisateur"
'twitter:description': "Découvrez le Flux postérieur à l’enregistrement d’utilisateurs et le déclencheur de l’Action post-user-registration, qui s’exécute après la création d’un utilisateur pour une base de données ou une connexion sans mot de passe."
---

Le déclencheur après l’enregistrement de l'utilisateur s’exécute après l’ajout d’un utilisateur à une base de données ou à une connexion sans mot de passe.

<Frame>![Diagram of the Actions Post User Registration Flow.](/images/fr-ca/cdy7uua7fh8z/4bqF9YEPYQshnJGCx39pws/079798c354f4a83355a756a6a02650d5/post-user-registration-flow.png)</Frame>

Les actions de ce flux sont non bloquantes (asynchrones), ce qui signifie que le pipeline Auth0 continuera à fonctionner sans attendre la fin de l’exécution de l’Action. Ainsi, le résultat de l’Action n’affecte pas la transaction Auth0.

## Déclencheurs

### Post-enregistrement de l’utilisateur

Les déclencheurs `post-user-registration` s’exécutent après la création d’un utilisateur pour une base de données ou une connexion sans mot de passe. Vous pouvez utiliser ce déclencheur pour informer un autre système qu’un utilisateur s’est enregistré dans votre application. Il est possible de lier plusieurs actions à ce déclencheur, qui s’exécuteront dans l’ordre. Cependant, ces actions seront exécutées de manière asynchrone et ne bloqueront pas le processus d’enregistrement de l’utilisateur.

### Références

* [Objet événement](/docs/fr-ca/customize/actions/explore-triggers/signup-and-login-triggers/post-user-registration-trigger/post-user-registration-event-object)  : fournit des informations contextuelles sur l’utilisateur nouvellement créé.
* [Objet API](/docs/fr-ca/customize/actions/explore-triggers/signup-and-login-triggers/post-user-registration-trigger/api-object) : fournit des méthodes permettant de modifier le comportement du flux.

## Cas d’utilisation courants

### Notifier Slack quand un nouvel utilisateur s’inscrit

```javascript lines
/**
* Handler that will be called during the execution of a PostUserRegistration flow.
* 
 * @param {Event} event - Details about the context and user that has registered.
 * @param {PostUserRegistrationAPI} api - Interface whose methods can be used to change the behavior of post user registration.
 */

exports.onExecutePostUserRegistration = async (event, api) => {
  const { IncomingWebhook } = require("@slack/webhook");
  const webhook = new IncomingWebhook(event.secrets.SLACK_WEBHOOK_URL);

  const text = `New User: ${event.user.email}`;
  const channel = '#some_channel';

  webhook.send({ text, channel });
};
```

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Pour que cette action s’exécute correctement, elle doit contenir un secret nommé `SLACK_WEBHOOK_URL` et doit avoir une dépendance sur le package `npm``@slack/webhook`.

</Callout>

### Stocker l’ID de l’utilisateur Auth0 dans un système distant

Une action post-user-registration peut être utilisée pour stocker l’ID de l’utilisateur Auth0 dans un système distant.

```javascript lines
/**
* Handler that will be called during the execution of a PostUserRegistration flow.
* 
* @param {Event} event - Details about the context and user that has registered.
* @param {PostUserRegistrationAPI} api - Interface whose methods can be used to change the behavior of post user registration.
*/

const axios = require("axios");

exports.onExecutePostUserRegistration = async (event, api) => {
  await axios.post("https://my-api.exampleco.com/users", { params: { email: event.user.email }});
};
```

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Pour utiliser une bibliothèque `npm` comme `axios`, vous devez ajouter la bibliothèque à l’Action en tant que dépendance. Pour en savoir plus, lisez la section « Ajouter une dépendance » dans [Rédigez votre première action](/docs/fr-ca/customize/actions/write-your-first-action).

</Callout>

