---
title: "Déclencheurs d’actions : credentials-exchange - API Object"
permalink: "credentials-exchange-api-object"
'description': "En savoir plus sur l’API Object du déclencheur d’action « credentials-exchange »."
'og:title': "Déclencheurs d’actions : credentials-exchange - API Object"
'og:description': "En savoir plus sur l’API Object du déclencheur d’action « credentials-exchange »."
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Déclencheurs d’actions : credentials-exchange - API Object"
'twitter:description': "En savoir plus sur l’API Object du déclencheur d’action « credentials-exchange »."
---

L’API Object du déclencheur d’actions credentials-exchange comprend :

## `api.access`

Contrôle de la disponibilité du jeton d’accès.

### `api.access.deny(code, reason)`

Marquer l’échange de jetons en cours comme refusé.

Renvoie une référence à l’objet `api`.

<table class="table">
<thead>
<tr>
<th>Paramètre</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>`code`</td>
<td>
<p>
<em>Chaîne</em>. Le code d’erreur OAuth justifiant le rejet de la connexion. Doit être l’une des valeurs suivantes : `'invalid_scope'`,  `'invalid_request'`, ou `'server_error'`
</p>
</td>
</tr>
<tr>
<td>`reason`</td>
<td>
<p>
<em>Chaîne</em>. Une explication lisible par l’œil humain du rejet de l’octroi du jeton d’accès.
          </p>
</td>
</tr>
</tbody>
</table>

## `api.accessToken`

Demande de modification du jeton d’accès en cours d’émission.

### `api.accessToken.setCustomClaim(name, value)`

Définir une demande personnalisée sur le jeton d’accès qui sera émis dans le cadre de cet échange.

Renvoie une référence à l’objet `api`.

<table class="table">
<thead>
<tr>
<th>Paramètre</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>`name`</td>
<td>
<p>
<em>Chaîne</em>. Nom de la demande (il peut s’agir d’une
            adresse URL entièrement qualifiée).
          </p>
</td>
</tr>
<tr>
<td>`value`</td>
<td>
<p><em>Toute valeur</em>. La valeur de la demande.</p>
</td>
</tr>
</tbody>
</table>

## `api.cache`

Stockez et récupérez des données qui persistent entre les exécutions.

### `api.cache.delete(key)`

Supprimez un enregistrement décrivant une valeur mise en cache sous la clé fournie, le cas échéant.

Renvoie un objet `CacheWriteResult` avec  `type: "success"` si une valeur a été supprimée du cache. Une opération échouée renvoie `type: "error"`. En cas d’erreur, l’objet renvoyé affichera une propriété
`code` qui indique la nature de l’échec.

<table class="table">
<thead>
<tr>
<th>Paramètre</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>`key`</td>
<td>
<p><em>Chaîne</em>. La clé de l’enregistrement stockée dans le cache.</p>
</td>
</tr>
</tbody>
</table>

### `api.cache.get(key)`

Récupère un enregistrement décrivant une valeur mise en cache sous la clé
`key` fournie, le cas échéant. Si un enregistrement est trouvé, la valeur mise en cache peut être
trouvée dans la propriété `value` de l’objet retourné.

Renvoie un enregistrement si un élément est trouvé dans le cache sous la
`key` fournie. Les enregistrements de cache sont des objets dotés d’une propriété
`value` contenant la valeur mise en cache et d’une propriété
`expires_at` indiquant l’heure d’expiration maximale de l’enregistrement,
en millisecondes depuis l’époque Unix.

**Important :**
Ce cache est conçu pour des données éphémères de courte durée. Certains éléments peuvent ne pas être
disponibles lors de transactions ultérieures, même s’ils sont encore dans la limite
de leur durée de vie.

<table class="table">
<thead>
<tr>
<th>Paramètre</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>`key`</td>
<td>
<p><em>Chaîne</em>. La clé de l’enregistrement stockée dans le cache.</p>
</td>
</tr>
</tbody>
</table>

### `api.cache.set(key, value, [options])`

Stockez ou mettez à jour la valeur d’une chaîne dans le cache sous la clé spécifiée.

Les valeurs stockées dans ce cache sont limitées au déclencheur dans lequel elles sont définies.
Elles sont soumises aux
[Limites de cache des actions](/docs/fr-ca/customize/actions/limitations).

Les valeurs stockées de cette manière auront des durées de vie allant jusqu’aux
valeurs `ttl` ou `expires_at` spécifiées. Si aucune durée de vie n’est
spécifiée, elle sera de 15 minutes par défaut. Les durées de vie ne doivent pas
dépasser la durée maximale indiquée dans
[Limites de caches des actions](/docs/fr-ca/customize/actions/limitations).

<table class="table">
<thead>
<tr>
<th>Paramètre</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>`key`</td>
<td>
<p><em>Chaîne</em>. La clé de l’enregistrement stockée dans le cache.</p>
</td>
</tr>
<tr>
<td>`value`</td>
<td>
<p><em>Chaîne</em>. La valeur de l’enregistrement à stocker.</p>
</td>
</tr>
<tr>
<td>`options`</td>
<td>
<p><em>Objet facultatif</em>. Options permettant de régler le comportement du cache.</p>
</td>
</tr>
<tr>
<td>`options.expires_at`</td>
<td>
<p>
<em>Numéro facultatif</em>. L’heure d’expiration absolue en millisecondes
            depuis l’époque Unix. Bien que les enregistrements mis en cache puissent être expulsés plus tôt,
            ils ne resteront jamais au-delà de la valeur
            `expires_at` fournie.
          </p>
<p>
<em>Remarque :</em> Cette valeur ne doit pas être fournie si une valeur a également été donnée
            pour `ttl`. La première des deux échéances sera retenue
            si les deux options sont fournies.
          </p>
</td>
</tr>
<tr>
<td>`options.ttl`</td>
<td>
<p>
<em>Numéro facultatif</em>. Valeur de la durée de vie de cette entrée de cache
            en millisecondes. Bien que les valeurs mises en cache puissent être expulsés plus tôt,
            elles ne resteront jamais au-delà de la valeur `ttl` fournie.
          </p>
<p>
<em>Remarque :</em> Cette valeur ne doit pas être fournie si une valeur a également été donnée
            pour `expires_at`. La première des deux échéances sera retenue
            si les deux options sont fournies.
          </p>
</td>
</tr>
</tbody>
</table>