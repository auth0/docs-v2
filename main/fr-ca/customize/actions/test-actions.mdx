---
title: "Tester les actions"
permalink: "test-actions"
'description': "Apprenez à tester et à déboguer Auth0 Actions"
'og:title': "Tester les actions"
'og:description': "Apprenez à tester et à déboguer Auth0 Actions"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Tester les actions"
'twitter:description': "Apprenez à tester et à déboguer Auth0 Actions"
---

Selon l’état d’avancement de votre implémentation, vous disposez de plusieurs options différentes pour tester et déboguer Auth0 Actions.

Nous vous recommandons de tester les différentes actions du <Tooltip href="/docs/fr-ca/glossary?term=auth0-dashboard" tip="Auth0 Dashboard
Principal produit d’Auth0 pour configurer vos services." cta="Voir le glossaire">Auth0 Dashboard</Tooltip> au fur et à mesure de leur mise en œuvre. Une fois que vous êtes prêt, vous devez vérifier que le flux de bout en bout fonctionne comme prévu en utilisant les journaux des locataires dans l’Auth0 Dashboard.

## Tester les actions individuelles

Vous pouvez tester des actions individuelles à l’aide de l’éditeur de code d’actions. La capacité de test de l’éditeur simule une requête à l’action à l’aide d’un échantillon de données utiles basé sur le flux auquel l’action est associée. Pour tester une action individuelle :

1. Naviguez vers [Auth0 Dashboard > Actions](https://manage.auth0.com/#/actions), et choisissez le Flux et l’Action que vous souhaitez modifier.
2. Repérez l’Éditeur de code d’Actions et sélectionnez **Test** (l’icône de lecture) dans la barre latérale. Modifiez les données utiles dans la barre latérale Test pour analyser le résultat de différentes données utiles.
3. Sélectionnez **Exécuter**.

Les résultats du test indiquent les étapes suivies par l’action, la sortie de la console, les erreurs qui se sont produites et des statistiques utiles sur l’exécution de l’action.

<Frame>![Capture d’écran du module de tests à l’intérieur du Action Code Editor (Éditeur de code d’Actions)](/images/fr-ca/cdy7uua7fh8z/7I4CRM8SmRFiibjuk55L86/167d01b673fe661e9dd5444e5033232f/2025-02-21_10-39-55.png)</Frame>

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Vous pouvez également tester une Action à l’aide du [point de terminaison **Tester une action**](https://auth0.com/docs/api/management/v2#!/Actions/post_test_action) de Management API et fournir une charge utile correspondant au flux auquel l’Action est associée. Pour obtenir un exemple de charge utile, testez l’Action à l’aide de la fonction Test de l’éditeur de code d’actions.

</Callout>

## Déboguer les actions déployées

Maintenant que vous avez testé votre Action, il est temps de la déployer et d’observer son exécution. En supposant que vous ayez déployé votre Action et que vous l’ayez ajoutée à un flux (pour savoir comment attacher des Actions à des Flux, lisez la section « Attach the Action to a flow » (Attacher l’Action à un Flux) dans [Programmer votre première Action](/docs/fr-ca/customize/actions/write-your-first-action)). Vous pouvez déboguer votre Action en direct en quelques étapes.

### Vérifier le Flux de connexion de bout en bout

Pour une Action `post-login`, vous pouvez vérifier le flux de bout en bout en exécutant une tentative de connexion pour votre locataire :

1. Naviguez vers [Auth0 Dashboard > Authentication (Authentification) > Authentication Profile (Profil d’authentification)](https://manage.auth0.com/#/authentication-profiles), et sélectionnez **Try (Essayer)**. Une fenêtre contenant un exemple de connexion s’ouvre.
2. Procédez à travers le flux de connexion. Le flux de connexion exécutera toutes les actions configurées.

Une fois l’opération terminée, vous serez redirigé vers une page qui énumère les attributs du profil utilisateur que vos applications recevront ou qui affiche un message d’erreur expliquant ce qui n’a pas fonctionné.

### Analyser les journaux des locataires

Chaque fois qu’un déclencheur s’exécute et qu’une Action associée est liée à son Flux, vos [journaux de locataire](/docs/fr-ca/deploy-monitor/logs/view-log-events) incluront les détails de l’exécution de l’Action.

Dans la liste des journaux des locataires, vous pouvez voir les journaux associés aux Actions et choisir de les consulter. Dans l’exemple ci-dessous, le type de journal `Connexion réussie` est associé à une Action sur le déclencheur `post-login` de ce locataire.

<Frame>![Capture d’écran de la Liste de journaux du locataire dans le Tableau de bord Auth0, montrant les journaux qui sont associés avec l’exécution de l’Action.](/images/fr-ca/cdy7uua7fh8z/4hIo2YJ8fr2tfMEWhaLyn4/3cd1c922956edd7ca33c1ba98c53e995/2025-02-21_10-36-42.png)</Frame>

Voici quelques exemples de types de journaux associés aux Actions :

<table class="table"><thead>
<tr>
<th><strong>Nom</strong></th>
<th><strong>Déclencheur(s)</strong>                                </th>
</tr>
</thead>
<tbody>
<tr>
<td>Connexion réussie</td>
<td><a href="/docs/fr-ca/customize/actions/triggers/post-login">post-connexion</a></td>
</tr>
<tr>
<td>Connexion ratée</td>
<td><a href="/docs/fr-ca/customize/actions/triggers/post-login">post-connexion</a></td>
</tr>
<tr>
<td>Échange réussi</td>
<td><a href="/docs/fr-ca/customize/actions/triggers/post-login">post-login</a></td>
</tr>
<tr>
<td>Échange échoué</td>
<td><a href="/docs/fr-ca/customize/actions/triggers/post-login">post-login</a></td>
</tr>
<tr>
<td>Changement de mot de passe réussi</td>
<td><a href="/docs/fr-ca/customize/actions/triggers/post-change-password">post-change-password</a></td>
</tr>
<tr>
<td>Changement de mot de mot de passe échoué</td>
<td><a href="/docs/fr-ca/customize/actions/triggers/post-change-password">post-change-password</a></td>
</tr>
<tr>
<td>Enregistrement réussi</td>
<td><a href="/docs/fr-ca/customize/actions/triggers/pre-user-registration">pre-user-registration</a></td>
</tr>
<tr>
<td>Enregistrement échoué</td>
<td><a href="/docs/fr-ca/customize/actions/triggers/pre-user-registration">pre-user-registration</a></td>
</tr>
<tr>
<td>Échange réussi</td>
<td><a href="/docs/fr-ca/customize/actions/triggers/credentials-exchange">credentials-exchange</a></td>
</tr>
<tr>
<td>Échange échoué</td>
<td><a href="/docs/fr-ca/customize/actions/triggers/credentials-exchange">credentials-exchange</a></td>
</tr>
</tbody>
</table>

Pour afficher les informations détaillées sur l’exécution de l’Action, sélectionnez le journal associé à l’exécution d’une Action, puis sélectionnez la vue **Action Details (Détails de l’Action)**. Dans les détails de l’Action, vous pouvez consulter les statistiques d’exécution, la sortie de la console et les éventuelles erreurs qui se sont produites.

<Frame>![Capture d’écran d’un journal individuel associé aux tests d’Actions.](/images/fr-ca/cdy7uua7fh8z/1WrsQvjZxI2WRMrtltandy/8e3d854f05d59c1cd385832db05ba240/2025-02-21_10-18-49.png)</Frame>

## Test unitaire des Actions

Vous pouvez tester vos Auth0 Actions à l’unité en simulant l’événement et l’API passés dans votre fonction d’Action. Vos Actions peuvent se trouver dans le contrôle de version ou dans un répertoire local, et vous pouvez utiliser un outil comme Jest pour tester automatiquement vos Actions. Dans l’exemple suivant, nous utilisons le déclencheur [Connexion/Post-connexion](/docs/fr-ca/customize/actions/explore-triggers/signup-and-login-triggers/login-trigger) et [Jest](https://jestjs.io/) pour simuler et tester.

**Code d’Action :**

```javascript lines
// action.js

exports.onExecutePostLogin = async (event, api) => {
  const namespace = "https://my-app.example.com";
  if (event.authorization) {
    api.idToken.setCustomClaim(`${namespace}/favorite_color`, "pink");
  }
};
```

**Code du fichier de test :**

```javascript lines
// action.spec.js

const { onExecutePostLogin } = require("./action.js");
test("sets favorite_color ID token claim to pink", async () => {
  const namespace = "https://my-app.example.com";
  const mockFunction = jest.fn();
  const mockApi = { idToken: { setCustomClaim: mockFunction } };
  const mockEvent = {authorization: {}};

  await onExecutePostLogin(mockEvent, mockApi);
  expect(mockFunction).toBeCalledWith(
    `${namespace}/favorite_color`,
    "pink"
  );
});
```

## Meilleures pratiques

Lorsque vous construisez des Actions dans Auth0, [nous vous recommandons de créer un locataire Auth0 dédié par environnement](/docs/fr-ca/get-started/auth0-overview/create-tenants/set-up-multiple-environments). Cela vous permet d’isoler votre base d’utilisateurs de production de vos autres environnements, ainsi que de configurer différents administrateurs par environnement (par exemple, les ingénieurs peuvent ne pas avoir accès à la configuration de production).

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Si vous souhaitez gérer, tester et déployer entièrement vos Actions via une interface de ligne de commande ou un pipeline CI/CD, vous pouvez utiliser l’outil [Deploy CLI](/docs/fr-ca/deploy-monitor/deploy-cli-tool).

</Callout>

