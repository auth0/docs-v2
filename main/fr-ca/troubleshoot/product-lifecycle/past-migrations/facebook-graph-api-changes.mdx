---
title: "Facebook Modifications de l’API Graph"
permalink: "facebook-graph-api-changes"
'description': "La dernière version de l’API Graph Facebook modifie les autorisations et les champs qui peuvent être demandés."
'og:title': "Facebook Modifications de l’API Graph"
'og:description': "La dernière version de l’API Graph Facebook modifie les autorisations et les champs qui peuvent être demandés."
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Facebook Modifications de l’API Graph"
'twitter:description': "La dernière version de l’API Graph Facebook modifie les autorisations et les champs qui peuvent être demandés."
---

Depuis le 1er août 2018, Facebook a modifié les autorisations et les champs de l’API Graph Facebook qui peuvent être demandés. Auth0 a mis à jour Connexions Facebook pour refléter ces changements et a modifié l’interface de connexion pour plus de clarté. Consulter [Journal des modifications récentes de connexion Facebook : Modifications récentes de la connexion Facebook](https://developers.facebook.com/docs/facebook-login/changelog#2018-07-02) pour plus de détails et les dates clés.

## Caractéristiques affectées

La mise à jour peut ne pas nécessiter de modifications de votre code ou de votre configuration, mais votre application peut recevoir des données de profil supplémentaires si les autorisations existantes le permettent. N’oubliez pas que :

* Si votre connexion Facebook est configurée pour demander l’une des autorisations supprimées, votre jeton d’accès ne les obtiendra pas.
* Si votre application Facebook est marquée comme « développement », il se peut qu’une erreur s’affiche temporairement lors de la tentative de connexion.
* Si vous ajoutez de nouvelles autorisations à la connexion, les utilisateurs finaux seront invités à donner leur accord lors de leur prochaine connexion. Consultez la documentation Facebook pour savoir comment gérer les actions pour les utilisateurs qui ne disposent pas d’une autorisation spécifique.

### Autorisations de connexion Facebook

[Les autorisations de connexion Facebook](https://developers.facebook.com/docs/facebook-login/permissions) sont demandées par votre application lorsqu’un utilisateur se connecte à l’aide de Facebook. Si l’utilisateur se connecte pour la première fois ou si les autorisations ont été modifiées, une fenêtre de consentement s’affiche dans Facebook, indiquant les nouvelles autorisations demandées. Une fois ces autorisations accordées, votre application peut agir au nom de l’utilisateur avec un jeton d’accès Facebook.

L’interface de connexion Facebook a été mise à jour afin d’afficher à la fois le nom habituel et le nom de la machine pour toutes les autorisations affichées. Il est ainsi plus facile de trouver les autorisations dont vous avez besoin et de les associer au code que vous exécutez en utilisant ces noms d’autorisation.

#### Permissions ajoutées

Les permissions suivantes ont été ajoutées à l’interface de connexion Facebook :

* business_management
* groups_access_member_info
* leads_retrieval
* pages_manage_instant_articles
* publish_to_groups
* publish_to_groups
* user_age_range
* user_gender
* user_link

#### Permissions supprimées

Les permissions suivantes ont été supprimées de l’interface de connexion Facebook :

* read_custom_friendlists
* rsvp_event
* user_about_me
* user_actions-books
* user_actions-fitness
* user_actions-music
* user_actions-news
* user_actions-video
* user_education_history
* user_games_activity
* user_relationship_details
* user_relationships
* user_religion_politics
* user_website
* user_work_history

#### Permissions déplacées vers les permissions déconseillées

Les autorisations suivantes ont été déplacées vers la section **Déconseillé** et ne doivent pas être utilisées avec la dernière version de l’API Graph :

* publish_actions
* user_managed_groups

### Champs de l’API Graph Facebook

L’API Graph [Facebook](https://developers.facebook.com/docs/graph-api/reference/v3.2/user) est utilisée après la connexion d’un utilisateur pour récupérer les données de profil de l’utilisateur Auth0. Les autorisations demandées pour les données de l’utilisateur déterminent les informations extraites de l’API Graph. Les champs renvoyés dépendent des autorisations demandées et de l’existence de ces champs dans le profil utilisateur Facebook.

Cette modification a fait passer l’API Graph de la version 2.8 à la version 3.2 et demandera les champs de données utilisateur suivants lors de la connexion :

* address (ajouté)
* age_range
* birthday
* context
* cover
* currency (ajouté)
* devices
* de courriel
* favorite_athletes
* favorite_teams
* first_name
* gender
* hometown
* id
* inspirational_people
* install_type (ajouté)
* installed
* is_verified
* languages
* last_name
* lien
* locale
* location
* meeting_for (ajouté)
* middle_name
* nom
* name_format
* image
* public_key (ajouté)
* quotes
* security_settings (ajouté)
* short_name (ajouté)
* significant_other
* sports (ajouté)
* third_party_id
* timezone
* updated_time
* verified
* video_upload_limits (ajouté)
* viewer_can_send_gift (ajouté)