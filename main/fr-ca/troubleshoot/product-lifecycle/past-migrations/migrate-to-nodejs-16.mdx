---
title: "Migrer vers la version 16 de Node.js"
permalink: "migrate-to-nodejs-16"
'description': "Décrit les fonctionnalités Auth0 affectées par la migration de la version 12 de Node.js vers la version 16 de Node.js et fournit des recommandations pour la migration."
'og:title': "Migrer vers la version 16 de Node.js"
'og:description': "Décrit les fonctionnalités Auth0 affectées par la migration de la version 12 de Node.js vers la version 16 de Node.js et fournit des recommandations pour la migration."
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Migrer vers la version 16 de Node.js"
'twitter:description': "Décrit les fonctionnalités Auth0 affectées par la migration de la version 12 de Node.js vers la version 16 de Node.js et fournit des recommandations pour la migration."
---

Le 30 avril 2022, [la version 12 de Node.js est sortie de la période de support à long terme (LTS)](https://github.com/nodejs/Release#release-schedule), ce qui signifie que l’équipe de développement de Node.js ne rétroporte plus les correctifs de sécurité critiques vers cette version. Cela pourrait potentiellement exposer votre code d’extensibilité à des vulnérabilités de sécurité. Par conséquent, Auth0 migre de la version 12 de Node.js vers la version 16 de Node.js.

## Recommandations

Bien que la mise à jour de la version 16 de Node.js n’introduira aucun changement radical dans la bibliothèque standard Node.js (les règles et les scripts d’action de base de données personnalisées sont affectés; veuillez consulter la section [Modifications importantes - Règles et scripts d’action de base de données personnalisés uniquement](#breaking-changes-rules-only)); nous encourageons les clients utilisant la version 12 de Node.js à rester à jour avec les versions de support à long terme (LTS) actives de Node.js pour des raisons de sécurité et de conformité. Les clients qui utilisent encore la version 8 de Node ne sont plus conformes aux normes de sécurité et doivent migrer vers la version 16 de Node pour éliminer les risques de sécurité. Le 22 février 2022, nous avons supprimé l’environnement d’exécution de la version 8 de Node pour les locataires du nuage public et l’avons supprimé dans la version du nuage privé d’avril 2022. Après ces dates, les locataires encore configurés sur la version 8 de Node seront exposés à un risque d’interruption de service.

Actions est conçu pour prendre en charge plusieurs versions de Node simultanément et prend actuellement en charge les versions12 et 16 de Node. De plus, les intégrations d’actions sans code suivront le contrôle de version « always current » (toujours actuelle) standard de l’industrie avec des versions mineures mises à jour automatiquement; le code sous-jacent restera toujours à jour et à la dernière version de Node.js.

<table class="table"><thead>
<tr>
<th>Clients utilisant</th>
<th>Doivent</th>
<th>Tâche</th>
</tr>
</thead>
<tbody>
<tr>
<td>Actions Node 12</td>
<td>Mettre à jour toutes les versions d’actions personnalisées existantes vers une nouvelle version, qui sera mise à jour vers Node 16.</td>
<td>Mettre à jour toutes les versions des actions personnalisées dès que possible.</td>
</tr>
<tr>
<td>Node 12 hérité (Règles/Hooks/Extensions)</td>
<td>Commencer la migration vers les Actions Node 16.</td>
<td><a href="/docs/fr-ca/customize/actions/migrate">Migrer vers les Actions Node 16</a> dès que possible.</td>
</tr>
<tr>
<td>Node 8 hérité</td>
<td>Migrez immédiatement vers Actions dans la mesure du possible. Pour les Règles et les Appels qui ne peuvent pas être immédiatement migrés vers les Action, vous devez, au minimum, mettre à jour votre code vers Node 12 et mettre à jour les paramètres du locataire vers Node 12.</td>
<td><a href="/docs/fr-ca/customize/actions/migrate">Migrer vers Actions Node 16</a> immédiatement.</td>
</tr>
</tbody>
</table>

## Tâches

### Actions de mise à niveau

Les Actions existantes créées sur la version 12 de Node peuvent être mises à niveau vers la version 16 de Node et ultérieurement rétablies vers une version 12 précédente de Node, le cas échéant. Actions de mise à niveau vers la version 16 de Node en [créant et déployant une nouvelle version](/docs/fr-ca/customize/actions/manage-versions) configurée pour utiliser la version 16 de Node comme environnement d’exécution.

### Migrer les Règles et Hooks vers les Actions

Dans la mesure du possible, migrez les Règles et les Hooks vers les Actions. Pour déterminer quelles Règles et Hooks peuvent être migrés, veuillez consulter [Limites des actions](/docs/fr-ca/customize/actions/limitations). Pour savoir comment migrer vos Règles et vos Hooks vers des Actions, veuillez consulter nos guides disponibles sur [Migrer vers les actions](/docs/fr-ca/customize/actions/migrate).

### Activer l’exécution de la version 16 de Node

Si vous utilisez des produits d’extensibilité hérités, tels que des Règles, des Hooks ou des Extensions, vous devez activer l’environnement d’exécution version 16 de Node au niveau du locataire. Nous vous recommandons de commencer par basculer votre locataire de développement vers l’environnement d’exécution de la version 16 de Node, de tester votre configuration, puis de basculer votre locataire de production.

1. Activez la version 16 de Node sur votre locataire de développement à l’aide du panneau **Extensibilité** sur la page [Paramètres avancés du locataire](https://manage.auth0.com/#/tenant/advanced) du Dashboard. Sélectionnez **Node 16** à partir du menu déroulant **Runtime**.
2. Cliquez sur **Enregistrer**.
3. Vérifiez que vous ne disposez pas des éléments répertoriés ci-dessous ou que vous avez terminé les étapes de migration pour chacun d’eux.
4. Testez votre configuration. Une fois les tests terminés, répétez les étapes 1 et 2 ci-dessus en utilisant votre locataire de production pour activer la version 16 de Node dans l’environnement de production.

### Modifications importantes - Règles et scripts d’actions de base de données personnalisés uniquement

Les règles s’appliquent dans un service sandbox JavaScript. Le sandbox prend en charge le langage ECMAScript 6 et un grand nombre de modules Node.js (version 16 et supérieures). Si vous utilisez l’une de ces propriétés globales dans le cadre des Règles ou des scripts d’action de base de données personnalisées, [recherchez une alternative dans notre liste de modules sandbox pris en charge](https://auth0-extensions.github.io/canirequire/) et demandez-la explicitement.

* `_`
* `async`
* `Auth0`
* `azure_storage`
* `bcrypt`
* `crypto`
* `couchbase`
* `cql`
* `ip`
* `jwt`
* `Knex`
* `mongo`
* `mysql`
* `mysql_pool`
* `ObjectID`
* `pbkdf2`
* `pg`
* `postgres`
* `Pubnub`
* `q`
* `querystring`
* `request`
* `sqlserver`
* `uuid`
* `xml2js`
* `xmldom`
* `xpath`
* `xtend`