---
title: "Valider la migration du nom d’hôte de locataire"
permalink: "tenant-hostname-migration"
'description': "Décrit comment chercher des avis d’obsolescence dans les journaux de locataires afin de vous permettre de migrer votre domaine d’application"
'og:title': "Valider la migration du nom d’hôte de locataire"
'og:description': "Décrit comment chercher des avis d’obsolescence dans les journaux de locataires afin de vous permettre de migrer votre domaine d’application"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Valider la migration du nom d’hôte de locataire"
'twitter:description': "Décrit comment chercher des avis d’obsolescence dans les journaux de locataires afin de vous permettre de migrer votre domaine d’application"
---

Depuis le 9 juin 2022 (nuage public) et le 9 septembre 2022 (nuage privé), Auth0 ajoute une couche de validation pour Authentication API. Nous avons publié des avis d’obsolescence dans les journaux de locataires et un indicateur de migration pour vous préparer à cette modification si Auth0 a détecté que des appels provenant de vos applications vers Authentication API risquent d’être touchés par cette modification.

### Points de terminaison affectés :

Depuis le 9 juin 2022 (nuage public) et le 9 septembre 2022 (nuage privé), les appels vers les points de terminaison d’Authentication API ci-après qui ne sont pas correctement validés sont rejetés. Auth0 vous recommande de migrer l’URL du domaine de votre application ou l’identifiant des appels API vers le même locataire.

Points de terminaison affectés :

* `/oauth/token`
* `/co/authenticate`
* `/userinfo`
* `/login`
* `/oauth/revoke`
* `/mfa/challenge`
* `/p/<connection-type>/<ticket>` (point de terminaison de fourniture de connexion Entreprise)

## Examiner les journaux de locataires

Recherchez d’abord des avis d’obsolescence dans vos journaux de locataires pour savoir si vous devez migrer votre application.

1. Allez à [Dashboard > Surveillance > Journaux](https://manage.auth0.com/#/logs).

   1. Recherchez dans les journaux `type:depnote AND description:ignore*request*host*header*` pour trouver l’avis de dépréciation identifiant les applications concernées devant être migrées. L’entrée de journal comprend l’ID de toutes les applications concernées et le message suivant :
      `Ignorer l’en-tête Host de la requête : Cette fonctionnalité est dépréciée. Consultez https://auth0.com/docs/product-lifecycle/deprecations-and-migrations``/tenant-hostname-migration` pour plus de détails.
   2. Localisez la section **Détails > Brut du journal**. Vous y trouverez le `client_id` de l’application à mettre à jour ou le `connection_id` s’il s’agit d'un point de terminaison de provisionnement.

      <Callout icon="file-lines" color="#0EA5E9" iconType="regular">

      Examinez le champ `tenant_from_host`. Ce champ contient le locataire Auth0 identifié à partir du domaine reçu dans vos appels API.

      </Callout>

2. Modifiez toutes les applications touchées.

   1. S’il existe des problèmes d’alignement au niveau du locataire et du locataire du domaine, vous devez modifier les identifiants envoyés, ou l’URL du domaine, ainsi que les autres paramètres de demande mal configurés.
   2. Le locataire du domaine doit être équivalent au locataire associé au `client_id` ou `connection_id`.

Les journaux de locataires n’incluront plus d’avis d’obsolescence concernant cette migration une fois que vous avez terminé la migration de tous les locataires concernés.

## Vérifier la la migration

Une fois que vous avez migré vos applications et configuré les noms d’hôte non validés, vérifiez vos modifications en désactivant le comportement obsolète à votre convenance, avant le 9 juin 2022 ou le 9 septembre 2022.

1. Rendez-vous à [Dashboard > Paramètres du locataire > Avancés > Migrations](https://manage.auth0.com/#/tenant/advanced).
2. Désactivez l’option **Ignorer l’en-tête Hôte de la demande****.** En désactivant cette option, vous appliquerez la validation à votre locataire et terminerez la migration.

Si la validation du nom d’hôte ne fonctionne pas comme prévu après avoir désactivé cette option, vous recevrez une erreur 4xx indiquant que le locataire du domaine et le locataire associé au `client_id` ou `connection_id` ne sont pas les mêmes.

Une fois que toutes les migrations d’applications ont été effectuées avec succès et confirmées dans les environnements de production, vous pouvez désactiver l’option de façon permanente pour vous assurer que les fonctionnalités déconseillées ne peuvent plus être utilisées. Depuis le 9 juin 2022 (nuage public) et le 9 septembre 2022 (nuage privé), Auth0 applique la validation du nom d’hôte et l’option associée est supprimée de vos paramètres du locataire.