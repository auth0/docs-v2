---
title: "Applications à page unique (SPA) avec API"
permalink: "spa-api"
'description': "Explique le scénario d’architecture dans lequel une application à page unique (SPA) communique avec une API en utilisant OpenID Connect (OIDC) et le flux d’autorisation implicite OAuth 2.0, pour authentifier les utilisateurs avec Auth0."
'og:title': "Applications à page unique (SPA) avec API"
'og:description': "Explique le scénario d’architecture dans lequel une application à page unique (SPA) communique avec une API en utilisant OpenID Connect (OIDC) et le flux d’autorisation implicite OAuth 2.0, pour authentifier les utilisateurs avec Auth0."
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Applications à page unique (SPA) avec API"
'twitter:description': "Explique le scénario d’architecture dans lequel une application à page unique (SPA) communique avec une API en utilisant OpenID Connect (OIDC) et le flux d’autorisation implicite OAuth 2.0, pour authentifier les utilisateurs avec Auth0."
---

Dans ce scénario, nous allons créer une API de feuilles de temps pour une entreprise fictive appelée ExampleCo. L’API permettra d’ajouter des entrées de feuilles de temps pour un employé ou un entrepreneur.

Nous construirons également une application à page unique (SPA) qui sera utilisée pour enregistrer les entrées des feuilles de temps et les envoyer à la base de données centralisée des feuilles de temps à l’aide de l’API.

::: Panneau TLDR

* Auth0 fournit l’authentification et l’autorisation API comme moyen de sécuriser l’accès aux points de terminaison API (voir [API Authentification and authorisation](/docs/fr-ca/get-started/architecture-scenarios/spa-api/part-1#api-authentication-and-authorization) )
* Pour autoriser un utilisateur d’une SPA, Auth0 recommande l’utilisation du flux de code d’autorisation avec PKCE (voir [Authorization Code Flow with PKCE](/docs/fr-ca/get-started/authentication-and-authorization-flow/call-your-api-using-the-authorization-code-flow-with-pkce)) pour plus d’informations.\* L’application à page unique (SPA) et l’API doivent être configurées dans Auth0 Dashboard (voir [Auth0 Configuration](/docs/fr-ca/architecture-scenarios/spa-api/part-2#auth0-configuration))
* Les autorisations des utilisateurs peuvent être appliquées à l’aide de l’extension d’autorisation (voir [Configure the Authorization Extension](/docs/fr-ca/architecture-scenarios/spa-api/part-2#configure-the-authorization-extension))
* L’API sera sécurisée en veillant à ce qu’un jeton d’accès valide soit transmis dans l’en-tête d’autorisation HTTP lors des appels à l’API (voir [Implement the API](/docs/fr-ca/get-started/architecture-scenarios/spa-api/part-3#implement-the-api))
* La bibliothèque Auth0.js peut être utilisée pour autoriser l’utilisateur de l’application à page unique (SPA) et obtenir un jeton d’accès valide pouvant être utilisé pour appeler l’API (voir [Authorize the User](/docs/fr-ca/get-started/architecture-scenarios/spa-api/part-3#authorize-the-user))
* L’application à page unique (SPA) peut transmettre le jeton d’accès dans l’en-tête d’autorisation HTTP lors de l’appel à l’API (voir [Call the API](/docs/fr-ca/get-started/architecture-scenarios/spa-api/part-3#call-the-api))
* L’application à page unique (SPA) peut afficher des éléments d’interface utilisateur de manière conditionnelle en fonction des permissions accordées à l’utilisateur (voir [Display UI Elements Conditionally Based on Scope](/docs/fr-ca/get-started/architecture-scenarios/spa-api/part-3#display-ui-elements-conditionally-based-on-scope)) :::

<Warning>

Bien qu’Auth0 prenne en charge l’utilisation de l’octroi implicite pour les applications basées sur un navigateur ne nécessitant qu’un jeton d’ID, il est conseillé d’utiliser l’octroi de code d’autorisation avec [PKCE](/docs/fr-ca/get-started/authentication-and-authorization-flow/authorization-code-flow-with-pkce). Pour des informations détaillées, veuillez consulter [Octroi implicite OAuth2 et SPA](https://auth0.com/blog/oauth2-implicit-grant-and-spa/) sur le blog Auth0.

Si vous avez besoin d’un [Jeton d’actualisation](/docs/fr-ca/secure/tokens/refresh-tokens) pour obtenir un nouveau jeton d’accès ou jeton d’ID sans avoir à réauthentifier l’utilisateur, vous devez alors utiliser l’[octroi de code d’autorisation](/docs/fr-ca/get-started/authentication-and-authorization-flow/authorization-code-flow/call-your-api-using-the-authorization-code-flow).

</Warning>

## Le principe

ExampleCo est une société de conseil en démarrage. Elle emploie actuellement une centaine de personnes et sous-traite également plusieurs activités à des sous-traitants externes. Tous les employés et les sous-traitants externes sont tenus de remplir leurs feuilles de temps chaque semaine.

La société à développé une application de feuilles de présence, scénario que nous avons abordé dans [Authentification unique pour les applications Web classiques](/docs/fr-ca/get-started/architecture-scenarios/sso-for-regular-web-apps). Les employés internes utilisent cette application web pour remplir leurs feuilles de temps, mais l’entreprise souhaite la remplacer par une SPA. L’application sera utilisée pour enregistrer les entrées des feuilles de temps et envoyer les données à la base de données centralisée des feuilles de temps à l’aide de l’API. L’application permettra également aux responsables d’approuver les entrées de feuilles de temps.

## Objectifs et exigences

ExampleCo souhaite mettre en place une solution flexible. Pour l’instant, seule une SPA est nécessaire pour saisir les feuilles de temps, mais à l’avenir, l’entreprise prévoit de lancer d’autres applications, comme une application mobile pour ses équipes de vente. C’est pourquoi l’entreprise a décidé de développer une API de feuilles de temps unique qui sera utilisée pour enregistrer le temps non seulement par ce processus de serveur, mais aussi par toutes les applications futures. L’entreprise souhaite mettre en place une architecture de sécurité suffisamment souple pour s’adapter à cette situation. ExampleCo veut s’assurer qu’une grande partie du code et de la logique commerciale de l’application peut être partagée entre les différentes applications.

Seuls les utilisateurs et les applications autorisés peuvent accéder à l’API de feuilles de temps.

Deux types d’utilisateurs utiliseront cette SPA : les employés et les gestionnaires. Les employés doivent pouvoir lire, créer et supprimer leurs propres entrées de feuilles de temps, tandis que les responsables doivent également pouvoir approuver les feuilles de temps.

## En savoir plus

* [Aperçu de solution (SPA + API)](/docs/fr-ca/get-started/architecture-scenarios/spa-api/part-1)
* [Configuration Auth0 (SPA + API)](/docs/fr-ca/get-started/architecture-scenarios/spa-api/part-2)
* [Configuration de l’API et de la SPA (SPA + API)](/docs/fr-ca/get-started/architecture-scenarios/spa-api/part-3)
* [Mise en œuvre de l’API Node.js (SPA + API)](/docs/fr-ca/get-started/architecture-scenarios/spa-api/api-implementation-nodejs)
* [Implémentation de SPA Angular 2 (SPA + API)](/docs/fr-ca/get-started/architecture-scenarios/spa-api/spa-implementation-angular2)
* [Conclusion (SPA + API)](/docs/fr-ca/get-started/architecture-scenarios/spa-api/part-4)