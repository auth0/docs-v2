---
title: "Configurer plusieurs environnements"
permalink: "set-up-multiple-environments"
'description': "Décrit comment utiliser plusieurs locataires Auth0 pour gérer divers environnements."
'og:title': "Configurer plusieurs environnements"
'og:description': "Décrit comment utiliser plusieurs locataires Auth0 pour gérer divers environnements."
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Configurer plusieurs environnements"
'twitter:description': "Décrit comment utiliser plusieurs locataires Auth0 pour gérer divers environnements."
---

Les environnements de développement, d’essai et de production sont faciles à mettre en place dans Auth0. Il suffit de créer un nouveau locataire pour chaque environnement afin de garantir l’isolation entre eux. Vous pouvez facilement passer d’un locataire à l’autre en utilisant le sélecteur de locataires dans le menu en haut à gauche du tableau de bord. Vous pouvez également configurer des administrateurs différents pour chacun d’entre eux.

En mode production, les [limites anti-attaques](/docs/fr-ca/troubleshoot/customer-support/operational-policies/rate-limit-policy) ne s’appliquent qu’aux locataires identifiés pour la `Production`. Vérifiez que l’étiquette d’environnement de votre locataire est définie sur `Production` avant la mise en service, et notez les différences entre les limites anti-attaques pour différents locataires, environnements et structures de frais.

Vous pouvez nommer vos environnements multiples comme vous le souhaitez. Pour les environnements de production, nous conseillons fortement d’utiliser des [domaines personnalisés](/docs/fr-ca/customize/custom-domains).

Si vous avez un plan d’abonnement Entreprise, vous pouvez [lier des locataires](/docs/fr-ca/get-started/auth0-overview/create-tenants/child-tenants) qui deviennent identiques pour votre compte de production en termes de fonctionnalités payantes/améliorées pour une utilisation dans un environnement de développement/préparation/test.

## Étiqueter l’environnement

Pour chaque nouveau locataire créé, vous devez préciser son environnement. Vous pouvez attribuer des étiquettes d’environnement à vos locataires afin de différencier les environnements de développement, de préparation et de production.

Si votre locataire est à usage mixte, choisissez l’environnement le plus élevé. Par exemple, un locataire utilisé à la fois pour le développement et la production doit être étiqueté comme **Production**.

1. Pour attribuer une étiquette d’environnement à un locataire, accédez à [Dashboard > Paramètres > Général](https://manage.auth0.com/#/tenant/general).

   <Frame>![Dashboard (Tableau de bord) - Tenant Settings (Paramètres du locataire) - General (Général) - Settings Tab (Onglet paramètres)](/images/fr-ca/cdy7uua7fh8z/4okToiwlkNQBxwr8QGE3Rs/d5e11dcc4c59fe9b8dbe1d888e5ee506/Basic_Settings_-_FR.png)</Frame>

2. Sous **Attribuer une étiquette d’environnement**, identifiez l’environnement de votre locataire en tant **Développement**, **Préparation** ou **Production**.

   <Frame>![undefined](/images/fr-ca/cdy7uua7fh8z/27OH1jFXce97CSjk7TPeD7/392ac43f0f7182b052db0e664a1cd7a9/2025-02-26_14-26-06.png)</Frame>

3. Après avoir sélectionné l’environnement, cliquez sur **Enregistrer**.

## Migration

Avec la [Management API v2](/docs/fr-ca/api/management/v2), vous pouvez automatiser la migration des ressources ([règles](/docs/fr-ca/customize/rules), [connexions](/docs/fr-ca/connections) de base de données, etc.) entre les locataires.

Pour faciliter la gestion de la configuration, enregistrez les valeurs de votre configuration dans [Dashboard](https://manage.auth0.com/#/rules), au lieu de les coder en dur dans vos **règles** ou scripts **db connections**.

Par exemple, supposons que vous souhaitiez définir une URL pour les journaux. Une façon de faire est de coder en dur dans la règle :

```javascript lines
function(user, context, callback){
      var log_url = 'https://someurl/log';
      ...
    }
```

Ce code n’est toutefois pas portable, car cette URL est susceptible de changer entre le développement et la production.

La méthode recommandée pour travailler avec le code que vous devez utiliser/transférer du développement à la production est à partir de la section [Règles](https://manage.auth0.com/#/rules). Si vous n’avez pas encore créé de règle, vous devrez le faire. (Sinon, passez à l’étape 4.)

1. Cliquez sur **Créer votre première règle**.
2. Choisissez le modèle **règle vide**.
3. Saisissez un nom pour votre nouvelle règle et cliquez sur **Enregistrer**.
4. Accédez à [Dashboard > Règles](https://manage.auth0.com/#/rules) et faites défiler l’écran jusqu’en bas pour définir vos valeurs de configuration (nous utiliserons `log_url` pour le nom de la clé et `https://someurl/log` comme valeur), puis cliquez sur **Créer**.
5. Vous pouvez maintenant programmer votre règle. Modifiez la règle que vous avez créée, saisissez le code suivant dans la zone de code et cliquez sur **Enregistrer**.

   ```javascript lines
   function(user, context, callback){
         var log_url = configuration.log_url;
         ...
       }
   ```

   

   

Ce code est portable. Lorsque vous migrez vers la production, vous n’avez qu’à modifier ce paramètre plutôt que de chercher dans vos scripts.

## Connecteurs AD/LDAP

Si vous utilisez plusieurs locataires Auth0 avec AD/LDAP, vous devrez créer une connexion AD/LDAP et configurer un connecteur AD/LDAP pour chaque locataire. Cela est dû au fait que chaque connecteur AD/LDAP est lié à une connexion particulière au sein d’un locataire Auth0.

Plusieurs connecteurs AD/LDAP peuvent pointer vers le même répertoire AD ou LDAP, mais chaque connecteur AD/LDAP ne peut être utilisé que par une seule connexion au sein d’un même locataire Auth0.

Si vous disposez de plusieurs répertoire AD/LDAP dans lesquels les utilisateurs s’authentifient (p. ex., pour prendre en charge différents services ou clients, chacun disposant de son propre répertoire), vous pouvez configurer plusieurs connecteurs AD/LDAP dans chaque locataire Auth0.

## En savoir plus

* [Créer plusieurs locataires](/docs/fr-ca/get-started/auth0-overview/create-tenants/create-multiple-tenants)
* [Supprimer ou réinitialiser des locataires](/docs/fr-ca/troubleshoot/customer-support/manage-subscriptions/delete-or-reset-tenant)
* [Lier plusieurs locataires à un seul abonnement](/docs/fr-ca/get-started/auth0-overview/create-tenants/child-tenants)