---
title: "Comprendre le fonctionnement des métadonnées dans les profils utilisateurs"
permalink: "define-maintain-custom-user-data"
'description': "Décrit les métadonnées de l’utilisateur, de l’application et du client Auth0. Découvrez comment vous pouvez utiliser les métadonnées pour stocker des informations qui ne proviennent pas d’un fournisseur d’identité."
'og:title': "Comprendre le fonctionnement des métadonnées dans les profils utilisateurs"
'og:description': "Décrit les métadonnées de l’utilisateur, de l’application et du client Auth0. Découvrez comment vous pouvez utiliser les métadonnées pour stocker des informations qui ne proviennent pas d’un fournisseur d’identité."
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Comprendre le fonctionnement des métadonnées dans les profils utilisateurs"
'twitter:description': "Décrit les métadonnées de l’utilisateur, de l’application et du client Auth0. Découvrez comment vous pouvez utiliser les métadonnées pour stocker des informations qui ne proviennent pas d’un fournisseur d’identité."
---

Auth0 fournit un système complet de stockage des métadonnées dans le profil utilisateur Auth0. Vous pouvez utiliser les métadonnées pour effectuer les activités suivantes :

* Stocker des données spécifiques à l’application dans le profil utilisateur.
* Enregistrer si des opérations spécifiques ont eu lieu ou non pour un utilisateur.
* Mettre en cache les résultats d’opérations coûteuses sur le profil utilisateur afin qu’ils puissent être réutilisés lors de connexions ultérieures.
* Stocker des informations qui ne proviennent pas d’un fournisseur d’identité ou qui remplacent celles fournies par un fournisseur d’identité.

Les métadonnées peuvent être modifiées dans le cadre du processus de connexion d’un utilisateur.

Vous pouvez configurer la synchronisation des connexions de manière à ce que les attributs racine de l’utilisateur soient mis à jour par le fournisseur d’identité uniquement lors de la création du profil utilisateur. Vous pouvez ensuite modifier les attributs racine individuellement ou par importation en masse. Pour en savoir plus, consultez [Configurer la connexion du fournisseur d’identité pour les mises à jour des profils utilisateurs](/docs/fr-ca/manage-users/user-accounts/user-profiles/configure-connection-sync-with-auth0).

## Types de métadonnées

Auth0 utilise trois types de métadonnées pour stocker des types d’informations spécifiques.

<table class="table"><thead>
<tr>
<th><strong>Type de métadonnées</strong></th>
<th><strong>Nom du champ</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Informations de l’utilisateur</strong></td>
<td>`user_metadata`</td>
<td>Stocke les attributs de l’utilisateur tels que les préférences qui n’ont pas d’impact sur la fonctionnalité de base de l’utilisateur. Ces données <strong>peuvent</strong> être modifiées par les utilisateurs connectés si vous créez un formulaire en utilisant Management API et ne devraient <strong>pas</strong> être utilisées comme un magasin de données sécurisé.</td>
</tr>
<tr>
<td><strong>Informations d’accès</strong></td>
<td>`app_metadata`</td>
<td>Stocke des informations telles que les autorisations, le plan Auth0 et les identifiants externes qui peuvent avoir un impact sur l’accès de l’utilisateur aux fonctionnalités. Ces données ** ne peuvent pas** être modifiées par les utilisateurs et il existe des restrictions sur ce qui peut être stocké dans ce champ.</td>
</tr>
<tr>
<td><strong>Informations sur l’application</strong></td>
<td>`client_metadata` dans l’objet `Client`, `context.clientMetadata` dans les règles, et `event.client.metadata` dans les actions post-connexion.</td>
<td>Stocke les informations à propos d’une application (ou <em>client</em> dans la terminologie OIDC OAuth2). Par exemple, l’URL de la page d’accueil de l’application (toute valeur qu’Auth0 ne définit pas dans les paramètres de l’application).</td>
</tr>
</tbody>
</table>

## Gérer les métadonnées

Vous pouvez créer et mettre à jour des métadonnées à l’aide des règles, de l’Authentication API, de <Tooltip href="/docs/fr-ca/glossary?term=management-api" tip="Management API
Un produit permettant aux clients d’effectuer des tâches administratives." cta="Voir le glossaire">Management API</Tooltip>, de l’<Tooltip href="/docs/fr-ca/glossary?term=auth0-dashboard" tip="Auth0 Dashboard
Principal produit d’Auth0 pour configurer vos services." cta="Voir le glossaire">Auth0 Dashboard</Tooltip> et de la bibliothèque Lock.

Pour les scripts de base de données personnalisés et le script `fetchUserProfile` des connexions sociales personnalisées, vous pouvez créer et mettre à jour les métadonnées à l’aide de l’objet `metadata`.

### Utiliser les Actions

[Les actions](/docs/fr-ca/customize/actions) sont des fonctions sécurisées, spécifiques au locataire, avec version, écrites en Node.js qui s’exécutent à certains points de la plateforme Auth0. Les actions sont utilisées pour personnaliser et étendre les capacités d'Auth0 avec une logique personnalisée. Elles peuvent également être utilisées pour [enrichir le profil utilisateur](/docs/fr-ca/customize/actions/flows-and-triggers/login-flow#enrich-the-user-profile).

Par exemple, vous pouvez créer une action `post-connexion` qui utilise des demandes personnalisées pour copier les propriétés des `user_metadata` dans les jetons d’ID. Vous pouvez ensuite récupérer les `user_metadata` des utilisateurs via le point de terminaison [Obtenir les informations de l’utilisateur](https://auth0.com/docs/api/authentication#get-user-info) de l’Authentication API.

Pour en savoir plus, lisez [Gérer les métadonnées avec le déclencheur d’action post-login](/docs/fr-ca/manage-users/user-accounts/metadata/manage-user-metadata).

### Utiliser Management API

Un utilisateur peut demander un jeton d’accès avec les permissions appropriées et utiliser les points de terminaison [Management API](/docs/fr-ca/api/management/v2) suivants pour visualiser, créer ou mettre à jour `user_metadata`, ou supprimer une configuration <Tooltip href="/docs/fr-ca/glossary?term=multifactor-authentication" tip="Authentification multifacteur (MFA)
Processus d’authentification de l’utilisateur qui utilise un facteur en plus du nom d’utilisateur et du mot de passe, tel qu’un code par SMS." cta="Voir le glossaire">MFA</Tooltip>.

Un jeton d’accès est nécessaire pour appeler Management API Auth0. Pour en savoir plus, consultez [Jetons d’accès à Management API](/docs/fr-ca/api/management/v2/tokens)  et [Obtenir des jetons de Management API pour les applications à page unique (SPA)](/docs/fr-ca/api/management/v2/get-access-tokens-for-spas).

Un jeton d’accès est nécessaire pour appeler la Management API Auth0. Pour en savoir plus, consultez [Jetons d’accès pour la Management API](/docs/fr-ca/api/management/v2/tokens) et [Obtenir des jetons de la Management API pour les applications à page unique (SPA)](/docs/fr-ca/api/management/v2/get-access-tokens-for-spas).

### Utiliser le Dashboard

Utilisez l’Auth0 Dashboard pour configurer les métadonnées d’application qui contiennent des paires clé/valeur. Pour en savoir plus, consultez [Configurer les métadonnées d’application](/docs/fr-ca/get-started/applications/configure-application-metadata).

### Utiliser la bibliothèque Lock

Utilisez la bibliothèque [Lock](/docs/fr-ca/libraries/lock) pour définir, ajouter, lire et mettre à jour les `user_metadata`. Consultez les propriétés `user_metadata` de la même manière que vous liriez n’importe quelle autre propriété de profil utilisateur. Par exemple, l’extrait de code suivant récupère la valeur associée à `user_metadata.hobby` et l’affecte à un élément de la page :

```javascript lines
// Use the accessToken acquired upon authentication to call getUserInfo
lock.getUserInfo(accessToken, function(error, profile) {
  if (!error) {
    document.getElementById('hobby').textContent = profile.user_metadata.hobby;
  }
});
```

Vous pouvez utiliser `additionalSignUpFields` pour ajouter des champs personnalisés aux formulaires d’inscription des utilisateurs. Lorsqu’un utilisateur ajoute des données dans un champ personnalisé, Auth0 stocke les valeurs saisies dans les `user_metadata` de cet utilisateur. Pour en savoir plus sur l’ajout de `user_metadata` lors de l’inscription, consultez [Champs d’inscription supplémentaires](/docs/fr-ca/libraries/lock/v10/customization#additionalsignupfields-array-).

## Connexions et métadonnées de base de données personnalisées

Si vous disposez d’une [connexion de base de données personnalisée](/docs/fr-ca/connections/database#using-your-own-user-store), vous pouvez utiliser le point de terminaison [`/dbconnexions/signup`](/docs/fr-ca/api/authentication?shell#signup) de Authentication API pour définir les `user_metadata` d’un utilisateur. Pour en savoir plus sur le travail avec les métadonnées au cours d’un processus d’inscription personnalisé, consultez [Inscription personnalisée](/docs/fr-ca/libraries/custom-signup).

Lorsque vous définissez le champ `user_metadata` à l’aide du point de terminaison `/dbconnections/signup` de Authentication API, vous êtes limité à un maximum de 10 champs de chaîne et de 500 caractères..

## Courriels personnalisés et métadonnées

Si vous rencontrez des problèmes avec Lock, consultez [Erreurs d’obsolescence](/docs/fr-ca/troubleshoot/basic-issues/check-deprecation-errors). Si vous rencontrez des problèmes avec Management API, consultez [Vérifier les appels API](/docs/fr-ca/troubleshoot/authentication-issues/check-api-calls)

Si vous rencontrez des problèmes avec Lock, consultez [Erreurs d’obsolescence](/docs/fr-ca/troubleshoot/basic-issues/check-deprecation-errors). Si vous rencontrez des problèmes avec Management API, consultez [Vérifier les appels d’API](/docs/fr-ca/troubleshoot/authentication-issues/check-api-calls)

## En savoir plus

* [Noms des champs de métadonnées et types de données](/docs/fr-ca/manage-users/user-accounts/metadata/metadata-fields-data)
* [Gérer les métadonnées avec des règles](/docs/fr-ca/manage-users/user-accounts/metadata/manage-metadata-rules)
* [Gérer les métadonnées à l’aide de Management API](/docs/fr-ca/manage-users/user-accounts/metadata/manage-metadata-api)
* [Gérer les métadonnées avec Lock](/docs/fr-ca/manage-users/user-accounts/metadata/manage-metadata-lock)
* [Configurer les métadonnées de l’application](/docs/fr-ca/get-started/applications/configure-application-metadata)
* [Gérer les métadonnées des utilisateurs avec le déclencheur d’action après l’ouverture de session](/docs/fr-ca/manage-users/user-accounts/metadata/manage-user-metadata)