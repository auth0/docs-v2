---
title: "Protocole Web Services Federation"
permalink: "ws-fed-protocol"
'description': "Décrit le fonctionnement d’Auth0 avec le protocole Web Services Federation (WS-Fed)."
'og:title': "Protocole Web Services Federation"
'og:description': "Décrit le fonctionnement d’Auth0 avec le protocole Web Services Federation (WS-Fed)."
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Protocole Web Services Federation"
'twitter:description': "Décrit le fonctionnement d’Auth0 avec le protocole Web Services Federation (WS-Fed)."
---

Le protocole Web Services Federation (WS-Federation ou <Tooltip href="/docs/fr-ca/glossary?term=ws-fed" tip="Web Service Federation (WS-Fed)
Protocole de gestion des identités des utilisateurs à travers les domaines." cta="Voir le glossaire">WS-Fed</Tooltip>) s’inscrit dans le cadre d’applications plus large de WS-Security et constitue une extension des fonctionnalités de WS-Trust. Les fonctionnalités de WS-Federation peuvent être utilisées directement par les applications SOAP et les services web. WS-Fed est un protocole qui permet de négocier l’émission d’un jeton. Vous pouvez utiliser ce protocole pour vos applications (comme une application basée sur Windows Identity Foundation) et pour les fournisseurs d’identité (comme Active Directory Federation Services ou Azure AppFabric Access Control Service).

## Pour les applications

Lorsque vous enregistrez une application dans Auth0, le point de terminaison WS-Fed suivant lui est automatiquement attribué :

`https://{yourDomain}/wsfed/{yourClientId}`

Vous trouverez toutes les options disponibles pour configurer WS-Fed dans la zone [Paramètres avancés](https://manage.auth0.com/#/applications/{yourClientId}/settings) de votre application.

Vous devrez configurer **Partie dépendante**, en utilisant le point de terminaison de métadonnées suivant :

`https://{yourDomain}/wsfed/FederationMetadata/2007-06/FederationMetadata.xml`

Vous pouvez également utiliser l’objet **samlConfiguration**, disponible dans [Règles](/docs/fr-ca/customize/rules), pour configurer les demandes envoyées via le jeton, ainsi que d’autres paramètres WS-Fed et <Tooltip href="/docs/fr-ca/glossary?term=security-assertion-markup-language" tip="Security Assertion Markup Language (SAML)
Protocole normalisé permettant à deux parties d’échanger des informations d’authentification sans mot de passe." cta="Voir le glossaire">SAML</Tooltip>-P de niveau inférieur.

Lorsque vous redirigez vos utilisateurs vers votre point de terminaison WS-Fed, vous pouvez utiliser les paramètres suivants (facultatifs) :

<table class="table"><thead>
<tr>
<th>Paramètre</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>`wa=wsignin1.0`</td>
<td>Si Auth0 doit émettre un jeton pour la partie de confiance (par défaut)</td>
</tr>
<tr>
<td>`wa=wsignout1.0`</td>
<td>Si Auth0 doit effacer la session utilisateur/déconnecter l’utilisateur</td>
</tr>
<tr>
<td>`wreply={callback_URL}`</td>
<td>Où la réponse doit être envoyée</td>
</tr>
<tr>
<td>`wctx={state}`</td>
<td>L’état de votre application</td>
</tr>
<tr>
<td>`whr={connection_name}`</td>
<td>Connexion à utiliser (permet aux utilisateurs d’ignorer la page de connexion Auth0)</td>
</tr>
<tr>
<td>`wfresh=0`</td>
<td>Si l’utilisateur doit se réauthentifier, même s’il existe une session en place (`0` nécessite une réauthentification)</td>
</tr>
</tbody>
</table>

Voici un exemple de ce à quoi pourrait ressembler votre URL avec les paramètres facultatifs :

`https://{yourDomain}/wsfed/{yourClientId}?whr=google-oauth2`

## Fournisseurs d’identités

Si vous utilisez Auth0 avec un fournisseur d’identité qui utilise le protocole WS-Federation (comme Active Directory Federation Services, Azure AppFabric Access Control Service et IdentityServer), la façon la plus simple de configurer votre intégration est de créer et d’utiliser le type de connexion ADFS dans le Dashboard. Vous pouvez procéder de deux manières :

* Importer le fichier de métadonnées de fédération
* Activer le point de terminaison des métadonnées de fédération pour vérifier les modifications

### Importer un fichier de métadonnées de fédération

Lors de la mise en place d’une connexion basée sur ADFS, vous pouvez importer les paramètres requis en fournissant à Auth0 le point de terminaison des métadonnées de fédération ou en important/téléversant votre fichier de métadonnées de fédération.

<Frame>![Protocoles WS-Fed Importation Fédération Fichier de métadonnées Écran de connexion ADFS](/images/fr-ca/cdy7uua7fh8z/35pGg8AnNcx2ZIfQIixt1J/347e75c1394bd51055614eceb448396c/ADFS_-_FR.png)</Frame>

Vous recevrez les instructions nécessaires pour terminer la configuration de l’intégration.

### Activer le point de terminaison des métadonnées de fédération

Le fichier de métadonnées de fédération contient des informations sur les certificats du fournisseur d’identité. Si vous fournissez le point de terminaison Federation Metadata (généralement se terminant par `/FederationMetadata/2007-06/FederationMetadata.xml`), Auth0 peut rechercher quotidiennement les modifications dans la configuration, tels que les ajouts de nouveaux certificats inclus dans la préparation d'une reconduction. Pour cette raison, activer le point de terminaison des métadonnées de fédération est préférable à fournir un fichier de métadonnées autonome. Si vous fournissez un fichier de métadonnées autonome, nous vous informerons par courrier électronique lorsque les certificats seront proches de leur date d’expiration.

Si les métadonnées de fédération contiennent à la fois les certificats primaires et secondaires, vous pouvez utiliser les deux dans Auth0.

Pour transférer des certificats à l’aide du point de terminaison des métadonnées de fédération, procédez comme suit :

1. Générez un nouveau certificat et ajoutez-le comme certificat secondaire pour votre environnement ADFS. Cela devrait être effectué au moins **deux jours** avant l’expiration de votre certificat principal actif.
2. Autorisez Auth0 à obtenir votre nouveau certificat à partir du point de terminaison des métadonnées de fédération. Auth0 vérifie vos points de terminaison une fois par jour. Veillez donc à laisser suffisamment de temps à Auth0 pour réaliser cette étape.
   Autrement, vous pouvez également effectuer cette étape manuellement en vous connectant à Auth0 Dashboard, en accédant à la connexion ADFS appropriée et en cliquant sur **Enregistrer**. Cette action entraîne le téléversement immédiat des certificats par Auth0.
3. Définissez le certificat désormais secondaire comme certificat principal avant expiration du certificat principal existant dans votre environnement ADFS.

##

## En savoir plus

* [Configurer des applications WS-Fed](/docs/fr-ca/get-started/applications/configure-ws-fed-applications)