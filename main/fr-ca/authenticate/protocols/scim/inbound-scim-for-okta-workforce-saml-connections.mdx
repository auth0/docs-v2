---
title: "SCIM entrant pour les connexions SAML Okta Workforce"
permalink: "inbound-scim-for-okta-workforce-saml-connections"
'description': "Description de la configuration de la connexion Okta WIC avec SAML SCIM"
'og:title': "SCIM entrant pour les connexions SAML Okta Workforce"
'og:description': "Description de la configuration de la connexion Okta WIC avec SAML SCIM"
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "SCIM entrant pour les connexions SAML Okta Workforce"
'twitter:description': "Description de la configuration de la connexion Okta WIC avec SAML SCIM"
---

<Card title="Avant de commencer">

Créez une [connexion SAML](https://auth0.com/docs/authenticate/identity-providers/enterprise-identity-providers/saml) dans votre locataire Auth0 et [connectez-la à une application SAML personnalisée correspondante](https://help.okta.com/en-us/content/topics/apps/apps_app_integration_wizard_saml.htm) dans votre tableau de bord Workforce Identity Cloud d’Okta.

</Card>

Cette section décrit comment configurer une intégration <Tooltip href="/docs/fr-ca/glossary?term=security-assertion-markup-language" tip="Security Assertion Markup Language (SAML)
Protocole normalisé permettant à deux parties d’échanger des informations d’authentification sans mot de passe." cta="Voir le glossaire">SAML</Tooltip> et une application SCIM personnalisées dans un nuage d’identité Okta Workforce, qui peut être utilisé pour la fourniture d’utilisateurs à votre point de terminaison Auth0 SCIM.

### Configuration des paramètres SCIM dans Auth0

1. Lancez [Auth0 Dashboard](https://manage.auth0.com/#/) et rendez-vous dans **Authentification > Entreprise > SAML > [Connexion] > Fourniture.**
2. Désactivez **Synchroniser les attributs du profil utilisateur à chaque connexion** sauf si vous souhaitez [synchroniser des attributs supplémentaires à la connexion](/docs/fr-ca/authenticate/protocols/scim/configure-inbound-scim).
3. Dans la même section, activez **Synchroniser les profils utilisateurs à l’aide du SCIM**.
4. Dans l’onglet **Mappage**, assurez-vous que l’**attribut SCIM contenant l’identifiant utilisateur** est réglé sur **userName**.
5. Passez en revue les **mappages supplémentaires** pour vous assurer que les attributs SCIM étendus sont mappés avec vos attributs Auth0 préférés, en examinant [mappage des attributs](/docs/fr-ca/authenticate/protocols/scim/configure-inbound-scim#attribute-mapping) pour plus de détails. Si vous recevez des numéros de téléphone et des adresses physiques, notez qu’Okta Workflow les envoie en tant que valeur`phoneNumbers[primary eq true].value` et `adresses[primary eq true].*` par défaut.
6. Mappez l’attribut SCIM `userName` à l’attribut Auth0 `email`afin qu’Okta puisse [trouver et faire correspondre les utilisateurs existants](https://developer.okta.com/docs/reference/scim/scim-20/#create-users) si cette connexion a déjà été déployée en production en utilisant l’adresse courriel comme identifiant de la connexion et qu’aucun attribut Auth0 `username` n’est défini sur les profils utilisateurs existants. Dans **Mappages supplémentaires** trouvez la paire d’attributs suivante :

   ```json lines
   {
       "scim": "userName",
       "auth0": "username"
     }
   ```

   

   

   Remplacez-la par la suivante, puis supprimez la correspondance avec `emails[primary eq true].value`.

   ```json lines
   {
       "scim": "userName",
       "auth0": "email"
     }
   ```

   

   
7. Sélectionnez **Enregistrer les modifications.**

### Récupérer l’URL et le jeton du point de terminaison SCIM

1. Dans l’Auth0 Dashboard, naviguez jusqu’à l’onglet SCIM **Configuration** et copiez l’**URL du point de terminaison SCIM**, puis collez-la dans un endroit sûr.
2. Sélectionnez **Générer un nouveau jeton** et définissez une date d’expiration facultative pour le jeton. Vous pouvez également sélectionner les permissions que vous souhaitez accorder à Okta Workforce; les permissions par défaut utilisées par Okta Workforce sont `get:users`, `post:users`, et `put:users`.

### Configurer le SCIM dans Okta Workforce pour les applications SAML

1. Accédez à votre application Workforce Identity Cloud d’Okta, sélectionnez l’onglet **Général**, puis sélectionnez **Modifier**pour**Paramètres de l’application.**
2. Dans la section **Fourniture**, sélectionnez **SCIM** puis **Enregistrer**.
3. Sous l’onglet **Général**, confirmez que le [mode Federation Broker](https://help.okta.com/en-us/content/topics/apps/apps-fbm-main.htm) est désactivé.
4. Sélectionnez l’onglet **Fourniture**, puis rendez-vous à l’onglet **Intégration** et sélectionnez **Modifier**.
5. Saisissez la valeur de l’URL du **point de terminaison SCIM** que vous avez copiée précédemment dans la section **URL de base du connecteur SCIM**.
6. Dans le **Champ d’identification unique pour les utilisateurs**, saisissez **userName**.
7. Sous **Actions de fourniture prises en charge**, sélectionnez `Pousser les nouveaux utilisateurs` et `Pousser les mises à jour de profil`, puis **En-tête HTTP**comme **Mode d’authentification.**
8. Collez le jeton SCIM dans le champ **Autorisation**, puis sélectionnez**Tester la configuration de la connexion** si vous souhaitez tester la nouvelle connexion. Sélectionnez **Enregistrer**.

   <Frame>![Inbound SCIM WIC Configuration](/images/fr-ca/cdy7uua7fh8z/4kEFIeW8qbRqGb46KYuXJH/067213e99fbca35baab9bb104d1047f3/supersaas.jpg)</Frame>

9. Rendez-vous à **Fourniture > Paramètres > À l’application**et sélectionnez **Modifier**, puis activez les opérations **Créer des utilisateurs, mettre à jour les attributs des utilisateurs**, et **Désactiver utilisateurs**. Sélectionnez **Enregistrer**.

   <Frame>![](/images/fr-ca/cdy7uua7fh8z/4RXROJ4amD4TpY3ozDg6wV/03c11b7ea8354a033b64d2df4f6360be/supersaasprovisioning.jpg)</Frame>

8. Dans la section **Mappages des attributs**, utilisez la touche **X** pour **supprimer** les lignes suivantes :

<table class="table"><thead>
<tr>
<th>Attribut</th>
<th>Valeur</th>
</tr>
</thead>
<tbody>
<tr>
<td>Type de courriel principal</td>
<td>`(user.email != null &amp;&amp; user.email != ’’) ? ’work’ : ‘’`</td>
</tr>
<tr>
<td>Type de téléphone principal</td>
<td>`(user.primaryPhone != null &amp;&amp; user.primaryPhone != ’’) ? ’work’ : ‘’`</td>
</tr>
<tr>
<td>Type d’adresse</td>
<td>`(user.streetAddress != null &amp;&amp; user.streetAddress != ’’) ? ’work’ : ‘’`</td>
</tr>
</tbody>
</table>

Utilisez la section **Mappages des attributs** pour configurer tout attribut SCIM supplémentaire que vous souhaitez qu’Okta WIC envoie à votre point de terminaison SCIM. Si vous ajoutez des attributs personnalisés, ils doivent inclure une propriété d’espace de nommage externe SCIM 2.0 valide. Pour plus d’informations sur les espaces de nommage externes, lisez [la section d’aide d’Okta](https://support.okta.com/help/s/article/Receiving-Invalid-externalNamespace-task-error-when-assigning-a-user-to-a-SCIMenabled-application).

Vous pouvez désormais tester la fourniture d’utilisateurs dans l’onglet **Attributions** et mettre à l’essai les opérations de mise à jour en modifiant les attributs de l’utilisateur dans la section **Directory > Personnes** de votre portail d’administration Okta.