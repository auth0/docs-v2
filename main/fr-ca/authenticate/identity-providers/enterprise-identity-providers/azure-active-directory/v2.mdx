---
title: "Connexion de votre application à Microsoft Azure Active Directory"
permalink: "v2"
'description': "Apprenez à connecter votre application à Microsoft Azure Active Directory à l’aide d’une connexion d’entreprise."
'og:title': "Connexion de votre application à Microsoft Azure Active Directory"
'og:description': "Apprenez à connecter votre application à Microsoft Azure Active Directory à l’aide d’une connexion d’entreprise."
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Connexion de votre application à Microsoft Azure Active Directory"
'twitter:description': "Apprenez à connecter votre application à Microsoft Azure Active Directory à l’aide d’une connexion d’entreprise."
---

<Card title="Vue d’ensemble">

Principaux concepts

* Suivez ces étapes pour enregistrer votre application auprès d’Azure AD et vous connecter à votre instance Auth0.
* Testez la connexion avant de faire passer votre configuration à l’étape de production.
* Passez en revue les conseils de dépannage.

</Card>

Vous pouvez intégrer Microsoft Azure Active Directory (AD) si vous voulez permettre aux utilisateurs :

* d’utiliser votre application depuis votre entreprise, à partir d’un Azure AD contrôlé par vous ou votre organisation;
* d’utiliser votre application depuis les Azure AD d’autres entreprises. (Nous vous recommandons de configurer les annuaires externes comme des connexions différentes.)

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Les demandes renvoyées par la connexion d’entreprise Azure AD sont statiques; les demandes personnalisées ou facultatives n’apparaîtront pas dans les profils utilisateurs. Si vous devez inclure des demandes personnalisées ou facultatives dans les profils utilisateurs, utilisez plutôt une connexion SAML ou OIDC.

</Callout>

## Étapes

Pour connecter votre application à Azure AD, vous devez :

1. [Enregistrer votre application auprès d’Azure AD,](#register-your-app-with-azure-ad)
2. [Créer une connexion d’entreprise dans Auth0](#create-an-enterprise-connection-in-auth0)
3. [Activer la connexion d’entreprise pour votre Application Auth0](#enable-the-enterprise-connection-for-your-auth0-application)
4. [Tester la connexion](#test-the-connection)

### Enregistrer votre application auprès d’Azure AD

Pour enregistrer votre application avec Azure AD, consultez le guide [Démarrage rapide de Microsoft : Enregistrer une application avec la plateforme d’identités de Microsoft](https://docs.microsoft.com/en-us/azure/active-directory/develop/quickstart-register-app).

<Warning>

Si vous disposez de plusieurs répertoires Entra ID, assurez-vous que vous êtes dans le répertoire qui convient lorsque vous enregistrez l’application que vous souhaitez utiliser avec Auth0.

</Warning>

Lors de l’enregistrement, configurez les paramètres suivants :

<table class="table"><thead>
<tr>
<th>Option</th>
<th>Réglages</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Types de comptes pris en charge</strong></td>
<td>Pour activer la fourniture d’utilisateur basé sur le SCIM à partir de ce répertoire, sélectionnez ** Comptes dans ce répertoire organisationnel uniquement (locataire unique)**. Pour autoriser les utilisateurs d’organisations externes (comme d’autres annuaires Entra ID), choisissez l’option multilocataire appropriée. Les options multilocataires sont les suivantes : <strong>Comptes dans n’importe quel répertoire d’organisation (tout répertoire Entra ID - Multilocataire)</strong>.</td>
</tr>
<tr>
<td><strong>URI de redirection</strong></td>
<td>Sélectionnez un type d’URI de redirection <strong>Web</strong>, et entrez votre URL de rappel : `https://{yourDomain}/login/callback`.</td>
</tr>
</tbody>
</table>

<Card title="Trouver votre nom de domaine Auth0 pour les redirections">

Si votre nom de domaine Auth0 n’est pas affiché ci-dessus et que vous n’utilisez pas notre fonctionnalité de [domaines personnalisés](/docs/fr-ca/customize/custom-domains), votre nom de domaine est une concaténation de votre nom de locataire, de votre sous-domaine régional et de `auth0.com`, séparés par le symbole point (`.`).

Par exemple, si votre nom de locataire est `exampleco-enterprises` et que votre locataire est dans la région des États-Unis, votre nom de domaine Auth0 serait  `exampleco-enterprises.us.auth0.com` et votre  **URI de redirection** serait `https://exampleco-enterprises.us.auth0.com/login/callback`.

Cependant, si votre locataire est dans la région des États-Unis et a été créé avant juin 2020, votre nom de domaine Auth0 serait `exampleco-enterprises.auth0.com` et votre **URI de redirection** serait`https://exampleco-enterprises.auth0.com/login/callback`.

Si vous utilisez des [domaines personnalisés](/docs/fr-ca/customize/custom-domains), votre **URI de redirection** serait `https://<YOUR CUSTOM DOMAIN>/login/callback`.

</Card>

Au cours de ce processus, Microsoft génère un **ID d’application (client)** pour votre application; vous pouvez le trouver sur l’écran **Présentation** de l’application. **Notez cette valeur.**

#### Création d’un secret client

Pour créer un secret client, consultez le [Guide de démarrage de Microsoft : Configuration d’une application client pour accéder aux API Web - Ajout d’identifiants à votre application Web](https://docs.microsoft.com/en-us/azure/active-directory/develop/quickstart-register-app#add-credentials).

Une fois générée, **notez cette valeur.**

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Si vous configurez un secret à expiration, assurez-vous **d’enregistrer la date d’expiration**; vous devrez renouveler la clé avant cette date pour éviter une interruption du service.

</Callout>

#### Ajout de permissions

Pour ajouter des permissions, consultez le [Guide de démarrage de Microsoft : Configuration d’une application client pour accéder aux API web - Ajout de permissions pour accéder aux API web](https://docs.microsoft.com/en-us/azure/active-directory/develop/quickstart-configure-app-access-web-apis#add-permissions-to-access-web-apis).

Lorsque vous configurez des permissions, réfléchissez à ce qui suit :

Si vous souhaitez activer des attributs étendus (tels que **Profil étendu** ou **groupes de sécurité**), vous devrez configurer les autorisations suivantes pour **l’API Microsoft Graph**

<table class="table"><thead>
<tr>
<th>Autorisations déléguées</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Utilisateurs &gt; User.Read</strong></td>
<td>Pour que votre application puisse inscrire des utilisateurs et lire les profils des utilisateurs connectés.</td>
</tr>
<tr>
<td><strong>Répertoire &gt; Directory.Read.All</strong></td>
<td>Pour que votre application puisse lire les données de répertoire pour le compte de l’utilisateur connecté.</td>
</tr>
</tbody>
</table>

### Créer une connexion d’entreprise dans Auth0

Créez et configurez une connexion d’entreprise Azure AD dans Auth0. Assurez-vous que l’**ID d’application (client)** et que le **secret client** sont générés lorsque vous configurez votre application dans le portail Microsoft Azure.

1. Accédez à [Auth0 Dashboard > Authentification > Entreprise](https://manage.auth0.com/#/connections/enterprise), trouvez **Microsoft Azure AD** et sélectionnez le signe `+`.

   <Frame>![Dashboard (Tableau de bord) - Connections (Connexions) - Enterprise (Entreprise)](/images/fr-ca/cdy7uua7fh8z/1fSTcrZpkgkPR64NnI1lr8/4effc408fd5dda9818d307c7b798243c/Enterprise_Connections_-_FR.png)</Frame>

2. Saisissez les détails de votre connexion et sélectionnez **Créer** :

<table class="table"><thead>
<tr>
<th>Champ</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Connection name</strong> (Nom de la connexion)</td>
<td>Identifiant logique de votre connexion; il doit être unique pour votre locataire. Une fois défini, ce nom ne peut pas être modifié.</td>
</tr>
<tr>
<td><strong>Microsoft Entra ID Domain</strong> (Domaine Microsoft Entra ID)</td>
<td>Votre nom de domaine Entra ID. Vous pouvez le trouver sur la page de présentation de votre annuaire Entra ID dans le portail Microsoft Azure.</td>
</tr>
<tr>
<td><strong>ID client</strong> (Identifiant Client)</td>
<td>Identifiant unique de votre application Entra ID enregistrée. Saisissez la valeur enregistrée de <strong>Application (client) ID</strong> (Identifiant de l’application (client)) pour l’application que vous venez d’enregistrer dans Entra ID.</td>
</tr>
<tr>
<td><strong>Secret client</strong> (Secret client)</td>
<td>Chaîne utilisée pour accéder à votre application Entra ID enregistrée. Saisissez la valeur enregistrée du <strong>Secret client</strong> pour l’application que vous venez d’enregistrer dans Entra ID.</td>
</tr>
<tr>
<td><strong>User ID Attribute Type</strong> (Type d’attribut d’identifiant utilisateur)</td>
<td>Attribut dans le jeton d’ID qui sera mappé à la propriété user_id dans Auth0. Les options correspondent aux deux types d’identifiant pris en charge décrits dans la documentation de Microsoft : <a href="https://learn.microsoft.com/en-us/entra/identity-platform/id-token-claims-reference#use-claims-to-reliably-identify-a-user">Référence des revendications de jeton d’ID - Plateforme d’identité Microsoft</a></td>
</tr>
<tr>
<td><strong>Use common endpoint</strong> (Utiliser un point de terminaison commun)</td>
<td>(Facultatif) Lorsque cette option est activée, votre application accepte dynamiquement les utilisateurs des nouveaux répertoires. Généralement activée si vous avez sélectionné une option multilocataire pour les types de comptes pris en charge pour l’application que vous venez d’enregistrer dans Entra ID. Auth0 redirige les utilisateurs vers le point de terminaison de connexion commun d’Entra et Entra effectue la découverte du domaine d’accueil en fonction du domaine de l’adresse courriel de l’utilisateur.</td>
</tr>
<tr>
<td><strong>Identity API</strong></td>
<td>API utilisée par Auth0 pour interagir avec les points de terminaison Entra ID. Découvrez les différences de comportement dans le document Microsoft <a href="https://docs.microsoft.com/en-us/azure/active-directory/develop/azure-ad-endpoint-comparison">Pourquoi mettre à jour vers la plateforme d’identités Microsoft (v2.0)</a>.</td>
</tr>
<tr>
<td><strong>Attributes</strong> (Attributs)</td>
<td>Attributs de base pour l’utilisateur connecté auxquels votre application peut accéder. Indique la quantité d’informations que vous souhaitez stocker dans le profil utilisateur Auth0.</td>
</tr>
<tr>
<td><strong>Extended Attributes</strong> (Attributs étendus) (facultatif)</td>
<td>Attributs étendus pour l’utilisateur connecté auxquels votre application peut accéder.</td>
</tr>
<tr>
<td><strong>API Auth0</strong> (facultatif)</td>
<td>Lorsqu’il est sélectionné, indique que nous avons besoin de la possibilité d’effectuer des appels à l’API Entra ID, ce qui nous permet de rechercher des utilisateurs dans Entra ID Graph même s’ils ne se sont jamais connectés à Auth0.</td>
</tr>
<tr>
<td><strong>Email Verification</strong> (Vérification du courriel)</td>
<td>Choisissez comment Auth0 définit le champ « email_verified » dans le profil utilisateur. Pour en savoir plus, veuillez consulter <a href="/docs/fr-ca/connections/azuread-adfs-email-verification">Vérification des courriels pour Entra ID et ADFS</a>.</td>
</tr>
</tbody>
</table>

   <Frame>![Créer une nouvelle connexion Entra ID](/images/fr-ca/cdy7uua7fh8z/1r6WTgLJUlbiV9jligIwER/1884c1815cbecd9b86c538c8332e6f2a/2025-02-25_10-14-41.png)</Frame>

3. Dans la vue **Provisioning** (Approvisionnement), vous pouvez configurer la manière dont les profils utilisateurs sont créés et mis à jour dans Auth0.

<table class="table"><thead>
<tr>
<th>Champ</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Synchroniser les attributs du profil utilisateur à chaque connexion</strong></td>
<td>Lorsqu’il est activé, Auth0 synchronise automatiquement les données du profil utilisateur avec chaque connexion utilisateur, garantissant ainsi que les modifications apportées à la source de connexion sont automatiquement mises à jour dans Auth0.</td>
</tr>
<tr>
<td><strong>Synchroniser les profils utilisateur à l’aide du SCIM</strong></td>
<td>Lorsqu’il est activé, Auth0 permet de synchroniser les données du profil utilisateur à l’aide de SCIM. Pour plus d’informations, veuillez consultez <a href="https://auth0.com/docs/authenticate/protocols/scim/configure-inbound-scim">Configurer le SCIM entrant)</a>.</td>
</tr>
</tbody>
</table>
4. Dans la vue **Expérience de connexion**, vous pouvez configurer la façon dont les utilisateurs peuvent se connecter à cette connexion.

<table class="table"><thead>
<tr>
<th><strong>Champ</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Découverte du domaine d’origine</strong></td>
<td>Compare le domaine de l’adresse courriel de l’utilisateur avec les domaines du fournisseur d’identité fourni. Pour plus d’informations, lisez <a href="https://auth0.com/docs/authenticate/login/auth0-universal-login/identifier-first">Configurer l’authentification Identifier First </a></td>
</tr>
<tr>
<td><strong>Afficher le bouton de connexion</strong></td>
<td>Cette option affiche les choix suivants pour personnaliser le bouton de connexion de votre application.</td>
</tr>
<tr>
<td><strong>Nom d’affichage du bouton</strong> (Facultatif)</td>
<td>Texte utilisé pour personnaliser le bouton de connexion pour la connexion universelle. Lorsque défini, le bouton affiche : Continuer avec \{Nom d’affichage du bouton}.</td>
</tr>
<tr>
<td><strong>Logo du bouton URL</strong> (Facultatif)</td>
<td>URL de l’image utilisée pour personnaliser le bouton de connexion pour la connexion universelle. Lorsque défini, le bouton de connexion de la connexion universelle affiche l’image sous la forme d’un carré de 20 px sur 20 px.</td>
</tr>
</tbody>
</table>

   <Callout icon="file-lines" color="#0EA5E9" iconType="regular">

   Les champs optionnels ne sont disponibles qu’avec connexion universelle. Les clients utilisant la connexion classique ne verront pas le bouton Ajouter, le nom d’affichage du bouton ou l’URL du logo du bouton.

   </Callout>

5. Si vous disposez des autorisations administratives Azure AD nécessaires pour donner votre accord à l’application afin que les utilisateurs puissent se connecter, cliquez sur **Continuer**.
   Il vous sera demandé de [vous connecter à votre compte Azure AD](https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-permissions-and-consent#requesting-consent-for-an-entire-tenant) et de donner votre consentement. Autrement, fournissez l’URL fournie à votre administrateur pour lui permettre de donner son consentement.

### Activer une connexion entreprise pour votre application Auth0

Pour utiliser votre nouvelle connexion d’entreprise Azure AD, vous devez d’abord [activer la connexion](/docs/fr-ca/authenticate/identity-providers/enterprise-identity-providers/enable-enterprise-connections) pour vos applications Auth0.

### Tester la connexion

Vous êtes maintenant prêt à [tester votre connexion](/docs/fr-ca/authenticate/identity-providers/enterprise-identity-providers/test-enterprise-connections).

## Dépannage

Voici quelques conseils de dépannage :

**J’ai enregistré mon application avec Azure AD, mais lorsque je retourne à mes enregistrements d’applications Azure Active Directory, je ne peux pas voir mon application.**

Il se peut que vous ayez accidentellement enregistré votre application dans le mauvais répertoire Azure AD (ou que vous n’ayez pas créé de répertoire Azure AD avant d’enregistrer votre application). Il vous sera probablement plus facile de réenregistrer votre application dans Azure AD. Assurez-vous que vous êtes dans le bon répertoire lorsque vous enregistrez l’application. Si vous devez créer un répertoire Azure AD, consultez le [Guide de démarrage rapide de Microsoft : Créer un nouveau locataire dans Azure Active Directory - Créer un nouveau locataire pour votre organisation](https://docs.microsoft.com/en-us/azure/active-directory/fundamentals/active-directory-access-create-new-tenant#create-a-new-tenant-for-your-organization).

**Je reçois le message d’erreur suivant : «L’accès à ce service n’est pas possible car le listage du service n’est pas correctement configuré par l’éditeur ».**

Pour résoudre ce problème, essayez de modifier les **types de comptes pris en charge** pour votre application Azure AD enregistrée. Assurez-vous d’avoir choisi une option multilocataire appropriée dans les paramètres d’authentification de l’application Azure AD. Les options multilocataires sont les suivantes : **Comptes dans n’importe quel répertoire d’organisation (tout répertoire Azure AD - Multilocataire)**.

**Lorsque les utilisateurs essaient de se connecter, nous recevons le message d’erreur suivant : "invalid_request ; échec de l'obtention du jeton d'accès".**

La raison la plus probable de cette erreur est un **secret client**  Azure AD incorrect. Pour résoudre ce problème, générez un nouveau **secret client** pour votre application dans Azure AD, puis mettez à jour le **secret client** dans la connexion d’entreprise configurée avec Auth0.

## Renouvellement de la clé de connexion dans Azure AD

Les clés de connexion sont utilisées par le fournisseur d’identités pour signer le jeton d’authentification qu’il émet, et par l’application consommatrice (Auth0 dans ce cas) pour valider l’authenticité du jeton généré.

Pour des raisons de sécurité, la clé de connexion d’Azure AD [change régulièrement](https://docs.microsoft.com/en-us/azure/active-directory/develop/active-directory-signing-key-rollover). Si cela se produit, **vous n’avez rien à faire**. Auth0 utilisera automatiquement la nouvelle clé.

## Suppression de libellé non vérifié

Si vous utilisez un domaine personnalisé, l’invite de consentement de l’application pour la connexion à Azure AD peut indiquer que votre domaine est « non vérifié ». Pour supprimer le libellé « non vérifié » :

1. Vérifiez le domaine de l’application Auth0: [Ajoutez votre nom de domaine personnalisé à l’aide du portail Azure Active Directory](https://docs.microsoft.com/en-us/azure/active-directory/fundamentals/add-custom-domain#add-your-custom-domain-name-to-azure-ad).
2. Attribuez le domaine vérifié à l’application Auth0 : [Comment faire : Configurez le domaine d’éditeur d’une application](https://docs.microsoft.com/en-us/azure/active-directory/develop/howto-configure-publisher-domain#configure-publisher-domain-using-the-azure-portal).

## Étapes suivantes

* [Intégrer Auth0 en utilisant l’une de nos bibliothèques](/docs/fr-ca/libraries)
* [Intégrer Auth0 en utilisant notre Authentication API](/docs/fr-ca/api/authentication)
* [En savoir plus sur le flux d’authentification](/docs/fr-ca/get-started/authentication-and-authorization-flow)
* [Transmettre des paramètres supplémentaires au fournisseur d’identité](/docs/fr-ca/authenticate/identity-providers/pass-parameters-to-idps)
* [Redemander des autorisations aux utilisateurs](/docs/fr-ca/authenticate/identity-providers/social-identity-providers/reprompt-permissions)