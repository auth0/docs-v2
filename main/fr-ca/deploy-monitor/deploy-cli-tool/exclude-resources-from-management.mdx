---
title: "Exclure des ressources de la gestion"
permalink: "exclude-resources-from-management"
'description': "Découvrez comment exclure des ressources de la gestion avec l’outil Auth0 Deploy CLI."
'og:title': "Exclure des ressources de la gestion"
'og:description': "Découvrez comment exclure des ressources de la gestion avec l’outil Auth0 Deploy CLI."
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Exclure des ressources de la gestion"
'twitter:description': "Découvrez comment exclure des ressources de la gestion avec l’outil Auth0 Deploy CLI."
---

Dans certains cas, il peut être utile d’exclure des ressources de la gestion. Par exemple si votre locataire possède une ressource en grande quantité, difficile à gérer, ou que votre flux de développement ne concerne qu’un sous-ensemble particulier de ressources et que vous aimeriez omettre toutes les autres ressources pour des raisons de performance. Quoi qu’il en soit, plusieurs options sont proposées pour exclure des ressources lors de l’utilisation de l’outil Deploy CLI.

## Exclure des ressources entières par type

Pour les locataires plus complexes, vous pouvez vouloir omettre des types de ressources entiers. Par exemple :

* Un locataire d’entreprise avec des milliers d’organisations, où la gestion de toutes les organisations serait lourde sur le plan opérationnel.
* Le processus CI/CD se concentre uniquement sur la gestion des rôles, en excluant tous les autres.
* Le développement d’une fonctionnalité concerne un hook précis, et vous souhaitez exclure temporairement tous les autres afin d’optimiser les performances.

Ce type d’exclusion est exprimé en passant un tableau de noms de ressources dans les propriétés de configuration `AUTH0_EXCLUDED` ou `AUTH0_INCLUDED_ONLY`. La propriété de configuration `AUTH0_EXCLUDED` exclut uniquement les types de ressources qui lui sont fournis. Inversement, la propriété `AUTH0_INCLUDED_ONLY` exclut toutes les propriétés à l’exception de celles qui sont définies. L’exclusion fonctionne de manière bidirectionnelle, c’est-à-dire aussi bien lors de l’exportation depuis Auth0 que lors de l’importation vers Auth0, qu’il existe ou non des fichiers de configuration des ressources.

Toutes les valeurs de ressources prises en charge pour l’exclusion : `actions`, `attackProtection`, `branding`, `clientGrants`, `clients`, `connections`, `customDomains`, `databases`, `emailProvider`, `emailTemplates`, `guardianFactorProviders`, `guardianFactorTemplates`, `guardianFactors`, `guardianPhoneFactorMessageTypes`, `guardianPhoneFactorSelectedProvider`, `guardianPolicies`, `logStreams`, `migrations`, `organizations`, `pages`, `prompts`, `resourceServers`, `roles`, `tenant`, `triggers`.

### Exemple d’exclusion

L’exemple suivant montre comment exclure des `clients`, des `connexions`, des `base de données` et des `organizations` de la gestion par l’outil Deploy CLI.

```json lines
{
  "AUTH0_DOMAIN": "example-site.us.auth0.com",
  "AUTH0_CLIENT_ID": "<YOUR_AUTH0_CLIENT_ID>",
  "AUTH0_EXCLUDED": ["clients", "connections", "databases", "organizations"]
}
```

### Exemple d’inclusion

L’exemple suivant montre comment indiquer de ne gérer que des `actions`, des `clients` et des`connexions` avec l’outil Deploy CLI.

```json lines
{
  "AUTH0_DOMAIN": "example-site.us.auth0.com",
  "AUTH0_CLIENT_ID": "<YOUR_AUTH0_CLIENT_ID>",
  "AUTH0_INCLUDED_ONLY": ["actions", "clients", "connections"]
}
```

## Exclure des ressources individuelles par identifiant

Certains types de ressources permettent d’exclure des ressources individuelles par leur identifiant. Ceci est utile si vous travaillez dans un contexte multi-environnement et que vous souhaitez omettre une ressource spécifique à la production dans vos environnements de niveau inférieur.

Cette méthode est prise en charge pour les règles, les clients, les bases de données, les connexions et les serveurs de ressources avec les valeurs de configuration `AUTH0_EXCLUDED_RULES`, `AUTH0_EXCLUDED_CLIENTS`, `AUTH0_EXCLUDED_DATABASES`, `AUTH0_EXCLUDED_CONNECTIONS`, `AUTH0_EXCLUDED_RESOURCE_SERVERS` respectivement.

### Exemple

```json lines
{
  "AUTH0_DOMAIN": "example-site.us.auth0.com",
  "AUTH0_CLIENT_ID": "<YOUR_AUTH0_CLIENT_ID>",
  "AUTH0_EXCLUDED_CLIENTS": ["Your Application Name"],
  "AUTH0_EXCLUDED_CONNECTIONS": ["con_O1H3KyRMFP1IWRq3", "con_9avEYuj19ihqKBOs"]
}
```

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

La capacité à exclure les ressources par ID risque de devenir potentiellement obsolète dans les versions majeures à venir. Pour plus de détails, voir la [proposition d’exclusion de ressources](https://github.com/auth0/auth0-deploy-cli/blob/6381ce6efa8cd59e7a5c8d37e8915b0989d677b9/docs/excluding-from-management.md?plain=1#L51).

</Callout>

## Omission et états vides

En plus de l’exclusion des ressources, qui ignore les configurations de manière forcée et bidirectionnelle, l’outil Auth0 Deploy CLI prend en charge deux concepts similaires : l’omission et les états vides.

### Omission

La configuration d’une ressource absente, intentionnellement ou non, sera ignorée lors de l’importation. Par exemple, si votre configuration de ressources est supprimée, elle sera ignorée lors de l’importation et ne modifiera pas l’état du locataire distant.

Il n’y a pas de concept d’omission pour l’exportation. Sauf exclusion spécifique, toutes les configurations de vos locataires seront écrites dans les fichiers de configuration des ressources.

#### Exemple

```yaml lines
roles: # roles configuration is not omitted
  - name: Admin
    description: Can read and write things
    permissions: []
  - name: Reader
    description: Can only read things
    permissions: []
# The omission of all other configurations means they'll be skipped over
```

### Vide

Configuration de ressource explicitement définie comme vide. Pour les configurations basées sur des ensembles comme les hooks, les organizations et les actions, le fait de définir ces configurations sur un ensemble vide exprime un vidage intentionnel de ces ressources. Il s’agit d’un signal de suppression, à condition que la propriété de configuration de suppression AUTH0_ALLOW_DELETE soit activée. Pour en savoir plus sur cette propriété, consultez [Configurer l’outil Deploy CLI](/docs/fr-ca/deploy-monitor/deploy-cli-tool/configure-the-deploy-cli).

Pour les configurations de ressources non basées sur des ensembles, comme les locataires et les marques, le concept de vide ne s’applique pas et ne déclenchera pas de suppressions ou de retraits.

#### Exemple de vide

```yaml lines
hooks: [] # Empty hooks
connections: [] # Empty connections
tenant: {} # Effectively a no-op, emptiness does not apply to non-set resource config
```

