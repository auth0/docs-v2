---
title: "Personnaliser les pages de l’authentification multifacteur (MFA)"
permalink: "customize-mfa"
'description': "Apprenez à personnaliser les pages d’authentification multifacteur (MFA) qui s’affichent pour les utilisateurs en utilisant les options de marque de la connexion universelle."
'og:title': "Personnaliser les pages de l’authentification multifacteur (MFA)"
'og:description': "Apprenez à personnaliser les pages d’authentification multifacteur (MFA) qui s’affichent pour les utilisateurs en utilisant les options de marque de la connexion universelle."
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/img/share-image.png"
'twitter:title': "Personnaliser les pages de l’authentification multifacteur (MFA)"
'twitter:description': "Apprenez à personnaliser les pages d’authentification multifacteur (MFA) qui s’affichent pour les utilisateurs en utilisant les options de marque de la connexion universelle."
---

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Ces personnalisations ne s’appliquent pas à Duo, qui possède sa propre interface utilisateur.

</Callout>

Vous pouvez personnaliser les pages <Tooltip href="/docs/fr-ca/glossary?term=multifactor-authentication" tip="Authentification multifacteur (MFA)
Processus d’authentification de l’utilisateur qui utilise un facteur en plus du nom d’utilisateur et du mot de passe, tel qu’un code par SMS." cta="Voir le glossaire">MFA</Tooltip> qui s’affichent à vos utilisateurs en ajustant les options d’image de marque de la connexion universelle dans la section [Paramètres de connexion universelle](https://manage.auth0.com/#/login_settings) d’Auth0 Dashboard.

Si vous vous servez de l’expérience de connexion universelle, vous pouvez personnaliser la page à l’aide de ses options de personnalisation du flux.

Vous pouvez également personnaliser le contenu HTML complet pour refléter les exigences spécifiques en matière d’expérience utilisateur de votre organization. Pour en savoir plus, consultez [Options de thème du gadget logiciel MFA](/docs/fr-ca/secure/multi-factor-authentication/customize-mfa/mfa-widget-theme-options).

Avec l’expérience de connexion universelle, la MFA est présentée de manière encore plus simple à l’utilisateur. Une fois que l’utilisateur a saisi ses informations d’identification pour se connecter, il est dirigé vers l’écran de l’authentification multifacteur (MFA). Si l’utilisateur n’a pas encore enregistré de facteur MFA, il sera invité à s’enregistrer. Sinon, il sera invité à fournir son identifiant MFA.

## Utilisez l’API MFA

Auth0 fournit une [API MFA](/docs/fr-ca/secure/multi-factor-authentication/multi-factor-authentication-developer-resources/mfa-api) pour les scénarios suivants :

* [Authentifier les utilisateurs avec l’octroi du mot de passe du propriétaire des ressources](/docs/fr-ca/secure/multi-factor-authentication/authenticate-using-ropg-flow-with-mfa).
* Concevoir une interface pour [permettre aux utilisateurs de gérer leurs propres facteurs d’authentification](/docs/fr-ca/secure/multi-factor-authentication/manage-mfa-auth0-apis/manage-authenticator-factors-mfa-api).
* Inviter les utilisateurs à s’inscrire à la MFA en utilisant des [billets d’inscription](/docs/fr-ca/secure/multi-factor-authentication/multi-factor-authentication-developer-resources/create-custom-enrollment-tickets).

Avant que vous ne puissiez utiliser les API MFA, vous devrez activer le type d’autorisation MFA pour votre application. Pour activer l’autorisation MFA dans Auth0 Dashboard :

1. Rendez-vous dans [Tableau de bord > Applications > Applications](https://manage.auth0.com/#/applications) et sélectionnez votre application.
2. Au bas de l’onglet **Settings (Paramètres)** , cliquez sur **Advanced Settings (Paramètres avancés)**.
3. Cliquez sur l’onglet **Grant Types (Types d’autorisation)** et sélectionnez **MFA**.

   <Frame>![Dashboard Applications Applications Advanced Settings Grant Types tab](/images/fr-ca/cdy7uua7fh8z/3knG7flXhvUi0b2yhH0JEp/939a6635a6af4f0e4d8e9ceee9a35fe1/2025-02-26_12-32-42.png)</Frame>

   Pour en savoir plus, consultez [Activer l’authentification multifacteur (MFA)](/docs/fr-ca/secure/multi-factor-authentication/enable-mfa).
4. Cliquez sur **Enregistrer les modifications**.

### Limites

L’API MFA est conçue pour fonctionner avec les SMS, les notifications poussées dans l’application Guardian, les courriels et les facteurs OTP. L’enregistrement avec Duo n’est pas prise en charge.

## Personnalisez la politique MFA avec des Actions

Vous pouvez utiliser des actions pour personnaliser la politique MFA de votre locataire, y compris en exigeant l’authentification multifacteur (MFA) pour les utilisateurs de certaines applications, les utilisateurs avec des métadonnées utilisateur particulières ou des plages d’adresses IP, et plus encore.

Si vous n’êtes pas familier avec la création d’actions, consultez [Créer votre première action](/docs/fr-ca/customize/actions/write-your-first-action).

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Tous les comportements liés à la MFA définis dans les Actions sont prioritaires sur les paramètres de la **politique Définir** configurés dans la section **Authentification multifacteur** du Dashboard.

Pour en savoir plus, consultez [Activer l’authentification multifacteur (MFA)](/docs/fr-ca/secure/multi-factor-authentication/enable-mfa).

</Callout>

Lors de la création d’actions, vous pouvez utiliser le paramètre `provider` pour préciser si vous souhaitez imposer la MFA et quel facteur vous utilisez. Le comportement diffère selon que vous utilisez l’expérience de connexion classique ou l’expérience de connexion universelle :

<table class="table"><thead>
<tr>
<th>Fournisseur</th>
<th>Expérience de connexion classique</th>
<th>Expérience de connexion universelle</th>
</tr>
</thead>
<tbody>
<tr>
<td>tous</td>
<td>Notification poussée, SMS, ou OTP</td>
<td>Notification poussée, SMS, vocal, OTP, courriel, ou clé de sécurité WebAuthN (lorsqu’elle est activée)</td>
</tr>
<tr>
<td>guardian</td>
<td>Notification poussée, SMS, ou OTP</td>
<td>Notification poussée, SMS, OTP, ou courriel</td>
</tr>
<tr>
<td>google-authenticator</td>
<td>Google Authenticator</td>
<td>Notification poussée, SMS, OTP, ou courriel</td>
</tr>
<tr>
<td>duo</td>
<td>Duo</td>
<td>Duo</td>
</tr>
</tbody>
</table>

Si vous utilisez la connexion universelle, vous pouvez obtenir le comportement de l’expérience de connexion classique en activant la personnalisation de la page de connexion MFA.

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Les options `guardian` et `google-authenticator` sont des paramètres anciens qui sont conservés pour des raisons de rétro-compatibilité; il n’est pas conseillé de continuer à les utiliser. Nous recommandons d’utiliser `any` à la place. L’option `google-authenticator` n’autorise pas les utilisateurs à s’inscrire à un code de récupération.

</Callout>

Définir le `provider (fournisseur)` sur une option particulière remplace manuellement les options activés/désactivés dans le tableau de bord. Vous pouvez utiliser l’action suivante pour inciter l’utilisateur à s’enregistrer dans Duo même si d’autres facteurs sont activés dans le tableau de bord :

```js lines
exports.onExecutePostLogin = async (event, api) => {
    // Forcing the provider to Duo programmatically
    api.multifactor.enable('duo')
}
```

## Exemples courants d’utilisation

Voici quelques scénarios courants d’authentification multifacteur (MFA) contextuelle qui peuvent être gérés par des actions.

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Pour vous assurer que votre locataire ne déclenche la MFA que lorsque vous l’exigez explicitement dans vos Actions, définissez la politique MFA par défaut de votre locataire sur **Jamais**.

Pour en savoir plus, lisez la section « Politique » dans [Facteurs d’authentification multifacteur (MFA)](https://auth0.com/docs/secure/multi-factor-authentication/multi-factor-authentication-factors#policies).

</Callout>

### Exiger une authentification multifacteur (MFA) pour des applications spécifiques

Vous pouvez personnaliser l’authentification multifacteur (MFA) pour qu’elle ne se déclenche que lorsque les utilisateurs se connectent à certaines applications.

```js lines
exports.onExecutePostLogin = async (event, api) => {
	const CLIENTS_WITH_MFA = [
		'{yourClientId1}', 
		'{yourClientId2}',
		'{yourClientId3}'
	];

	if (CLIENTS_WITH_MFA.includes(event.client.client_id)) {
		api.multifactor.enable('duo', { allowRememberBrowser: false })
	}
}
```

### Exiger une authentification multifacteur (MFA) pour des utilisateurs spécifiques

Vous pouvez personnaliser l’authentification multifacteur (MFA) pour qu’elle ne se déclenche que pour les utilisateurs désignés pour utiliser la MFA.

```js lines
exports.onExecutePostLogin = async (event, api) => {
  if (event.user.user_metadata && event.user.user_metadata.use_mfa) {
    api.multifactor.enable('duo', { allowRememberBrowser: false });
  }
}
```

### Modifier la fréquence des demandes d’authentification multifacteur (MFA)

Dans certaines situations, vous pourriez ne pas vouloir demander à l’utilisateur d’avoir recours à la MFA chaque fois qu’il se connecte à partir du même navigateur. Vous pouvez modifier ce comportement en utilisant la propriété `allowRememberBrowser` :

```js lines
exports.onExecutePostLogin = async (event, api) => {  
  api.multifactor.enable('any', { allowRememberBrowser: false });
}
```

En fonction de la valeur de la propriété, le comportement sera le suivant :

<table class="table"><thead>
<tr>
<th>Valeur</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>`true`</td>
<td>Lorsque le fournisseur est défini en tant que `google-authenticator` ou `duo`, l’utilisateur est invité à s’inscrire à la MFA une fois tous les 30 jours. Lorsque le fournisseur est défini en tant que `guardian`, l’invite MFA affiche la case à cocher pour l’inscription pour que les utilisateurs choisissent de s’inscrire ou non. La valeur par défaut est `false`. Pour en savoir plus, lisez <a href="https://auth0.com/docs/secure/multi-factor-authentication/customize-mfa ">Personnaliser les pages de l’authentification multifacteur (MFA) </a></td>
</tr>
<tr>
<td>`false`</td>
<td>L’utilisateur est invité à s’inscrire au programme MFA à chaque fois qu’il s’authentifie.</td>
</tr>
</tbody>
</table>

Les valeurs temporelles sont destinées aux utilisateurs actifs. Si un utilisateur est inactif pendant une période de sept jours ou plus, son témoin expirera et il sera invité à effectuer une MFA lors de sa prochaine tentative de connexion (peu importe si `allowRememberBrowser` est défini sur `true` et qu’il ne s’est pas écoulé 30 jours depuis sa dernière invite MFA).

Lorsque vous permettez à l’utilisateur d’ignorer la MFA, un témoin est stocké dans le navigateur de l’utilisateur. Si le témoin est défini pour l’utilisateur mais que vous souhaitez toujours exiger la MFA, vous disposez de deux options :

* Définissez `allowRememberBrowser` sur `false`
* Définissez `acr_values` sur `http://schemas.openid.net/pape/policies/2007/06/multi-factor` lors de l’appel du point de terminaison `/authorize` .

Dans les cas où un utilisateur perd un appareil de confiance, vous pouvez demander à cet utilisateur de fournir une MFA lors de sa prochaine connexion en appelant le point de terminaison [Invalider la mémorisation du navigateur](https://auth0.com/docs/api/management/v2#!/Users/post_invalidate_remember_browser) d’Auth0 Management API.

### Exiger une authentification multifacteur (MFA) pour les utilisateurs en dehors du réseau

En supposant que l’accès au réseau spécifié des adresses IP internes soit bien contrôlé, vous pouvez également demander à Auth0 d’exiger la MFA uniquement pour les utilisateurs dont les requêtes proviennent de l’extérieur du réseau d’entreprise :

```js lines
exports.onExecutePostLogin = async (event, api) => {
  const ipaddr = require('ipaddr.js@1.9.0');
  const corp_network = '192.168.1.134/26';
  const current_ip = ipaddr.parse(event.request.ip);

  if (!current_ip.match(ipaddr.parseCIDR(corp_network))) {
    api.multifactor.enable('any', {allowRememberBrowser: false});
  }
}
```

### Contourner l’authentification multifacteur (MFA) pour les demandes de jetons d’actualisation

Si vos utilisateurs signalent des déconnexions fréquentes, il est possible que vous ayez besoin de contourner les demandes de jetons d’actualisation lors de l’utilisation de la MFA. Vous pouvez modifier le comportement par défaut à l’aide d’un filtre Action sur la propriété d’objet `event.transaction.protocol`.

```js lines
exports.onExecutePostLogin = async (event, api) => {
  if (event.transaction.protocol !== 'oauth2-refresh-token') {
    // MFA-related commands here
    api.multifactor.enable('any');
  }
};
```

Pour en savoir plus sur l’objet `event` de l’action, consultez [Déclencheurs d’Actions : post-connexion – Objet d’événement](/docs/fr-ca/customize/actions/explore-triggers/signup-and-login-triggers/login-trigger/post-login-event-object).

## En savoir plus

* [Personnaliser l’authentification multifacteur (MFA) pour la connexion classique](/docs/fr-ca/secure/multi-factor-authentication/customize-mfa/customize-mfa-classic-login)
* [Authentifier par un flux de mot de passe du propriétaire de ressource avec MFA](/docs/fr-ca/secure/multi-factor-authentication/authenticate-using-ropg-flow-with-mfa)
* [API MFA Auth0](/docs/fr-ca/secure/multi-factor-authentication/multi-factor-authentication-developer-resources/mfa-api)
* [Gérer les facteurs d’authentification avec l’Authentication API](/docs/fr-ca/secure/multi-factor-authentication/manage-mfa-auth0-apis/manage-authenticator-factors-mfa-api)
* [Options de thème du widget MFA](/docs/fr-ca/secure/multi-factor-authentication/customize-mfa/mfa-widget-theme-options)
* [Dictionnaire de langue de thème MFA](/docs/fr-ca/secure/multi-factor-authentication/customize-mfa/mfa-theme-language-dictionary)