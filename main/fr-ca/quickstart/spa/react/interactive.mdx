---
title: "Ajouter une fonctionnalité de connexion à votre application React"
permalink: "interactive"
'description': "Ce guide explique comment intégrer Auth0 à n’importe quelle application React, nouvelle ou ancienne, à l’aide du SDK React Auth0."
'og:title': "Ajouter une fonctionnalité de connexion à votre application React"
'og:description': "Ce guide explique comment intégrer Auth0 à n’importe quelle application React, nouvelle ou ancienne, à l’aide du SDK React Auth0."
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/media/platforms/react.png"
'twitter:title': "Ajouter une fonctionnalité de connexion à votre application React"
'twitter:description': "Ce guide explique comment intégrer Auth0 à n’importe quelle application React, nouvelle ou ancienne, à l’aide du SDK React Auth0."
sidebarTitle: React
---

import { Recipe, Content, Section, SideMenu, SideMenuSectionItem, SignUpForm } from "/snippets/recipe.jsx";
import { LoggedInForm } from "/snippets/Login.jsx";
import Index from "/snippets/quickstart/spa/react/index.mdx";
import Login from "/snippets/quickstart/spa/react/login.mdx";
import Logout from "/snippets/quickstart/spa/react/logout.mdx";
import Profile from "/snippets/quickstart/spa/react/profile.mdx";

export const sections = [
  { id: "configuration-d-auth0", title: "Configuration d’Auth0" },
  { id: "installer-la-trousse-sdk-auth0-react", title: "Installer la trousse SDK Auth0 React" },
  { id: "ajouter-une-fonctionnalité-de-connexion-à-votre-application", title: "Ajouter une fonctionnalité de connexion à votre application" },
  { id: "ajouter-une-fonctionnalité-de-déconnexion-à-votre-application", title: "Ajouter une fonctionnalité de déconnexion à votre application" },
  { id: "afficher-les-informations-du-profil-utilisateur", title: "Afficher les informations du profil utilisateur" }
]

<Recipe>
  <Content>
    Auth0 vous permet d’ajouter rapidement l’authentification à presque tous les types d’application. Ce guide explique comment intégrer Auth0, ajouter l’authentification et afficher les informations de profil utilisateur dans n’importe quelle application React à l’aide du SDK React Auth0.

    Pour utiliser ce guide rapide, vous devez :

    - Vous inscrire à un compte Auth0 gratuit ou vous connecter à Auth0.
    - Disposer d’un projet React fonctionnel avec lequel vous souhaitez vous intégrer. Vous pouvez également consulter ou télécharger une application faisant office d’exemple lorsque vous vous connectez.

    <Info>
    Consultez le guide [React Authentication By Example (Authentification React par l’exemple)](https://developer.auth0.com/resources/guides/spa/react/basic-authentication) pour un examen approfondi de l’implémentation de l’authentification des utilisateurs dans React. Ce guide fournit des détails supplémentaires sur la façon de créer un bouton d’inscription, d’ajouter des protections de routage en utilisant React Router, et d’appeler une API protégée à partir de React.
    </Info>

      <Section id={sections[0].id} title={sections[0].title} stepNumber="1">
      Pour utiliser les services Auth0, vous devez avoir une application installée dans Auth0 Dashboard. L’application Auth0 est l’endroit où vous allez configurer le fonctionnement de l’authentification pour le projet que vous développez.

      ### Configurer une application

      Utilisez le sélecteur interactif pour créer une nouvelle application Auth0 ou sélectionner une application existante qui représente le projet avec lequel vous souhaitez effectuer l’intégration. Dans Auth0, il est attribué à chaque application un identifiant client unique alphanumérique que votre code d’application utilisera pour appeler les API Auth0 via la trousse SDK.

      Tous les paramètres que vous configurez à l’aide de ce guide rapide seront automatiquement mis à jour pour votre application dans le [Dashboard](https://manage.auth0.com/#/), qui est l’endroit où vous pourrez gérer vos applications à l’avenir.

      Si vous préférez explorer une configuration complète, consultez plutôt un exemple d’application.

      ### Configuration des URL de rappel

      Une URL de rappel est une URL intégrée dans votre application vers laquelle vous souhaitez qu’Auth0 redirige les utilisateurs après leur authentification. Si elle n’est pas définie, les utilisateurs ne seront pas redirigés vers votre application après s’être connectés.

      <Info>
      Si vous suivez notre exemple de projet, définissez cette URL comme suit : `http://localhost:3000`.
      </Info>

      ### Configuration des URL de déconnexion

      Une URL de déconnexion est une URL intégrée dans votre application vers laquelle vous souhaitez qu’Auth0 redirige les utilisateurs après leur déconnexion. Si elle n’est pas définie, les utilisateurs ne pourront pas se déconnecter de votre application et recevront un message d’erreur.

      <Info>
      Si vous suivez notre exemple de projet, définissez cette URL comme suit : `http://localhost:3000`.
      </Info>

      ### Configurer les origines Web autorisées

      Une origine Web autorisée est une URL que vous souhaitez autoriser à accéder à votre flux d’authentification. Elle doit contenir l’URL de votre projet. Si elle n’est pas configurée adéquatement, votre projet ne pourra pas actualiser silencieusement les jetons d’authentification, ce qui entraînera la déconnexion de vos utilisateurs lorsque prochainement ils visiteront votre application ou lors de l’actualisation d’une page.

      <Info>
      Si vous suivez notre exemple de projet, définissez cette URL comme suit : `http://localhost:3000`.
      </Info>
      </Section>

      <Section id={sections[1].id} title={sections[1].title} stepNumber="2">
      Auth0 propose une [trousse SDK React](https://github.com/auth0/auth0-react) (auth0-react.js) pour simplifier le processus de mise en œuvre de l’authentification et de l’autorisation Auth0 dans les applications React.

      Installez la trousse SDK React Auth0 en exécutant les commandes suivantes dans votre terminal :

      ```
      cd <your-project-directory>
      npm install @auth0/auth0-react
      ```

      ### Configurer le composant Auth0Provider

      Pour que la trousse SDK fonctionne adéquatement, définissez les propriétés suivantes dans le composant Auth0Provider :

      - `domain`: Le domaine de votre locataire Auth0. En général, il figure dans Auth0 Dashboard dans vos paramètres d’application dans le champ Domaine. Si vous utilisez un [domaine personnalisé](https://auth0.com/docs/custom-domains), définissez-le plutôt sur la valeur de votre domaine personnalisé.
      - `clientId`: L’identifiant de l’application Auth0 que vous avez configuré précédemment dans ce guide rapide. Il se trouve sur Auth0 Dashboard, dans la section Paramètres de l’application, dans le champ Identifiant client.
      - `authorizationParams.redirect_uri`: L’URL dans votre application vers laquelle vous souhaitez qu’Auth0 redirige les utilisateurs après leur authentification. Cela correspond à l’URL de rappel que vous avez configurée précédemment dans ce guide de démarrage rapide. Cette valeur se trouve également dans Auth0 Dashboard, dans les paramètres de votre application, dans le champ URL de rappel. Assurez-vous que les informations que vous saisissez dans votre code correspondent à celles qui ont été configurées précédemment. Dans le cas contraire, vos utilisateurs verront un message d’erreur.

      <Note>
      ##### Point de contrôle
      Votre composant Auth0Provider devrait maintenant être correctement configuré. Exécutez votre application pour vérifier que:
      - la trousse SDK s’initialise correctement,
      - votre application ne génère aucune erreur liée à Auth0.
      </Note>
      </Section>

      <Section id={sections[2].id} title={sections[2].title} stepNumber="3">
      À présent que vous avez configuré votre application Auth0 et la trousse SDK Auth0 React, vous devez configurer la connexion pour votre projet. Pour ce faire, vous utiliserez la méthode loginWithRedirect() de la trousse SDK pour créer un bouton de connexion qui redirige les utilisateurs vers la page de connexion universelle Auth0. Une fois un utilisateur authentifié avec succès, il est redirigé vers l’URL de rappel que vous avez configurée précédemment dans ce Démarrage rapide.

      <Info>
      Ce guide se concentre sur l’utilisation du hook React personnalisé `useAuth0()`. Si vous utilisez des composants de classe, consultez [le composant de niveau supérieur`withAuth0()`](https://github.com/auth0/auth0-react/blob/master/EXAMPLES.md#use-with-a-class-component).
      </Info>

      Créez un nouveau fichier dans votre application appelé `login.js` pour le composant du bouton de connexion, et copiez le code du panneau interactif à droite, qui contient la logique nécessaire à la connexion. Ensuite, mettez à jour votre fichier `index.js` pour y intégrer le nouveau bouton de connexion.

      <Note>
      ##### Point de contrôle
      Vous devez désormais pouvoir vous connecter ou vous inscrire en utilisant un nom d’utilisateur et un mot de passe.
      
      Appuyez sur le bouton de connexion et vérifiez que:
      - Votre application React vous redirige vers la page de connexion universelle Auth0.
      - Vous pouvez vous connecter ou vous inscrire.
      - Auth0 vous redirige vers votre application en utilisant la valeur `authorizationParams.redirect\_uri` que vous avez utilisée pour configurer `Auth0Provider.`.
      </Note>
      </Section>

      <Section id={sections[3].id} title={sections[3].title} stepNumber="4">
      Les utilisateurs qui se connectent à votre projet auront également besoin d’un moyen de se déconnecter. Créez un bouton de déconnexion en utilisant la méthode Logout() de la trousse SDK. Lorsque les utilisateurs se déconnecteront, ils seront redirigés vers votre point de terminaison [Auth0 logout](https://auth0.com/docs/api/authentication?javascript#logout) qui par la suite les redirigera immédiatement vers l’URL de déconnexion que vous avez configurée précédemment dans ce guide de démarrage rapide.

      Créez un nouveau fichier dans votre application appelé `logout.js` pour le composant du bouton de déconnexion, et copiez le code du panneau interactif, qui contient la logique nécessaire à la déconnexion. Ensuite, mettez à jour votre fichier `index.js` pour y intégrer le nouveau bouton de déconnexion.

      <Note>
      ##### Point de contrôle
      Exécutez votre application et cliquez sur le bouton de déconnexion, vérifiez que:
      - Votre application React vous redirige vers l’adresse que vous avez précisée comme l’une des URL de déconnexion autorisées dans les paramètres de votre application.
      - Vous n’êtes plus connecté à votre application.
      </Note>
      </Section>

      <Section id={sections[4].id} title={sections[4].title} stepNumber="5">
      Vu que vos utilisateurs peuvent désormais se connecter et se déconnecter, vous voudrez probablement pouvoir récupérer les [informations de profil](https://auth0.com/docs/users/concepts/overview-user-profile) associées aux utilisateurs authentifiés. Par exemple, vous voudrez peut-être pouvoir afficher le nom ou la photo de profil d’un utilisateur connecté dans votre projet.

      La trousse SDK React Auth0 fournit des informations sur l’utilisateur par l’intermédiaire de la propriété `user`. Examinez le code `profile.js` dans le panneau interactif pour voir un exemple de la façon de l’utiliser.

      Étant donné que la propriété `user` contient des informations sensibles liées à l’identité de l’utilisateur, sa disponibilité dépend de l’état d’authentification de l’utilisateur. Pour éviter les erreurs de rendu, vous devez toujours :

      - Utilisez la propriété `isAuthenticated` pour déterminer si Auth0 a authentifié l’utilisateur avant que React ne rende un composant qui consomme la propriété `user`.
      - Assurez-vous que la trousse SDK a fini de se charger en vérifiant que `isLoading` est faux avant d’accéder à la propriété `isAuthenticated`.

      <Frame>![null](/images/fr-ca/cdy7uua7fh8z/5Lp4Zahxd2v6wSJmy9JaM4/2fc68529fe5299c1fc514e3f28a8c998/Login_Screen_-_French.png)</Frame>
      
      <Note>
      ##### Point de contrôle
      Vérifiez que:
      - Vous pouvez afficher `user.name` ou toute autre propriété de l’utilisateur dans un composant correctement, après vous être connecté.
      </Note>
      </Section>

    ## Étapes suivantes

    Beau travail! Si vous en êtes arrivé là, vous devriez avoir la connexion, la déconnexion et les informations de profil utilisateur actives dans votre application.

    Cela conclut notre tutoriel de démarrage rapide, mais il y a tellement plus à explorer. Pour en savoir plus sur ce que vous pouvez faire avec Auth0, consultez :

    *   [Auth0 Dashboard](https://manage.auth0.com/#) : apprenez à configurer et gérer votre locataire et vos applications Auth0
    *   [Trousse SDK auth0-react](https://www.github.com/auth0/auth0-react/) : explorez en détail la trousse SDK utilisée dans ce tutoriel
    *   [Auth0 Marketplace](https://marketplace.auth0.com/) : découvrez des intégrations que vous pouvez activer pour étendre les fonctionnalités d’Auth0
  </Content>

  <SideMenu sections={sections}>
      <SideMenuSectionItem id={sections[0].id}>
        <SignUpForm lang="fr"/>
      </SideMenuSectionItem>

      <SideMenuSectionItem id={sections[1].id}>
        <CodeGroup>
          <Index/>
          <Login/>
          <Logout/>
          <Profile/>
        </CodeGroup>
      </SideMenuSectionItem>

      <SideMenuSectionItem id={sections[2].id}>
        <CodeGroup>
          <Login/>
          <Index/>
          <Logout/>
          <Profile/>
        </CodeGroup>
      </SideMenuSectionItem>

      <SideMenuSectionItem id={sections[3].id}>
        <CodeGroup>
          <Logout/>
          <Index/>
          <Login/>
          <Profile/>
        </CodeGroup>
      </SideMenuSectionItem>

      <SideMenuSectionItem id={sections[4].id}>
        <CodeGroup>
          <Profile/>
          <Index/>
          <Login/>
          <Logout/>
        </CodeGroup>
      </SideMenuSectionItem>

    </SideMenu>
</Recipe>
