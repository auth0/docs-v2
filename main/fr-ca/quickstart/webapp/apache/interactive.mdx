---
title: "Apache"
permalink: "interactive"
'description': "Ce tutoriel montre comment configurer Apache pour ajouter l’authentification et l’autorisation à votre application web."
'og:title': "Apache"
'og:description': "Ce tutoriel montre comment configurer Apache pour ajouter l’authentification et l’autorisation à votre application web."
'og:image': "https://cdn2.auth0.com/docs/1.14567.0/media/platforms/apache.jpg"
'twitter:title': "Apache"
'twitter:description': "Ce tutoriel montre comment configurer Apache pour ajouter l’authentification et l’autorisation à votre application web."
---

import { Recipe, Content, Section, SideMenu, SideMenuSectionItem, SignUpForm } from "/snippets/recipe.jsx"
import Code1 from "/snippets/quickstart/webapp/apache/code1.mdx"
import Code2 from "/snippets/quickstart/webapp/apache/code2.mdx"

export const sections = [
  { id: "configuration-requise", title: "Configuration requise" },
  { id: "installer-et-activer-le-module-mod-auth-openidc", title: "Installer et activer le module mod_auth_openidc" },
  { id: "configurer-le-module-avec-les-informations-de-votre-compte-auth0", title: "Configurer le module avec les informations de votre compte Auth0" },
  { id: "configuration-d-auth0", title: "Configuration d’Auth0" },
  { id: "autorisation", title: "Autorisation" }
]

<Recipe>
  <Content>
    Ce tutoriel montre comment configurer Apache pour ajouter l’authentification et l’autorisation à votre application web. Nous vous recommandons de vous connecter pour suivre ce démarrage rapide avec les exemples configurés pour votre compte.

      <Section id={sections[0].id} title={sections[0].title} stepNumber="1">
      Ce tutoriel et le projet d’exemple ont été testés avec les éléments suivants :

      - Apache 2.4
      </Section>

      <Section id={sections[1].id} title={sections[1].title} stepNumber="2">
      Tout d’abord, installez le module `mod_auth_openidc` pour Apache.

      Vous pouvez obtenir les binaires sur [GitHub](https://github.com/zmartzone/mod_auth_openidc/releases) et les installer pour votre système d’exploitation. Si votre système d’exploitation n’est pas compatible avec les binaires, vous pouvez toujours le [build it from source (construire à partir de la source)](https://github.com/zmartzone/mod_auth_openidc/blob/master/INSTALL).

      Une fois le module installé, activez-le pour Apache avec la commande `a2enmod`. Pour en savoir plus, veuillez consulter la page [a2enmod on Ubuntu Manpage](https://manpages.ubuntu.com/manpages/focal/man8/a2enmod.8.html) :

      `a2enmod auth_openidc`

      <Info>
      Pour Windows, vous pouvez utiliser [ce script Powershell](https://github.com/enderandpeter/win-a2enmod#installation) pour faire fonctionner `a2enmod` sur votre système.
      </Info>
      </Section>

      <Section id={sections[2].id} title={sections[2].title} stepNumber="3">
      Mettez à jour votre nouveau fichier de configuration (`auth_openidc.conf`), présent dans le dossier `/etc/apache2/mods-available`.

      <Info>
      Pour Windows, vous devez utiliser le fichier `/apache/conf/httpd.conf`.
      </Info>
      </Section>

      <Section id={sections[3].id} title={sections[3].title} stepNumber="4">
      Dans Auth0 Dashboard :

      1. Accédez à **Applications** > **Applications**, puis sélectionnez votre application dans la liste.
      2. Passez à l’affichage **Settings (Paramètres)**, puis localisez la section **Application URIs** (URI d’application).
      3. Ajoutez la valeur de `OIDCRedirectURI`à **URL de rappel autorisées**.
      4. Localisez **Advanced Settings (Paramètres avancés)** au bas de la page.
      5. Passez à l’affichage **OAuth**.
      6. Définissez **Algorithme de signature du jeton Web JSON (JWT)** sur `RS256`.
      </Section>

      <Section id={sections[4].id} title={sections[4].title} stepNumber="5">
      Vous pouvez configurer Apache pour protéger un emplacement spécifique en fonction de la valeur d’une revendication dans le jeton d’ID de l’utilisateur en ajoutant un bloc `Location` à votre fichier `auth_openidc.conf`.

      Par exemple, vous pouvez créer une Action qui lit les rôles de l’utilisateur, puis ajoute une revendication qui accorde l’accès à un emplacement protégé :

      ```js
      exports.onExecutePostLogin = async (event, api) => {
      const roles = event.authorization.roles; // ['user', 'admin']
      if (roles.includes('admin')) {
      api.idToken.setCustomClaim('folder', 'admin');

      }
      };
      ```
      </Section>

    ## Étapes suivantes

    Beau travail! Si vous en êtes arrivé là, vous devriez avoir la connexion, la déconnexion et les informations de profil utilisateur actives dans votre application.

    Cela conclut notre tutoriel de démarrage rapide, mais il y a tellement plus à explorer. Pour en savoir plus sur ce que vous pouvez faire avec Auth0, consultez :

    *   [Auth0 Dashboard](https://manage.auth0.com/#) : apprenez à configurer et gérer votre locataire et vos applications Auth0
    *   [Auth0 Marketplace](https://marketplace.auth0.com/) : découvrez des intégrations que vous pouvez activer pour étendre les fonctionnalités d’Auth0
  </Content>

  <SideMenu sections={sections}>
      <SideMenuSectionItem id={sections[0].id}>
        <SignUpForm lang="fr"/>
      </SideMenuSectionItem>

      <SideMenuSectionItem id={sections[1].id}>
        <SignUpForm lang="fr"/>
      </SideMenuSectionItem>

      <SideMenuSectionItem id={sections[2].id}>
        <CodeGroup>
          <Code1/>
        </CodeGroup>
      </SideMenuSectionItem>

      <SideMenuSectionItem id={sections[3].id}>
        <SignUpForm lang="fr"/>
      </SideMenuSectionItem>

      <SideMenuSectionItem id={sections[4].id}>
        <CodeGroup>
          <Code2/>
        </CodeGroup>
      </SideMenuSectionItem>

    </SideMenu>
</Recipe>
